

/*===============================
/components/com_community/assets/vendors/libs.min.js
================================================================================*/;
!function o(a,s,u){function c(e,t){if(!s[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[e]={exports:{}};a[e][0].call(i.exports,function(t){return c(a[e][1][t]||t)},i,i.exports,o,a,s,u)}return s[e].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,r,i){!function(t,e){if("function"==typeof define&&define.amd)define(["module","exports"],e);else if(void 0!==i)e(r,i);else{var n={exports:{}};e(n,n.exports),t.autosize=n.exports}}(this,function(t,e){"use strict";var n,r,f="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return-1<n.indexOf(t)},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);-1<e&&(n.splice(e,1),r.splice(e,1))}}),d=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){d=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function i(i){if(i&&i.nodeName&&"TEXTAREA"===i.nodeName&&!f.has(i)){var t,n=null,r=null,o=null,a=function(){i.clientWidth!==r&&l()},s=function(e){window.removeEventListener("resize",a,!1),i.removeEventListener("input",l,!1),i.removeEventListener("keyup",l,!1),i.removeEventListener("autosize:destroy",s,!1),i.removeEventListener("autosize:update",l,!1),Object.keys(e).forEach(function(t){i.style[t]=e[t]}),f.delete(i)}.bind(i,{height:i.style.height,resize:i.style.resize,overflowY:i.style.overflowY,overflowX:i.style.overflowX,wordWrap:i.style.wordWrap});i.addEventListener("autosize:destroy",s,!1),"onpropertychange"in i&&"oninput"in i&&i.addEventListener("keyup",l,!1),window.addEventListener("resize",a,!1),i.addEventListener("input",l,!1),i.addEventListener("autosize:update",l,!1),i.style.overflowX="hidden",i.style.wordWrap="break-word",f.set(i,{destroy:s,update:l}),"vertical"===(t=window.getComputedStyle(i,null)).resize?i.style.resize="none":"both"===t.resize&&(i.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),l()}function u(t){var e=i.style.width;i.style.width="0px",i.offsetWidth,i.style.width=e,i.style.overflowY=t}function c(){if(0!==i.scrollHeight){var t=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(i),e=document.documentElement&&document.documentElement.scrollTop;i.style.height="",i.style.height=i.scrollHeight+n+"px",r=i.clientWidth,t.forEach(function(t){t.node.scrollTop=t.scrollTop}),e&&(document.documentElement.scrollTop=e)}}function l(){c();var t=Math.round(parseFloat(i.style.height)),e=window.getComputedStyle(i,null),n="content-box"===e.boxSizing?Math.round(parseFloat(e.height)):i.offsetHeight;if(n<t?"hidden"===e.overflowY&&(u("scroll"),c(),n="content-box"===e.boxSizing?Math.round(parseFloat(window.getComputedStyle(i,null).height)):i.offsetHeight):"hidden"!==e.overflowY&&(u("hidden"),c(),n="content-box"===e.boxSizing?Math.round(parseFloat(window.getComputedStyle(i,null).height)):i.offsetHeight),o!==n){o=n;var r=d("autosize:resized");try{i.dispatchEvent(r)}catch(t){}}}}function o(t){var e=f.get(t);e&&e.destroy()}function a(t){var e=f.get(t);e&&e.update()}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(t){return t}).destroy=function(t){return t},s.update=function(t){return t}):((s=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return i(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],o),t},s.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],a),t}),e.default=s,t.exports=e.default})},{}],2:[function(Un,Vn,t){var e,n;e=this,n=function(){"use strict";var t,i;function d(){return t.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function u(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function c(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function f(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function v(t,e){for(var n in e)p(e,n)&&(t[n]=e[n]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e,n,r){return Me(t,e,n,r,!0).utc()}function y(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=y(t),n=i.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function _(t){var e=m(NaN);return null!=t?v(y(e),t):y(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var o=d.momentProperties=[];function w(t,e){var n,r,i;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=y(e)),c(e._locale)||(t._locale=e._locale),0<o.length)for(n=0;n<o.length;n++)c(i=e[r=o[n]])||(t[r]=i);return t}var e=!1;function b(t){w(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,d.updateOffset(this),e=!1)}function k(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function S(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function x(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=S(e)),n}function a(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&x(t[r])!==x(e[r]))&&a++;return a+o}function O(t){!1===d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function n(i,o){var a=!0;return v(function(){if(null!=d.deprecationHandler&&d.deprecationHandler(null,i),a){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var r in t+="\n["+n+"] ",arguments[0])t+=r+": "+arguments[0][r]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}O(i+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),a=!1}return o.apply(this,arguments)},o)}var r,M={};function T(t,e){null!=d.deprecationHandler&&d.deprecationHandler(t,e),M[t]||(O(e),M[t]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t,e){var n,r=v({},t);for(n in e)p(e,n)&&(u(t[n])&&u(e[n])?(r[n]={},v(r[n],t[n]),v(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)p(t,n)&&!p(e,n)&&u(t[n])&&(r[n]=v({},r[n]));return r}function A(t){null!=t&&this.set(t)}d.suppressDeprecationWarnings=!1,d.deprecationHandler=null,r=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)p(t,e)&&n.push(e);return n};var $={};function j(t,e){var n=t.toLowerCase();$[n]=$[n+"s"]=$[e]=t}function E(t){return"string"==typeof t?$[t]||$[t.toLowerCase()]:void 0}function Y(t){var e,n,r={};for(n in t)p(t,n)&&(e=E(n))&&(r[e]=t[n]);return r}var N={};function P(t,e){N[t]=e}function L(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},H={};function W(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(H[t]=i),e&&(H[e[0]]=function(){return L(i.apply(this,arguments),e[1],e[2])}),n&&(H[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function U(t,e){return t.isValid()?(e=V(e,t.localeData()),R[e]=R[e]||function(r){var t,i,e,o=r.match(F);for(t=0,i=o.length;t<i;t++)H[o[t]]?o[t]=H[o[t]]:o[t]=(e=o[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<i;e++)n+=C(o[e])?o[e].call(t,r):o[e];return n}}(e),R[e](t)):t.localeData().invalidDate()}function V(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(I.lastIndex=0;0<=n&&I.test(t);)t=t.replace(I,r),I.lastIndex=0,n-=1;return t}var G=/\d/,z=/\d\d/,B=/\d{3}/,J=/\d{4}/,Z=/[+-]?\d{6}/,q=/\d\d?/,K=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,Q=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,it=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,st={};function ut(t,n,r){st[t]=C(n)?n:function(t,e){return t&&r?r:n}}function ct(t,e){return p(st,t)?st[t](e._strict,e._locale):new RegExp(lt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})))}function lt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function dt(t,n){var e,r=n;for("string"==typeof t&&(t=[t]),l(n)&&(r=function(t,e){e[n]=x(t)}),e=0;e<t.length;e++)ft[t[e]]=r}function ht(t,i){dt(t,function(t,e,n,r){n._w=n._w||{},i(t,n._w,n,r)})}var pt=0,vt=1,mt=2,yt=3,gt=4,_t=5,wt=6,bt=7,kt=8;function St(t){return xt(t)?366:365}function xt(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),j("year","y"),P("year",1),ut("Y",rt),ut("YY",q,z),ut("YYYY",tt,J),ut("YYYYY",et,Z),ut("YYYYYY",et,Z),dt(["YYYYY","YYYYYY"],pt),dt("YYYY",function(t,e){e[pt]=2===t.length?d.parseTwoDigitYear(t):x(t)}),dt("YY",function(t,e){e[pt]=d.parseTwoDigitYear(t)}),dt("Y",function(t,e){e[pt]=parseInt(t,10)}),d.parseTwoDigitYear=function(t){return x(t)+(68<x(t)?1900:2e3)};var Ot,Mt=Tt("FullYear",!0);function Tt(e,n){return function(t){return null!=t?(Dt(this,e,t),d.updateOffset(this,n),this):Ct(this,e)}}function Ct(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Dt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&xt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),At(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function At(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?xt(t)?29:28:31-r%7%2}Ot=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),j("month","M"),P("month",8),ut("M",q),ut("MM",q,z),ut("MMM",function(t,e){return e.monthsShortRegex(t)}),ut("MMMM",function(t,e){return e.monthsRegex(t)}),dt(["M","MM"],function(t,e){e[vt]=x(t)-1}),dt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[vt]=i:y(n).invalidMonth=t});var $t=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Yt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=x(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),At(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Nt(t){return null!=t?(Yt(this,t),d.updateOffset(this,!0),this):Ct(this,"Month")}var Pt=at;var Lt=at;function Ft(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=m([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=lt(r[e]),i[e]=lt(i[e]);for(e=0;e<24;e++)o[e]=lt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function It(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Rt(t,e,n){var r=7+e-n;return-((7+It(t,0,r).getUTCDay()-e)%7)+r-1}function Ht(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+Rt(t,r,i);return s<=0?a=St(o=t-1)+s:s>St(t)?(o=t+1,a=s-St(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Wt(t,e,n){var r,i,o=Rt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+Ut(i=t.year()-1,e,n):a>Ut(t.year(),e,n)?(r=a-Ut(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Ut(t,e,n){var r=Rt(t,e,n),i=Rt(t+1,e,n);return(St(t)-r+i)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),P("week",5),P("isoWeek",5),ut("w",q),ut("ww",q,z),ut("W",q),ut("WW",q,z),ht(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=x(t)});W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),P("day",11),P("weekday",11),P("isoWeekday",11),ut("d",q),ut("e",q),ut("E",q),ut("dd",function(t,e){return e.weekdaysMinRegex(t)}),ut("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ut("dddd",function(t,e){return e.weekdaysRegex(t)}),ht(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:y(n).invalidWeekday=t}),ht(["d","e","E"],function(t,e,n,r){e[r]=x(t)});var Vt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Gt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Bt=at;var Jt=at;var Zt=at;function qt(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=m([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(t),s.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)s[e]=lt(s[e]),u[e]=lt(u[e]),c[e]=lt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Xt(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Qt(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Kt),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+Kt.apply(this)+L(this.minutes(),2)}),W("hmmss",0,0,function(){return""+Kt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),Xt("a",!0),Xt("A",!1),j("hour","h"),P("hour",13),ut("a",Qt),ut("A",Qt),ut("H",q),ut("h",q),ut("k",q),ut("HH",q,z),ut("hh",q,z),ut("kk",q,z),ut("hmm",K),ut("hmmss",X),ut("Hmm",K),ut("Hmmss",X),dt(["H","HH"],yt),dt(["k","kk"],function(t,e,n){var r=x(t);e[yt]=24===r?0:r}),dt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),dt(["h","hh"],function(t,e,n){e[yt]=x(t),y(n).bigHour=!0}),dt("hmm",function(t,e,n){var r=t.length-2;e[yt]=x(t.substr(0,r)),e[gt]=x(t.substr(r)),y(n).bigHour=!0}),dt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[yt]=x(t.substr(0,r)),e[gt]=x(t.substr(r,2)),e[_t]=x(t.substr(i)),y(n).bigHour=!0}),dt("Hmm",function(t,e,n){var r=t.length-2;e[yt]=x(t.substr(0,r)),e[gt]=x(t.substr(r))}),dt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[yt]=x(t.substr(0,r)),e[gt]=x(t.substr(r,2)),e[_t]=x(t.substr(i))});var te,ee=Tt("Hours",!0),ne={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:jt,monthsShort:Et,week:{dow:0,doy:6},weekdays:Vt,weekdaysMin:zt,weekdaysShort:Gt,meridiemParse:/[ap]\.?m?\.?/i},re={},ie={};function oe(t){return t?t.toLowerCase().replace("_","-"):t}function ae(t){var e=null;if(!re[t]&&void 0!==Vn&&Vn&&Vn.exports)try{e=te._abbr,Un("./locale/"+t),se(e)}catch(t){}return re[t]}function se(t,e){var n;return t&&((n=c(e)?ce(t):ue(t,e))?te=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),te._abbr}function ue(t,e){if(null!==e){var n,r=ne;if(e.abbr=t,null!=re[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=re[t]._config;else if(null!=e.parentLocale)if(null!=re[e.parentLocale])r=re[e.parentLocale]._config;else{if(null==(n=ae(e.parentLocale)))return ie[e.parentLocale]||(ie[e.parentLocale]=[]),ie[e.parentLocale].push({name:t,config:e}),null;r=n._config}return re[t]=new A(D(r,e)),ie[t]&&ie[t].forEach(function(t){ue(t.name,t.config)}),se(t),re[t]}return delete re[t],null}function ce(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return te;if(!s(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=oe(t[o]).split("-")).length,n=(n=oe(t[o+1]))?n.split("-"):null;0<e;){if(r=ae(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&a(i,n,!0)>=e-1)break;e--}o++}return te}(t)}function le(t){var e,n=t._a;return n&&-2===y(t).overflow&&(e=n[vt]<0||11<n[vt]?vt:n[mt]<1||n[mt]>At(n[pt],n[vt])?mt:n[yt]<0||24<n[yt]||24===n[yt]&&(0!==n[gt]||0!==n[_t]||0!==n[wt])?yt:n[gt]<0||59<n[gt]?gt:n[_t]<0||59<n[_t]?_t:n[wt]<0||999<n[wt]?wt:-1,y(t)._overflowDayOfYear&&(e<pt||mt<e)&&(e=mt),y(t)._overflowWeeks&&-1===e&&(e=bt),y(t)._overflowWeekday&&-1===e&&(e=kt),y(t).overflow=e),t}function fe(t,e,n){return null!=t?t:null!=e?e:n}function de(t){var e,n,r,i,o,a=[];if(!t._d){var s,u;for(s=t,u=new Date(d.now()),r=s._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],t._w&&null==t._a[mt]&&null==t._a[vt]&&function(t){var e,n,r,i,o,a,s,u;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=fe(e.GG,t._a[pt],Wt(Te(),1,4).year),r=fe(e.W,1),((i=fe(e.E,1))<1||7<i)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var c=Wt(Te(),o,a);n=fe(e.gg,t._a[pt],c.year),r=fe(e.w,c.week),null!=e.d?((i=e.d)<0||6<i)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||6<e.e)&&(u=!0)):i=o}r<1||r>Ut(n,o,a)?y(t)._overflowWeeks=!0:null!=u?y(t)._overflowWeekday=!0:(s=Ht(n,r,i,o,a),t._a[pt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=fe(t._a[pt],r[pt]),(t._dayOfYear>St(o)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),n=It(o,0,t._dayOfYear),t._a[vt]=n.getUTCMonth(),t._a[mt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[yt]&&0===t._a[gt]&&0===t._a[_t]&&0===t._a[wt]&&(t._nextDay=!0,t._a[yt]=0),t._d=(t._useUTC?It:function(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&0<=t&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,a),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[yt]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(y(t).weekdayMismatch=!0)}}var he=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/Z|[+-]\d\d(?::?\d\d)?/,me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ye=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function _e(t){var e,n,r,i,o,a,s=t._i,u=he.exec(s)||pe.exec(s);if(u){for(y(t).iso=!0,e=0,n=me.length;e<n;e++)if(me[e][1].exec(u[1])){i=me[e][0],r=!1!==me[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=ye.length;e<n;e++)if(ye[e][1].exec(u[3])){o=(u[2]||" ")+ye[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!ve.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),xe(t)}else t._isValid=!1}var we=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function be(t,e,n,r,i,o){var a=[function(t){var e=parseInt(t,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(t),Et.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}var ke={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Se(t){var e,n,r,i=we.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var o=be(i[4],i[3],i[2],i[5],i[6],i[7]);if(e=i[1],n=o,r=t,e&&Gt.indexOf(e)!==new Date(n[0],n[1],n[2]).getDay()&&(y(r).weekdayMismatch=!0,!(r._isValid=!1)))return;t._a=o,t._tzm=function(t,e,n){if(t)return ke[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(i[8],i[9],i[10]),t._d=It.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),y(t).rfc2822=!0}else t._isValid=!1}function xe(t){if(t._f!==d.ISO_8601)if(t._f!==d.RFC_2822){t._a=[],y(t).empty=!0;var e,n,r,i,o,a,s,u,c=""+t._i,l=c.length,f=0;for(r=V(t._f,t._locale).match(F)||[],e=0;e<r.length;e++)i=r[e],(n=(c.match(ct(i,t))||[])[0])&&(0<(o=c.substr(0,c.indexOf(n))).length&&y(t).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),f+=n.length),H[i]?(n?y(t).empty=!1:y(t).unusedTokens.push(i),a=i,u=t,null!=(s=n)&&p(ft,a)&&ft[a](s,u._a,u,a)):t._strict&&!n&&y(t).unusedTokens.push(i);y(t).charsLeftOver=l-f,0<c.length&&y(t).unusedInput.push(c),t._a[yt]<=12&&!0===y(t).bigHour&&0<t._a[yt]&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[yt]=function(t,e,n){var r;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0)),e)}(t._locale,t._a[yt],t._meridiem),de(t),le(t)}else Se(t);else _e(t)}function Oe(t){var e,n,r,i,o=t._i,a=t._f;return t._locale=t._locale||ce(t._l),null===o||void 0===a&&""===o?_({nullInput:!0}):("string"==typeof o&&(t._i=o=t._locale.preparse(o)),k(o)?new b(le(o)):(f(o)?t._d=o:s(a)?function(t){var e,n,r,i,o;if(0===t._f.length)return y(t).invalidFormat=!0,t._d=new Date(NaN);for(i=0;i<t._f.length;i++)o=0,e=w({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],xe(e),g(e)&&(o+=y(e).charsLeftOver,o+=10*y(e).unusedTokens.length,y(e).score=o,(null==r||o<r)&&(r=o,n=e));v(t,n||e)}(t):a?xe(t):c(n=(e=t)._i)?e._d=new Date(d.now()):f(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(r=e,null===(i=ge.exec(r._i))?(_e(r),!1===r._isValid&&(delete r._isValid,Se(r),!1===r._isValid&&(delete r._isValid,d.createFromInputFallback(r)))):r._d=new Date(+i[1])):s(n)?(e._a=h(n.slice(0),function(t){return parseInt(t,10)}),de(e)):u(n)?function(t){if(!t._d){var e=Y(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),de(t)}}(e):l(n)?e._d=new Date(n):d.createFromInputFallback(e),g(t)||(t._d=null),t))}function Me(t,e,n,r,i){var o,a={};return!0!==n&&!1!==n||(r=n,n=void 0),(u(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||s(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=t,a._f=e,a._strict=r,(o=new b(le(Oe(a))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Te(t,e,n,r){return Me(t,e,n,r,!1)}d.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),d.ISO_8601=function(){},d.RFC_2822=function(){};var Ce=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Te.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),De=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Te.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:_()});function Ae(t,e){var n,r;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return Te();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var $e=["year","quarter","month","week","day","hour","minute","second","millisecond"];function je(t){var e=Y(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Ot.call($e,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<$e.length;++r)if(t[$e[r]]){if(n)return!1;parseFloat(t[$e[r]])!==x(t[$e[r]])&&(n=!0)}return!0}(e),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=ce(),this._bubble()}function Ee(t){return t instanceof je}function Ye(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ne(t,n){W(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+L(~~(t/60),2)+n+L(~~t%60,2)})}Ne("Z",":"),Ne("ZZ",""),ut("Z",ot),ut("ZZ",ot),dt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Le(ot,t)});var Pe=/([\+\-]|\d\d)/gi;function Le(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Pe)||["-",0,0],i=60*r[1]+x(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Fe(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(k(t)||f(t)?t.valueOf():Te(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),d.updateOffset(n,!1),n):Te(t).local()}function Ie(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Re(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}d.updateOffset=function(){};var He=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,We=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ue(t,e){var n,r,i,o=t,a=null;return Ee(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=He.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:x(a[mt])*n,h:x(a[yt])*n,m:x(a[gt])*n,s:x(a[_t])*n,ms:x(Ye(1e3*a[wt]))*n}):(a=We.exec(t))?(n="-"===a[1]?-1:(a[1],1),o={y:Ve(a[2],n),M:Ve(a[3],n),w:Ve(a[4],n),d:Ve(a[5],n),h:Ve(a[6],n),m:Ve(a[7],n),s:Ve(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=Fe(e,t),t.isBefore(e)?n=Ge(t,e):((n=Ge(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Te(o.from),Te(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new je(o),Ee(t)&&p(t,"_locale")&&(r._locale=t._locale),r}function Ve(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ge(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ze(r,i){return function(t,e){var n;return null===e||isNaN(+e)||(T(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Be(this,Ue(t="string"==typeof t?+t:t,e),r),this}}function Be(t,e,n,r){var i=e._milliseconds,o=Ye(e._days),a=Ye(e._months);t.isValid()&&(r=null==r||r,a&&Yt(t,Ct(t,"Month")+a*n),o&&Dt(t,"Date",Ct(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&d.updateOffset(t,o||a))}Ue.fn=je.prototype,Ue.invalid=function(){return Ue(NaN)};var Je=ze(1,"add"),Ze=ze(-1,"subtract");function qe(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Ke(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ce(t))&&(this._locale=e),this)}d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",d.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xe=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Qe(){return this._locale}function tn(t,e){W(0,[t,t.length],0,e)}function en(t,e,n,r,i){var o;return null==t?Wt(this,r,i).year:((o=Ut(t,r,i))<e&&(e=o),function(t,e,n,r,i){var o=Ht(t,e,n,r,i),a=It(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,r,i))}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),P("weekYear",1),P("isoWeekYear",1),ut("G",rt),ut("g",rt),ut("GG",q,z),ut("gg",q,z),ut("GGGG",tt,J),ut("gggg",tt,J),ut("GGGGG",et,Z),ut("ggggg",et,Z),ht(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=x(t)}),ht(["gg","GG"],function(t,e,n,r){e[r]=d.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),j("quarter","Q"),P("quarter",7),ut("Q",G),dt("Q",function(t,e){e[vt]=3*(x(t)-1)}),W("D",["DD",2],"Do","date"),j("date","D"),P("date",9),ut("D",q),ut("DD",q,z),ut("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),dt(["D","DD"],mt),dt("Do",function(t,e){e[mt]=x(t.match(q)[0])});var nn=Tt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),P("dayOfYear",4),ut("DDD",Q),ut("DDDD",B),dt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=x(t)}),W("m",["mm",2],0,"minute"),j("minute","m"),P("minute",14),ut("m",q),ut("mm",q,z),dt(["m","mm"],gt);var rn=Tt("Minutes",!1);W("s",["ss",2],0,"second"),j("second","s"),P("second",15),ut("s",q),ut("ss",q,z),dt(["s","ss"],_t);var on,an=Tt("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),P("millisecond",16),ut("S",Q,G),ut("SS",Q,z),ut("SSS",Q,B),on="SSSS";on.length<=9;on+="S")ut(on,nt);function sn(t,e){e[wt]=x(1e3*("0."+t))}for(on="S";on.length<=9;on+="S")dt(on,sn);var un=Tt("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var cn=b.prototype;function ln(t){return t}cn.add=Je,cn.calendar=function(t,e){var n=t||Te(),r=Fe(n,this).startOf("day"),i=d.calendarFormat(this,r)||"sameElse",o=e&&(C(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,Te(n)))},cn.clone=function(){return new b(this)},cn.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Fe(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=E(e)){case"year":o=qe(this,r)/12;break;case"month":o=qe(this,r);break;case"quarter":o=qe(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:S(o)},cn.endOf=function(t){return void 0===(t=E(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},cn.format=function(t){t||(t=this.isUtc()?d.defaultFormatUtc:d.defaultFormat);var e=U(this,t);return this.localeData().postformat(e)},cn.from=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||Te(t).isValid())?Ue({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.fromNow=function(t){return this.from(Te(),t)},cn.to=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||Te(t).isValid())?Ue({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.toNow=function(t){return this.to(Te(),t)},cn.get=function(t){return C(this[t=E(t)])?this[t]():this},cn.invalidAt=function(){return y(this).overflow},cn.isAfter=function(t,e){var n=k(t)?t:Te(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=E(c(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},cn.isBefore=function(t,e){var n=k(t)?t:Te(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=E(c(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},cn.isBetween=function(t,e,n,r){return("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},cn.isSame=function(t,e){var n,r=k(t)?t:Te(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=E(e||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},cn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},cn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},cn.isValid=function(){return g(this)},cn.lang=Xe,cn.locale=Ke,cn.localeData=Qe,cn.max=De,cn.min=Ce,cn.parsingFlags=function(){return v({},y(this))},cn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:N[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=Y(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(C(this[t=E(t)]))return this[t](e);return this},cn.startOf=function(t){switch(t=E(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},cn.subtract=Ze,cn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},cn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},cn.toDate=function(){return new Date(this.valueOf())},cn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?U(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},cn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},cn.toJSON=function(){return this.isValid()?this.toISOString():null},cn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cn.unix=function(){return Math.floor(this.valueOf()/1e3)},cn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cn.year=Mt,cn.isLeapYear=function(){return xt(this.year())},cn.weekYear=function(t){return en.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cn.isoWeekYear=function(t){return en.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},cn.quarter=cn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},cn.month=Nt,cn.daysInMonth=function(){return At(this.year(),this.month())},cn.week=cn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},cn.isoWeek=cn.isoWeeks=function(t){var e=Wt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},cn.weeksInYear=function(){var t=this.localeData()._week;return Ut(this.year(),t.dow,t.doy)},cn.isoWeeksInYear=function(){return Ut(this.year(),1,4)},cn.date=nn,cn.day=cn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-r,"d")):r},cn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},cn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(n=t,r=this.localeData(),"string"==typeof n?r.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?e:e-7)}return this.day()||7;var n,r},cn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},cn.hour=cn.hours=ee,cn.minute=cn.minutes=rn,cn.second=cn.seconds=an,cn.millisecond=cn.milliseconds=un,cn.utcOffset=function(t,e,n){var r,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Le(ot,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Ie(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?Be(this,Ue(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Ie(this)},cn.utc=function(t){return this.utcOffset(0,t)},cn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ie(this),"m")),this},cn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Le(it,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},cn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Te(t).utcOffset():0,(this.utcOffset()-t)%60==0)},cn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cn.isLocal=function(){return!!this.isValid()&&!this._isUTC},cn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cn.isUtc=Re,cn.isUTC=Re,cn.zoneAbbr=function(){return this._isUTC?"UTC":""},cn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cn.dates=n("dates accessor is deprecated. Use date instead.",nn),cn.months=n("months accessor is deprecated. Use month instead",Nt),cn.years=n("years accessor is deprecated. Use year instead",Mt),cn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),cn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t={};if(w(t,this),(t=Oe(t))._a){var e=t._isUTC?m(t._a):Te(t._a);this._isDSTShifted=this.isValid()&&0<a(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var fn=A.prototype;function dn(t,e,n,r){var i=ce(),o=m().set(r,e);return i[n](o,t)}function hn(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return dn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=dn(t,r,n,"month");return i}function pn(t,e,n,r){"boolean"==typeof t?l(e)&&(n=e,e=void 0):(e=t,t=!1,l(n=e)&&(n=e,e=void 0)),e=e||"";var i,o=ce(),a=t?o._week.dow:0;if(null!=n)return dn(e,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=dn(e,(i+a)%7,r,"day");return s}fn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return C(r)?r.call(e,n):r},fn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},fn.invalidDate=function(){return this._invalidDate},fn.ordinal=function(t){return this._ordinal.replace("%d",t)},fn.preparse=ln,fn.postformat=ln,fn.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return C(i)?i(t,e,n,r):i.replace(/%d/i,t)},fn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)},fn.set=function(t){var e,n;for(n in t)C(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},fn.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||$t).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},fn.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[$t.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fn.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=m([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=Ot.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ot.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=Ot.call(this._shortMonthsParse,a))?i:-1!==(i=Ot.call(this._longMonthsParse,a))?i:null:-1!==(i=Ot.call(this._longMonthsParse,a))?i:-1!==(i=Ot.call(this._shortMonthsParse,a))?i:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=m([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},fn.monthsRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Ft.call(this),t?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Lt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},fn.monthsShortRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Ft.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Pt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},fn.week=function(t){return Wt(t,this._week.dow,this._week.doy).week},fn.firstDayOfYear=function(){return this._week.doy},fn.firstDayOfWeek=function(){return this._week.dow},fn.weekdays=function(t,e){return t?s(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:s(this._weekdays)?this._weekdays:this._weekdays.standalone},fn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},fn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},fn.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=m([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=Ot.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Ot.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ot.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=Ot.call(this._weekdaysParse,a))?i:-1!==(i=Ot.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ot.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Ot.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ot.call(this._weekdaysParse,a))?i:-1!==(i=Ot.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ot.call(this._minWeekdaysParse,a))?i:-1!==(i=Ot.call(this._weekdaysParse,a))?i:-1!==(i=Ot.call(this._shortWeekdaysParse,a))?i:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=m([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},fn.weekdaysRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Bt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},fn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Jt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Zt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},fn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},se("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===x(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),d.lang=n("moment.lang is deprecated. Use moment.locale instead.",se),d.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ce);var vn=Math.abs;function mn(t,e,n,r){var i=Ue(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function yn(t){return t<0?Math.floor(t):Math.ceil(t)}function gn(t){return 4800*t/146097}function _n(t){return 146097*t/4800}function wn(t){return function(){return this.as(t)}}var bn=wn("ms"),kn=wn("s"),Sn=wn("m"),xn=wn("h"),On=wn("d"),Mn=wn("w"),Tn=wn("M"),Cn=wn("y");function Dn(t){return function(){return this.isValid()?this._data[t]:NaN}}var An=Dn("milliseconds"),$n=Dn("seconds"),jn=Dn("minutes"),En=Dn("hours"),Yn=Dn("days"),Nn=Dn("months"),Pn=Dn("years");var Ln=Math.round,Fn={ss:44,s:45,m:45,h:22,d:26,M:11};var In=Math.abs;function Rn(t){return(0<t)-(t<0)||+t}function Hn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=In(this._milliseconds)/1e3,r=In(this._days),i=In(this._months);e=S((t=S(n/60))/60),n%=60,t%=60;var o=S(i/12),a=i%=12,s=r,u=e,c=t,l=n?n.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=f<0?"-":"",h=Rn(this._months)!==Rn(f)?"-":"",p=Rn(this._days)!==Rn(f)?"-":"",v=Rn(this._milliseconds)!==Rn(f)?"-":"";return d+"P"+(o?h+o+"Y":"")+(a?h+a+"M":"")+(s?p+s+"D":"")+(u||c||l?"T":"")+(u?v+u+"H":"")+(c?v+c+"M":"")+(l?v+l+"S":"")}var Wn=je.prototype;return Wn.isValid=function(){return this._isValid},Wn.abs=function(){var t=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),t.milliseconds=vn(t.milliseconds),t.seconds=vn(t.seconds),t.minutes=vn(t.minutes),t.hours=vn(t.hours),t.months=vn(t.months),t.years=vn(t.years),this},Wn.add=function(t,e){return mn(this,t,e,1)},Wn.subtract=function(t,e){return mn(this,t,e,-1)},Wn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=E(t))||"year"===t)return e=this._days+r/864e5,n=this._months+gn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(_n(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Wn.asMilliseconds=bn,Wn.asSeconds=kn,Wn.asMinutes=Sn,Wn.asHours=xn,Wn.asDays=On,Wn.asWeeks=Mn,Wn.asMonths=Tn,Wn.asYears=Cn,Wn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Wn._bubble=function(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*yn(_n(s)+a),s=a=0),u.milliseconds=o%1e3,t=S(o/1e3),u.seconds=t%60,e=S(t/60),u.minutes=e%60,n=S(e/60),u.hours=n%24,s+=i=S(gn(a+=S(n/24))),a-=yn(_n(i)),r=S(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},Wn.clone=function(){return Ue(this)},Wn.get=function(t){return t=E(t),this.isValid()?this[t+"s"]():NaN},Wn.milliseconds=An,Wn.seconds=$n,Wn.minutes=jn,Wn.hours=En,Wn.days=Yn,Wn.weeks=function(){return S(this.days()/7)},Wn.months=Nn,Wn.years=Pn,Wn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,r,i,o,a,s,u,c,l,f,d=this.localeData(),h=(n=!t,r=d,i=Ue(e=this).abs(),o=Ln(i.as("s")),a=Ln(i.as("m")),s=Ln(i.as("h")),u=Ln(i.as("d")),c=Ln(i.as("M")),l=Ln(i.as("y")),(f=o<=Fn.ss&&["s",o]||o<Fn.s&&["ss",o]||a<=1&&["m"]||a<Fn.m&&["mm",a]||s<=1&&["h"]||s<Fn.h&&["hh",s]||u<=1&&["d"]||u<Fn.d&&["dd",u]||c<=1&&["M"]||c<Fn.M&&["MM",c]||l<=1&&["y"]||["yy",l])[2]=n,f[3]=0<+e,f[4]=r,function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}.apply(null,f));return t&&(h=d.pastFuture(+this,h)),d.postformat(h)},Wn.toISOString=Hn,Wn.toString=Hn,Wn.toJSON=Hn,Wn.locale=Ke,Wn.localeData=Qe,Wn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hn),Wn.lang=Xe,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ut("x",rt),ut("X",/[+-]?\d+(\.\d{1,3})?/),dt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),dt("x",function(t,e,n){n._d=new Date(x(t))}),d.version="2.22.2",t=Te,d.fn=cn,d.min=function(){return Ae("isBefore",[].slice.call(arguments,0))},d.max=function(){return Ae("isAfter",[].slice.call(arguments,0))},d.now=function(){return Date.now?Date.now():+new Date},d.utc=m,d.unix=function(t){return Te(1e3*t)},d.months=function(t,e){return hn(t,e,"months")},d.isDate=f,d.locale=se,d.invalid=_,d.duration=Ue,d.isMoment=k,d.weekdays=function(t,e,n){return pn(t,e,n,"weekdays")},d.parseZone=function(){return Te.apply(null,arguments).parseZone()},d.localeData=ce,d.isDuration=Ee,d.monthsShort=function(t,e){return hn(t,e,"monthsShort")},d.weekdaysMin=function(t,e,n){return pn(t,e,n,"weekdaysMin")},d.defineLocale=ue,d.updateLocale=function(t,e){if(null!=e){var n,r,i=ne;null!=(r=ae(t))&&(i=r._config),(n=new A(e=D(i,e))).parentLocale=re[t],re[t]=n,se(t)}else null!=re[t]&&(null!=re[t].parentLocale?re[t]=re[t].parentLocale:null!=re[t]&&delete re[t]);return re[t]},d.locales=function(){return r(re)},d.weekdaysShort=function(t,e,n){return pn(t,e,n,"weekdaysShort")},d.normalizeUnits=E,d.relativeTimeRounding=function(t){return void 0===t?Ln:"function"==typeof t&&(Ln=t,!0)},d.relativeTimeThreshold=function(t,e){return void 0!==Fn[t]&&(void 0===e?Fn[t]:(Fn[t]=e,"s"===t&&(Fn.ss=e-1),!0))},d.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},d.prototype=cn,d.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},d},"object"==typeof t&&void 0!==Vn?Vn.exports=n():"function"==typeof define&&define.amd?define(n):e.moment=n()},{}],3:[function(t,e,n){var r,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,l=[],f=!1,d=-1;function h(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!f){var t=u(h);f=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new v(t,e)),1!==l.length||f||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],4:[function(t,e,n){var r=t("../src/store-engine"),i=t("../storages/all"),o=[t("../plugins/json2")];e.exports=r.createStore(i,o)},{"../plugins/json2":6,"../src/store-engine":8,"../storages/all":10}],5:[function(t,e,n){var r=t("../src/util"),o=r.bind,a=r.each,s=r.create,i=r.slice;e.exports=function(){var i=s(u,{_id:0,_subSignals:{},_subCallbacks:{}});return{watch:function(t,e,n){return i.on(e,o(this,n))},unwatch:function(t,e){i.off(e)},once:function(t,e,n){i.once(e,o(this,n))},set:function(t,e,n){var r=this.get(e);t(),i.fire(e,n,r)},remove:function(t,e){var n=this.get(e);t(),i.fire(e,void 0,n)},clearAll:function(t){var n={};this.each(function(t,e){n[e]=t}),t(),a(n,function(t,e){i.fire(e,void 0,t)})}}};var u={_id:null,_subCallbacks:null,_subSignals:null,on:function(t,e){return this._subCallbacks[t]||(this._subCallbacks[t]={}),this._id+=1,this._subCallbacks[t][this._id]=e,this._subSignals[this._id]=t,this._id},off:function(t){var e=this._subSignals[t];delete this._subCallbacks[e][t],delete this._subSignals[t]},once:function(t,e){var n=this.on(t,o(this,function(){e.apply(this,arguments),this.off(n)}))},fire:function(t){var e=i(arguments,1);a(this._subCallbacks[t],function(t){t.apply(this,e)})}}},{"../src/util":9}],6:[function(t,e,n){e.exports=function(){return t("./lib/json2"),{}}},{"./lib/json2":7}],7:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,i,o,a,s=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;n<o;n+=1)a[n]=str(n,u)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],u))&&a.push(quote(r)+(gap?": ":":")+i);else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u))&&a.push(quote(r)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var r;if(indent=gap="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(t,e){var n,r,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(t,e,i)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],8:[function(t,e,n){var r=t("./util"),a=r.slice,s=r.pluck,u=r.each,c=r.bind,l=r.create,f=r.isList,d=r.isFunction,h=r.isObject,p={version:"2.0.12",enabled:!(e.exports={createStore:i}),get:function(t,e){var n=this.storage.read(this._namespacePrefix+t);return this._deserialize(n,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(n){var r=this;this.storage.each(function(t,e){n.call(r,r._deserialize(t),(e||"").replace(r._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return i.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return i(this.storage,this.plugins,t)}};function i(t,e,n){n||(n=""),t&&!f(t)&&(t=[t]),e&&!f(e)&&(e=[e]);var r=n?"__storejs_"+n+"_":"",i=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var o=l({_namespacePrefix:r,_namespaceRegexp:i,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var n=t.read(e)===e;return t.remove(e),n}catch(t){return!1}},_assignPluginFnProp:function(r,t){var i=this[t];this[t]=function(){var n=a(arguments,0),t=this;var e=[function(){if(i)return u(arguments,function(t,e){n[e]=t}),i.apply(t,n)}].concat(n);return r.apply(t,e)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(n){var r=this;if(f(n))u(n,function(t){r._addPlugin(t)});else if(!s(this.plugins,function(t){return n===t})){if(this.plugins.push(n),!d(n))throw new Error("Plugins must be function values that return objects");var t=n.call(this);if(!h(t))throw new Error("Plugins must return an object of function properties");u(t,function(t,e){if(!d(t))throw new Error("Bad plugin property: "+e+" from plugin "+n.name+". Plugins should only return functions.");r._assignPluginFnProp(t,e)})}},addStorage:function(t){!function(){var t="undefined"==typeof console?null:console;t&&(t.warn?t.warn:t.log).apply(t,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},p,{plugins:[]});return o.raw={},u(o,function(t,e){d(t)&&(o.raw[e]=c(o,t))}),u(t,function(t){o._addStorage(t)}),u(e,function(t){o._addPlugin(t)}),o}},{"./util":9}],9:[function(t,c,e){(function(t){var a=Object.assign?Object.assign:function(n,t,e,r){for(var i=1;i<arguments.length;i++)o(Object(arguments[i]),function(t,e){n[e]=t});return n},e=function(){{if(Object.create)return function(t,e,n,r){var i=s(arguments,1);return a.apply(this,[Object.create(t)].concat(i))};function o(){}return function(t,e,n,r){var i=s(arguments,1);return o.prototype=t,a.apply(this,[new o].concat(i))}}}(),n=String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},r="undefined"!=typeof window?window:t;function s(t,e){return Array.prototype.slice.call(t,e||0)}function o(t,n){i(t,function(t,e){return n(t,e),!1})}function i(t,e){if(u(t)){for(var n=0;n<t.length;n++)if(e(t[n],n))return t[n]}else for(var r in t)if(t.hasOwnProperty(r)&&e(t[r],r))return t[r]}function u(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}c.exports={assign:a,create:e,trim:n,bind:function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}},slice:s,each:o,map:function(t,n){var r=u(t)?[]:{};return i(t,function(t,e){return r[e]=n(t,e),!1}),r},pluck:i,isList:u,isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isObject:function(t){return t&&"[object Object]"==={}.toString.call(t)},Global:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,e,n){e.exports=[t("./localStorage"),t("./oldFF-globalStorage"),t("./oldIE-userDataStorage"),t("./cookieStorage"),t("./sessionStorage"),t("./memoryStorage")]},{"./cookieStorage":11,"./localStorage":12,"./memoryStorage":13,"./oldFF-globalStorage":14,"./oldIE-userDataStorage":15,"./sessionStorage":16}],11:[function(t,e,n){var r=t("../src/util"),i=r.Global,o=r.trim;e.exports={name:"cookieStorage",read:function(t){if(!t||!c(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(e),"$1"))},write:function(t,e){if(!t)return;a.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:u,clearAll:function(){s(function(t,e){u(e)})}};var a=i.document;function s(t){for(var e=a.cookie.split(/; ?/g),n=e.length-1;0<=n;n--)if(o(e[n])){var r=e[n].split("="),i=unescape(r[0]);t(unescape(r[1]),i)}}function u(t){t&&c(t)&&(a.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function c(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},{"../src/util":9}],12:[function(t,e,n){var r=t("../src/util").Global;function i(){return r.localStorage}function o(t){return i().getItem(t)}e.exports={name:"localStorage",read:o,write:function(t,e){return i().setItem(t,e)},each:function(t){for(var e=i().length-1;0<=e;e--){var n=i().key(e);t(o(n),n)}},remove:function(t){return i().removeItem(t)},clearAll:function(){return i().clear()}}},{"../src/util":9}],13:[function(t,e,n){e.exports={name:"memoryStorage",read:function(t){return r[t]},write:function(t,e){r[t]=e},each:function(t){for(var e in r)r.hasOwnProperty(e)&&t(r[e],e)},remove:function(t){delete r[t]},clearAll:function(t){r={}}};var r={}},{}],14:[function(t,e,n){var r=t("../src/util").Global;e.exports={name:"oldFF-globalStorage",read:function(t){return i[t]},write:function(t,e){i[t]=e},each:o,remove:function(t){return i.removeItem(t)},clearAll:function(){o(function(t,e){delete i[t]})}};var i=r.globalStorage;function o(t){for(var e=i.length-1;0<=e;e--){var n=i.key(e);t(i[n],n)}}},{"../src/util":9}],15:[function(t,e,n){var r=t("../src/util").Global;e.exports={name:"oldIE-userDataStorage",write:function(t,e){if(s)return;var n=c(t);a(function(t){t.setAttribute(n,e),t.save(i)})},read:function(t){if(s)return;var e=c(t),n=null;return a(function(t){n=t.getAttribute(e)}),n},each:function(i){a(function(t){for(var e=t.XMLDocument.documentElement.attributes,n=e.length-1;0<=n;n--){var r=e[n];i(t.getAttribute(r.name),r.name)}})},remove:function(t){var e=c(t);a(function(t){t.removeAttribute(e),t.save(i)})},clearAll:function(){a(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(i);for(var n=e.length-1;0<=n;n--)t.removeAttribute(e[n].name);t.save(i)})}};var i="storejs",o=r.document,a=function(){if(!o||!o.documentElement||!o.documentElement.addBehavior)return null;var n,t,r;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),n=t.w.frames[0].document,r=n.createElement("div")}catch(t){r=o.createElement("div"),n=o.body}return function(t){var e=[].slice.call(arguments,0);e.unshift(r),n.appendChild(r),r.addBehavior("#default#userData"),r.load(i),t.apply(this,e),n.removeChild(r)}}(),s=(r.navigator?r.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);var u=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function c(t){return t.replace(/^\d/,"___$&").replace(u,"___")}},{"../src/util":9}],16:[function(t,e,n){var r=t("../src/util").Global;function i(){return r.sessionStorage}function o(t){return i().getItem(t)}e.exports={name:"sessionStorage",read:o,write:function(t,e){return i().setItem(t,e)},each:function(t){for(var e=i().length-1;0<=e;e--){var n=i().key(e);t(o(n),n)}},remove:function(t){return i().removeItem(t)},clearAll:function(){return i().clear()}}},{"../src/util":9}],17:[function(u,t,c){(function(t,e){var r=u("process/browser.js").nextTick,n=Function.prototype.apply,i=Array.prototype.slice,o={},a=0;function s(t,e){this._id=t,this._clearFn=e}c.setTimeout=function(){return new s(n.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new s(n.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(t){t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},c.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},c._unrefActive=c.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},c.setImmediate="function"==typeof t?t:function(t){var e=a++,n=!(arguments.length<2)&&i.call(arguments,1);return o[e]=!0,r(function(){o[e]&&(n?t.apply(null,n):t.call(null),c.clearImmediate(e))}),e},c.clearImmediate="function"==typeof e?e:function(t){delete o[t]}}).call(this,u("timers").setImmediate,u("timers").clearImmediate)},{"process/browser.js":3,timers:17}],18:[function(t,q,K){(function(Z){!function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof Z&&Z.global===Z&&Z||this||{},e=t._,r=Array.prototype,a=Object.prototype,f="undefined"!=typeof Symbol?Symbol.prototype:null,i=r.push,u=r.slice,d=a.toString,o=a.hasOwnProperty,n=Array.isArray,s=Object.keys,c=Object.create,l=function(){},h=function(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)};void 0===K||K.nodeType?t._=h:(void 0!==q&&!q.nodeType&&q.exports&&(K=q.exports=h),K._=h),h.VERSION="1.9.1";var p,v=function(i,o,t){if(void 0===o)return i;switch(null==t?3:t){case 1:return function(t){return i.call(o,t)};case 3:return function(t,e,n){return i.call(o,t,e,n)};case 4:return function(t,e,n,r){return i.call(o,t,e,n,r)}}return function(){return i.apply(o,arguments)}},m=function(t,e,n){return h.iteratee!==p?h.iteratee(t,e):null==t?h.identity:h.isFunction(t)?v(t,e,n):h.isObject(t)&&!h.isArray(t)?h.matcher(t):h.property(t)};h.iteratee=p=function(t,e){return m(t,e,1/0)};var y=function(i,o){return o=null==o?i.length-1:+o,function(){for(var t=Math.max(arguments.length-o,0),e=Array(t),n=0;n<t;n++)e[n]=arguments[n+o];switch(o){case 0:return i.call(this,e);case 1:return i.call(this,arguments[0],e);case 2:return i.call(this,arguments[0],arguments[1],e)}var r=Array(o+1);for(n=0;n<o;n++)r[n]=arguments[n];return r[o]=e,i.apply(this,r)}},g=function(t){if(!h.isObject(t))return{};if(c)return c(t);l.prototype=t;var e=new l;return l.prototype=null,e},_=function(e){return function(t){return null==t?void 0:t[e]}},w=function(t,e){return null!=t&&o.call(t,e)},b=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},k=Math.pow(2,53)-1,S=_("length"),x=function(t){var e=S(t);return"number"==typeof e&&0<=e&&e<=k};h.each=h.forEach=function(t,e,n){var r,i;if(e=v(e,n),x(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=h.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},h.map=h.collect=function(t,e,n){e=m(e,n);for(var r=!x(t)&&h.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o};var O=function(u){return function(t,e,n,r){var i=3<=arguments.length;return function(t,e,n,r){var i=!x(t)&&h.keys(t),o=(i||t).length,a=0<u?0:o-1;for(r||(n=t[i?i[a]:a],a+=u);0<=a&&a<o;a+=u){var s=i?i[a]:a;n=e(n,t[s],s,t)}return n}(t,v(e,r,4),n,i)}};h.reduce=h.foldl=h.inject=O(1),h.reduceRight=h.foldr=O(-1),h.find=h.detect=function(t,e,n){var r=(x(t)?h.findIndex:h.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},h.filter=h.select=function(t,r,e){var i=[];return r=m(r,e),h.each(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i},h.reject=function(t,e,n){return h.filter(t,h.negate(m(e)),n)},h.every=h.all=function(t,e,n){e=m(e,n);for(var r=!x(t)&&h.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},h.some=h.any=function(t,e,n){e=m(e,n);for(var r=!x(t)&&h.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},h.contains=h.includes=h.include=function(t,e,n,r){return x(t)||(t=h.values(t)),("number"!=typeof n||r)&&(n=0),0<=h.indexOf(t,e,n)},h.invoke=y(function(t,n,r){var i,o;return h.isFunction(n)?o=n:h.isArray(n)&&(i=n.slice(0,-1),n=n[n.length-1]),h.map(t,function(t){var e=o;if(!e){if(i&&i.length&&(t=b(t,i)),null==t)return;e=t[n]}return null==e?e:e.apply(t,r)})}),h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matcher(e))},h.findWhere=function(t,e){return h.find(t,h.matcher(e))},h.max=function(t,r,e){var n,i,o=-1/0,a=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=x(t)?t:h.values(t)).length;s<u;s++)null!=(n=t[s])&&o<n&&(o=n);else r=m(r,e),h.each(t,function(t,e,n){i=r(t,e,n),(a<i||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},h.min=function(t,r,e){var n,i,o=1/0,a=1/0;if(null==r||"number"==typeof r&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=x(t)?t:h.values(t)).length;s<u;s++)null!=(n=t[s])&&n<o&&(o=n);else r=m(r,e),h.each(t,function(t,e,n){((i=r(t,e,n))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},h.shuffle=function(t){return h.sample(t,1/0)},h.sample=function(t,e,n){if(null==e||n)return x(t)||(t=h.values(t)),t[h.random(t.length-1)];var r=x(t)?h.clone(t):h.values(t),i=S(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=h.random(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,e)},h.sortBy=function(t,r,e){var i=0;return r=m(r,e),h.pluck(h.map(t,function(t,e,n){return{value:t,index:i++,criteria:r(t,e,n)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(r<n||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var M=function(a,e){return function(r,i,t){var o=e?[[],[]]:{};return i=m(i,t),h.each(r,function(t,e){var n=i(t,e,r);a(o,t,n)}),o}};h.groupBy=M(function(t,e,n){w(t,n)?t[n].push(e):t[n]=[e]}),h.indexBy=M(function(t,e,n){t[n]=e}),h.countBy=M(function(t,e,n){w(t,n)?t[n]++:t[n]=1});var T=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArray=function(t){return t?h.isArray(t)?u.call(t):h.isString(t)?t.match(T):x(t)?h.map(t,h.identity):h.values(t):[]},h.size=function(t){return null==t?0:x(t)?t.length:h.keys(t).length},h.partition=M(function(t,e,n){t[n?0:1].push(e)},!0),h.first=h.head=h.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:h.initial(t,t.length-e)},h.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},h.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:h.rest(t,Math.max(0,t.length-e))},h.rest=h.tail=h.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},h.compact=function(t){return h.filter(t,Boolean)};var C=function(t,e,n,r){for(var i=(r=r||[]).length,o=0,a=S(t);o<a;o++){var s=t[o];if(x(s)&&(h.isArray(s)||h.isArguments(s)))if(e)for(var u=0,c=s.length;u<c;)r[i++]=s[u++];else C(s,e,n,r),i=r.length;else n||(r[i++]=s)}return r};h.flatten=function(t,e){return C(t,e,!1)},h.without=y(function(t,e){return h.difference(t,e)}),h.uniq=h.unique=function(t,e,n,r){h.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=m(n,r));for(var i=[],o=[],a=0,s=S(t);a<s;a++){var u=t[a],c=n?n(u,a,t):u;e&&!n?(a&&o===c||i.push(u),o=c):n?h.contains(o,c)||(o.push(c),i.push(u)):h.contains(i,u)||i.push(u)}return i},h.union=y(function(t){return h.uniq(C(t,!0,!0))}),h.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=S(t);r<i;r++){var o=t[r];if(!h.contains(e,o)){var a;for(a=1;a<n&&h.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},h.difference=y(function(t,e){return e=C(e,!0,!0),h.filter(t,function(t){return!h.contains(e,t)})}),h.unzip=function(t){for(var e=t&&h.max(t,S).length||0,n=Array(e),r=0;r<e;r++)n[r]=h.pluck(t,r);return n},h.zip=y(h.unzip),h.object=function(t,e){for(var n={},r=0,i=S(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var D=function(o){return function(t,e,n){e=m(e,n);for(var r=S(t),i=0<o?0:r-1;0<=i&&i<r;i+=o)if(e(t[i],i,t))return i;return-1}};h.findIndex=D(1),h.findLastIndex=D(-1),h.sortedIndex=function(t,e,n,r){for(var i=(n=m(n,r,1))(e),o=0,a=S(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o};var A=function(o,a,s){return function(t,e,n){var r=0,i=S(t);if("number"==typeof n)0<o?r=0<=n?n:Math.max(n+i,r):i=0<=n?Math.min(n+1,i):n+i+1;else if(s&&n&&i)return t[n=s(t,e)]===e?n:-1;if(e!=e)return 0<=(n=a(u.call(t,r,i),h.isNaN))?n+r:-1;for(n=0<o?r:i-1;0<=n&&n<i;n+=o)if(t[n]===e)return n;return-1}};h.indexOf=A(1,h.findIndex,h.sortedIndex),h.lastIndexOf=A(-1,h.findLastIndex),h.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},h.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(u.call(t,r,r+=e));return n};var $=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=g(t.prototype),a=t.apply(o,i);return h.isObject(a)?a:o};h.bind=y(function(e,n,r){if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");var i=y(function(t){return $(e,i,n,this,r.concat(t))});return i}),h.partial=y(function(i,o){var a=h.partial.placeholder,s=function(){for(var t=0,e=o.length,n=Array(e),r=0;r<e;r++)n[r]=o[r]===a?arguments[t++]:o[r];for(;t<arguments.length;)n.push(arguments[t++]);return $(i,s,this,this,n)};return s}),(h.partial.placeholder=h).bindAll=y(function(t,e){var n=(e=C(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=h.bind(t[r],t)}}),h.memoize=function(r,i){var o=function(t){var e=o.cache,n=""+(i?i.apply(this,arguments):t);return w(e,n)||(e[n]=r.apply(this,arguments)),e[n]};return o.cache={},o},h.delay=y(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),h.defer=h.partial(h.delay,h,1),h.throttle=function(n,r,i){var o,a,s,u,c=0;i||(i={});var l=function(){c=!1===i.leading?0:h.now(),o=null,u=n.apply(a,s),o||(a=s=null)},t=function(){var t=h.now();c||!1!==i.leading||(c=t);var e=r-(t-c);return a=this,s=arguments,e<=0||r<e?(o&&(clearTimeout(o),o=null),c=t,u=n.apply(a,s),o||(a=s=null)):o||!1===i.trailing||(o=setTimeout(l,e)),u};return t.cancel=function(){clearTimeout(o),c=0,o=a=s=null},t},h.debounce=function(n,r,i){var o,a,s=function(t,e){o=null,e&&(a=n.apply(t,e))},t=y(function(t){if(o&&clearTimeout(o),i){var e=!o;o=setTimeout(s,r),e&&(a=n.apply(this,t))}else o=h.delay(s,r,this,t);return a});return t.cancel=function(){clearTimeout(o),o=null},t},h.wrap=function(t,e){return h.partial(e,t)},h.negate=function(t){return function(){return!t.apply(this,arguments)}},h.compose=function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},h.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},h.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},h.once=h.partial(h.before,2),h.restArguments=y;var j=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Y=function(t,e){var n=E.length,r=t.constructor,i=h.isFunction(r)&&r.prototype||a,o="constructor";for(w(t,o)&&!h.contains(e,o)&&e.push(o);n--;)(o=E[n])in t&&t[o]!==i[o]&&!h.contains(e,o)&&e.push(o)};h.keys=function(t){if(!h.isObject(t))return[];if(s)return s(t);var e=[];for(var n in t)w(t,n)&&e.push(n);return j&&Y(t,e),e},h.allKeys=function(t){if(!h.isObject(t))return[];var e=[];for(var n in t)e.push(n);return j&&Y(t,e),e},h.values=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},h.mapObject=function(t,e,n){e=m(e,n);for(var r=h.keys(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},h.pairs=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},h.invert=function(t){for(var e={},n=h.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},h.functions=h.methods=function(t){var e=[];for(var n in t)h.isFunction(t[n])&&e.push(n);return e.sort()};var N=function(u,c){return function(t){var e=arguments.length;if(c&&(t=Object(t)),e<2||null==t)return t;for(var n=1;n<e;n++)for(var r=arguments[n],i=u(r),o=i.length,a=0;a<o;a++){var s=i[a];c&&void 0!==t[s]||(t[s]=r[s])}return t}};h.extend=N(h.allKeys),h.extendOwn=h.assign=N(h.keys),h.findKey=function(t,e,n){e=m(e,n);for(var r,i=h.keys(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r};var P,L,F=function(t,e,n){return e in n};h.pick=y(function(t,e){var n={},r=e[0];if(null==t)return n;h.isFunction(r)?(1<e.length&&(r=v(r,e[1])),e=h.allKeys(t)):(r=F,e=C(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),h.omit=y(function(t,n){var e,r=n[0];return h.isFunction(r)?(r=h.negate(r),1<n.length&&(e=n[1])):(n=h.map(C(n,!1,!1),String),r=function(t,e){return!h.contains(n,e)}),h.pick(t,r,e)}),h.defaults=N(h.allKeys,!0),h.create=function(t,e){var n=g(t);return e&&h.extendOwn(n,e),n},h.clone=function(t){return h.isObject(t)?h.isArray(t)?t.slice():h.extend({},t):t},h.tap=function(t,e){return e(t),t},h.isMatch=function(t,e){var n=h.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0},P=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&L(t,e,n,r)},L=function(t,e,n,r){t instanceof h&&(t=t._wrapped),e instanceof h&&(e=e._wrapped);var i=d.call(t);if(i!==d.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return f.valueOf.call(t)===f.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!P(t[u],e[u],n,r))return!1}else{var c,l=h.keys(t);if(u=l.length,h.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!w(e,c)||!P(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0},h.isEqual=function(t,e){return P(t,e)},h.isEmpty=function(t){return null==t||(x(t)&&(h.isArray(t)||h.isString(t)||h.isArguments(t))?0===t.length:0===h.keys(t).length)},h.isElement=function(t){return!(!t||1!==t.nodeType)},h.isArray=n||function(t){return"[object Array]"===d.call(t)},h.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){h["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(t){return w(t,"callee")});var I=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof I&&(h.isFunction=function(t){return"function"==typeof t||!1}),h.isFinite=function(t){return!h.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},h.isNaN=function(t){return h.isNumber(t)&&isNaN(t)},h.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===d.call(t)},h.isNull=function(t){return null===t},h.isUndefined=function(t){return void 0===t},h.has=function(t,e){if(!h.isArray(e))return w(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!o.call(t,i))return!1;t=t[i]}return!!n},h.noConflict=function(){return t._=e,this},h.identity=function(t){return t},h.constant=function(t){return function(){return t}},h.noop=function(){},h.property=function(e){return h.isArray(e)?function(t){return b(t,e)}:_(e)},h.propertyOf=function(e){return null==e?function(){}:function(t){return h.isArray(t)?b(e,t):e[t]}},h.matcher=h.matches=function(e){return e=h.extendOwn({},e),function(t){return h.isMatch(t,e)}},h.times=function(t,e,n){var r=Array(Math.max(0,t));e=v(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},h.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},h.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=h.invert(R),W=function(e){var n=function(t){return e[t]},t="(?:"+h.keys(e).join("|")+")",r=RegExp(t),i=RegExp(t,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,n):t}};h.escape=W(R),h.unescape=W(H),h.result=function(t,e,n){h.isArray(e)||(e=[e]);var r=e.length;if(!r)return h.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=h.isFunction(o)?o.call(t):o}return t};var U=0;h.uniqueId=function(t){var e=++U+"";return t?t+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,B=function(t){return"\\"+G[t]};h.template=function(o,t,e){!t&&e&&(t=e),t=h.defaults({},t,h.templateSettings);var n,r=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),a=0,s="__p+='";o.replace(r,function(t,e,n,r,i){return s+=o.slice(a,i).replace(z,B),a=i+t.length,e?s+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(t.variable||"obj","_",s)}catch(t){throw t.source=s,t}var i=function(t){return n.call(this,t,h)},u=t.variable||"obj";return i.source="function("+u+"){\n"+s+"}",i},h.chain=function(t){var e=h(t);return e._chain=!0,e};var J=function(t,e){return t._chain?h(e).chain():e};h.mixin=function(n){return h.each(h.functions(n),function(t){var e=h[t]=n[t];h.prototype[t]=function(){var t=[this._wrapped];return i.apply(t,arguments),J(this,e.apply(h,t))}}),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=r[e];h.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],J(this,t)}}),h.each(["concat","join","slice"],function(t){var e=r[t];h.prototype[t]=function(){return J(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,Fa,e){(function(t,e){"use strict";var y=Object.freeze({});function N(t){return null==t}function P(t){return null!=t}function C(t){return!0===t}function D(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function L(t){return null!==t&&"object"==typeof t}var n=Object.prototype.toString;function c(t){return"[object Object]"===n.call(t)}function r(t){return"[object RegExp]"===n.call(t)}function i(t){var e=parseFloat(String(t));return 0<=e&&Math.floor(e)===e&&isFinite(t)}function o(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function F(t){var e=parseFloat(t);return isNaN(e)?t:e}function s(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var u=s("slot,component",!0),l=s("key,ref,slot,slot-scope,is");function f(t,e){if(t.length){var n=t.indexOf(e);if(-1<n)return t.splice(n,1)}}var a=Object.prototype.hasOwnProperty;function d(t,e){return a.call(t,e)}function h(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}var p=/-(\w)/g,g=h(function(t){return t.replace(p,function(t,e){return e?e.toUpperCase():""})}),v=h(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),m=/\B([A-Z])/g,_=h(function(t){return t.replace(m,"-$1").toLowerCase()});var w=Function.prototype.bind?function(t,e){return t.bind(e)}:function(n,r){function t(t){var e=arguments.length;return e?1<e?n.apply(r,arguments):n.call(r,t):n.call(r)}return t._length=n.length,t};function b(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function k(t,e){for(var n in e)t[n]=e[n];return t}function S(t){for(var e={},n=0;n<t.length;n++)t[n]&&k(e,t[n]);return e}function x(t,e,n){}var T=function(t,e,n){return!1},O=function(t){return t};function M(e,n){if(e===n)return!0;var t=L(e),r=L(n);if(!t||!r)return!t&&!r&&String(e)===String(n);try{var i=Array.isArray(e),o=Array.isArray(n);if(i&&o)return e.length===n.length&&e.every(function(t,e){return M(t,n[e])});if(i||o)return!1;var a=Object.keys(e),s=Object.keys(n);return a.length===s.length&&a.every(function(t){return M(e[t],n[t])})}catch(t){return!1}}function A(t,e){for(var n=0;n<t.length;n++)if(M(t[n],e))return n;return-1}function I(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var $="data-server-rendered",j=["component","directive","filter"],E=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],Y={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:T,isReservedAttr:T,isUnknownElement:T,getTagNamespace:x,parsePlatformTagName:O,mustUseProp:T,_lifecycleHooks:E};function R(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function H(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var W=/[^\w.$]/;var U,V="__proto__"in{},G="undefined"!=typeof window,z="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,B=z&&WXEnvironment.platform.toLowerCase(),J=G&&window.navigator.userAgent.toLowerCase(),Z=J&&/msie|trident/.test(J),q=J&&0<J.indexOf("msie 9.0"),K=J&&0<J.indexOf("edge/"),X=(J&&J.indexOf("android"),J&&/iphone|ipad|ipod|ios/.test(J)||"ios"===B),Q=(J&&/chrome\/\d+/.test(J),{}.watch),tt=!1;if(G)try{var et={};Object.defineProperty(et,"passive",{get:function(){tt=!0}}),window.addEventListener("test-passive",null,et)}catch(t){}var nt=function(){return void 0===U&&(U=!G&&!z&&void 0!==t&&"server"===t.process.env.VUE_ENV),U},rt=G&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function it(t){return"function"==typeof t&&/native code/.test(t.toString())}var ot,at="undefined"!=typeof Symbol&&it(Symbol)&&"undefined"!=typeof Reflect&&it(Reflect.ownKeys);ot="undefined"!=typeof Set&&it(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var st=x,ut=0,ct=function(){this.id=ut++,this.subs=[]};ct.prototype.addSub=function(t){this.subs.push(t)},ct.prototype.removeSub=function(t){f(this.subs,t)},ct.prototype.depend=function(){ct.target&&ct.target.addDep(this)},ct.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},ct.target=null;var lt=[];function ft(t){ct.target&&lt.push(ct.target),ct.target=t}function dt(){ct.target=lt.pop()}var ht=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},pt={child:{configurable:!0}};pt.child.get=function(){return this.componentInstance},Object.defineProperties(ht.prototype,pt);var vt=function(t){void 0===t&&(t="");var e=new ht;return e.text=t,e.isComment=!0,e};function mt(t){return new ht(void 0,void 0,void 0,String(t))}function yt(t){var e=new ht(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.isCloned=!0,e}var gt=Array.prototype,_t=Object.create(gt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(o){var a=gt[o];H(_t,o,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=a.apply(this,t),i=this.__ob__;switch(o){case"push":case"unshift":n=t;break;case"splice":n=t.slice(2)}return n&&i.observeArray(n),i.dep.notify(),r})});var wt=Object.getOwnPropertyNames(_t),bt=!0;function kt(t){bt=t}var St=function(t){(this.value=t,this.dep=new ct,this.vmCount=0,H(t,"__ob__",this),Array.isArray(t))?((V?xt:Ot)(t,_t,wt),this.observeArray(t)):this.walk(t)};function xt(t,e,n){t.__proto__=e}function Ot(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];H(t,o,e[o])}}function Mt(t,e){var n;if(L(t)&&!(t instanceof ht))return d(t,"__ob__")&&t.__ob__ instanceof St?n=t.__ob__:bt&&!nt()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new St(t)),e&&n&&n.vmCount++,n}function Tt(n,t,r,e,i){var o=new ct,a=Object.getOwnPropertyDescriptor(n,t);if(!a||!1!==a.configurable){var s=a&&a.get;s||2!==arguments.length||(r=n[t]);var u=a&&a.set,c=!i&&Mt(r);Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(n):r;return ct.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function t(e){for(var n=void 0,r=0,i=e.length;r<i;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(t))),t},set:function(t){var e=s?s.call(n):r;t===e||t!=t&&e!=e||(u?u.call(n,t):r=t,c=!i&&Mt(t),o.notify())}})}}function Ct(t,e,n){if(Array.isArray(t)&&i(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Tt(r.value,e,n),r.dep.notify(),n):t[e]=n}function Dt(t,e){if(Array.isArray(t)&&i(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||d(t,e)&&(delete t[e],n&&n.dep.notify())}}St.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Tt(t,e[n])},St.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Mt(t[e])};var At=Y.optionMergeStrategies;function $t(t,e){if(!e)return t;for(var n,r,i,o=Object.keys(e),a=0;a<o.length;a++)r=t[n=o[a]],i=e[n],d(t,n)?c(r)&&c(i)&&$t(r,i):Ct(t,n,i);return t}function jt(n,r,i){return i?function(){var t="function"==typeof r?r.call(i,i):r,e="function"==typeof n?n.call(i,i):n;return t?$t(t,e):e}:r?n?function(){return $t("function"==typeof r?r.call(this,this):r,"function"==typeof n?n.call(this,this):n)}:r:n}function Et(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Yt(t,e,n,r){var i=Object.create(t||null);return e?k(i,e):i}At.data=function(t,e,n){return n?jt(t,e,n):e&&"function"!=typeof e?t:jt(t,e)},E.forEach(function(t){At[t]=Et}),j.forEach(function(t){At[t+"s"]=Yt}),At.watch=function(t,e,n,r){if(t===Q&&(t=void 0),e===Q&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in k(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},At.props=At.methods=At.inject=At.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return k(i,t),e&&k(i,e),i},At.provide=jt;var Nt=function(t,e){return void 0===e?t:e};function Pt(n,r,i){"function"==typeof r&&(r=r.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[g(i)]={type:null});else if(c(n))for(var a in n)i=n[a],o[g(a)]=c(i)?i:{type:i};t.props=o}}(r),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(c(n))for(var o in n){var a=n[o];r[o]=c(a)?k({from:o},a):{from:a}}}}(r),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(r);var t=r.extends;if(t&&(n=Pt(n,t,i)),r.mixins)for(var e=0,o=r.mixins.length;e<o;e++)n=Pt(n,r.mixins[e],i);var a,s={};for(a in n)u(a);for(a in r)d(n,a)||u(a);function u(t){var e=At[t]||Nt;s[t]=e(n[t],r[t],i,t)}return s}function Lt(t,e,n,r){if("string"==typeof n){var i=t[e];if(d(i,n))return i[n];var o=g(n);if(d(i,o))return i[o];var a=v(o);if(d(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Ft(t,e,n,r){var i=e[t],o=!d(n,t),a=n[t],s=Ht(Boolean,i.type);if(-1<s)if(o&&!d(i,"default"))a=!1;else if(""===a||a===_(t)){var u=Ht(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(!d(e,"default"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof r&&"Function"!==It(e.type)?r.call(t):r}(r,i,t);var c=bt;kt(!0),Mt(a),kt(c)}return a}function It(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Rt(t,e){return It(t)===It(e)}function Ht(t,e){if(!Array.isArray(e))return Rt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Rt(e[n],t))return n;return-1}function Wt(t,e,n){if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){Ut(t,r,"errorCaptured hook")}}Ut(t,e,n)}function Ut(t,e,n){if(Y.errorHandler)try{return Y.errorHandler.call(null,t,e,n)}catch(t){Vt(t,null,"config.errorHandler")}Vt(t,e,n)}function Vt(t,e,n){if(!G&&!z||"undefined"==typeof console)throw t;console.error(t)}var Gt,zt,Bt=[],Jt=!1;function Zt(){Jt=!1;for(var t=Bt.slice(0),e=Bt.length=0;e<t.length;e++)t[e]()}var qt=!1;if(void 0!==e&&it(e))zt=function(){e(Zt)};else if("undefined"==typeof MessageChannel||!it(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())zt=function(){setTimeout(Zt,0)};else{var Kt=new MessageChannel,Xt=Kt.port2;Kt.port1.onmessage=Zt,zt=function(){Xt.postMessage(1)}}if("undefined"!=typeof Promise&&it(Promise)){var Qt=Promise.resolve();Gt=function(){Qt.then(Zt),X&&setTimeout(x)}}else Gt=zt;function te(t,e){var n;if(Bt.push(function(){if(t)try{t.call(e)}catch(t){Wt(t,e,"nextTick")}else n&&n(e)}),Jt||(Jt=!0,qt?zt():Gt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var ee=new ot;function ne(t){!function t(e,n){var r,i;var o=Array.isArray(e);if(!o&&!L(e)||Object.isFrozen(e)||e instanceof ht)return;if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(r=e.length;r--;)t(e[r],n);else for(i=Object.keys(e),r=i.length;r--;)t(e[i[r]],n)}(t,ee),ee.clear()}var re,ie=h(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}});function oe(t){function i(){var t=arguments,e=i.fns;if(!Array.isArray(e))return e.apply(null,arguments);for(var n=e.slice(),r=0;r<n.length;r++)n[r].apply(null,t)}return i.fns=t,i}function ae(t,e,n,r,i){var o,a,s,u;for(o in t)a=t[o],s=e[o],u=ie(o),N(a)||(N(s)?(N(a.fns)&&(a=t[o]=oe(a)),n(u.name,a,u.once,u.capture,u.passive,u.params)):a!==s&&(s.fns=a,t[o]=s));for(o in e)N(t[o])&&r((u=ie(o)).name,e[o],u.capture)}function se(t,e,n){var r;t instanceof ht&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function o(){n.apply(this,arguments),f(r.fns,o)}N(i)?r=oe([o]):P(i.fns)&&C(i.merged)?(r=i).fns.push(o):r=oe([i,o]),r.merged=!0,t[e]=r}function ue(t,e,n,r,i){if(P(e)){if(d(e,n))return t[n]=e[n],i||delete e[n],!0;if(d(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function ce(t){return D(t)?[mt(t)]:Array.isArray(t)?function t(e,n){var r=[];var i,o,a,s;for(i=0;i<e.length;i++)N(o=e[i])||"boolean"==typeof o||(a=r.length-1,s=r[a],Array.isArray(o)?0<o.length&&(le((o=t(o,(n||"")+"_"+i))[0])&&le(s)&&(r[a]=mt(s.text+o[0].text),o.shift()),r.push.apply(r,o)):D(o)?le(s)?r[a]=mt(s.text+o):""!==o&&r.push(mt(o)):le(o)&&le(s)?r[a]=mt(s.text+o.text):(C(e._isVList)&&P(o.tag)&&N(o.key)&&P(n)&&(o.key="__vlist"+n+"_"+i+"__"),r.push(o)));return r}(t):void 0}function le(t){return P(t)&&P(t.text)&&!1===t.isComment}function fe(t,e){return(t.__esModule||at&&"Module"===t[Symbol.toStringTag])&&(t=t.default),L(t)?e.extend(t):t}function de(t){return t.isComment&&t.asyncFactory}function he(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(P(n)&&(P(n.componentOptions)||de(n)))return n}}function pe(t,e,n){n?re.$once(t,e):re.$on(t,e)}function ve(t,e){re.$off(t,e)}function me(t,e,n){re=t,ae(e,n||{},pe,ve),re=void 0}function ye(t,e){var n={};if(!t)return n;for(var r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(ge)&&delete n[c];return n}function ge(t){return t.isComment&&!t.asyncFactory||" "===t.text}function _e(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?_e(t[n],e):e[t[n].key]=t[n].fn;return e}var we=null;function be(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function ke(t,e){if(e){if(t._directInactive=!1,be(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)ke(t.$children[n]);Se(t,"activated")}}function Se(e,n){ft();var t=e.$options[n];if(t)for(var r=0,i=t.length;r<i;r++)try{t[r].call(e)}catch(t){Wt(t,e,n+" hook")}e._hasHookEvent&&e.$emit("hook:"+n),dt()}var xe=[],Oe=[],Me={},Te=!1,Ce=!1,De=0;function Ae(){var t,e;for(Ce=!0,xe.sort(function(t,e){return t.id-e.id}),De=0;De<xe.length;De++)e=(t=xe[De]).id,Me[e]=null,t.run();var n=Oe.slice(),r=xe.slice();De=xe.length=Oe.length=0,Te=Ce=!(Me={}),function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,ke(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&Se(r,"updated")}}(r),rt&&Y.devtools&&rt.emit("flush")}var $e=0,je=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++$e,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ot,this.newDepIds=new ot,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!W.test(t)){var n=t.split(".");return function(t){for(var e=0;e<n.length;e++){if(!t)return;t=t[n[e]]}return t}}}(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};je.prototype.get=function(){var t;ft(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Wt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ne(t),dt(),this.cleanupDeps()}return t},je.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},je.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},je.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Me[e]){if(Me[e]=!0,Ce){for(var n=xe.length-1;De<n&&xe[n].id>t.id;)n--;xe.splice(n+1,0,t)}else xe.push(t);Te||(Te=!0,te(Ae))}}(this)},je.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||L(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Wt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},je.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},je.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},je.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||f(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Ee={enumerable:!0,configurable:!0,get:x,set:x};function Ye(t,e,n){Ee.get=function(){return this[e][n]},Ee.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Ee)}function Ne(t){t._watchers=[];var e=t.$options;e.props&&function(n,r){var i=n.$options.propsData||{},o=n._props={},a=n.$options._propKeys=[];n.$parent&&kt(!1);var t=function(t){a.push(t);var e=Ft(t,r,i,n);Tt(o,t,e),t in n||Ye(n,"_props",t)};for(var e in r)t(e);kt(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]=null==e[n]?x:w(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){ft();try{return t.call(e,e)}catch(t){return Wt(t,e,"data()"),{}}finally{dt()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var o=n[i];0,r&&d(r,o)||R(o)||Ye(t,"_data",o)}Mt(e,!0)}(t):Mt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=nt();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;0,r||(n[i]=new je(t,a||x,x,Pe)),i in t||Le(t,i,o)}}(t,e.computed),e.watch&&e.watch!==Q&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Ie(t,n,r[i]);else Ie(t,n,r)}}(t,e.watch)}var Pe={lazy:!0};function Le(t,e,n){var r=!nt();"function"==typeof n?(Ee.get=r?Fe(e):n,Ee.set=x):(Ee.get=n.get?r&&!1!==n.cache?Fe(e):n.get:x,Ee.set=n.set?n.set:x),Object.defineProperty(t,e,Ee)}function Fe(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ct.target&&t.depend(),t.value}}function Ie(t,e,n,r){return c(n)&&(n=(r=n).handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function Re(e,t){if(e){for(var n=Object.create(null),r=at?Reflect.ownKeys(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}):Object.keys(e),i=0;i<r.length;i++){for(var o=r[i],a=e[o].from,s=t;s;){if(s._provided&&d(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[o]){var u=e[o].default;n[o]="function"==typeof u?u.call(t):u}else 0}return n}}function He(t,e){var n,r,i,o,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(L(t))for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=e(t[a],a,r);return P(n)&&(n._isVList=!0),n}function We(t,e,n,r){var i,o=this.$scopedSlots[t];if(o)n=n||{},r&&(n=k(k({},r),n)),i=o(n)||e;else{var a=this.$slots[t];a&&(a._rendered=!0),i=a||e}var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Ue(t){return Lt(this.$options,"filters",t)||O}function Ve(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ge(t,e,n,r,i){var o=Y.keyCodes[e]||n;return i&&r&&!Y.keyCodes[e]?Ve(i,r):o?Ve(o,t):r?_(r)!==e:void 0}function ze(n,r,i,o,a){if(i)if(L(i)){var s;Array.isArray(i)&&(i=S(i));var t=function(e){if("class"===e||"style"===e||l(e))s=n;else{var t=n.attrs&&n.attrs.type;s=o||Y.mustUseProp(r,t,e)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}e in s||(s[e]=i[e],a&&((n.on||(n.on={}))["update:"+e]=function(t){i[e]=t}))};for(var e in i)t(e)}else;return n}function Be(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||Ze(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function Je(t,e,n){return Ze(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ze(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&qe(t[r],e+"_"+r,n);else qe(t,e,n)}function qe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Ke(t,e){if(e)if(c(e)){var n=t.on=t.on?k({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Xe(t){t._o=Je,t._n=F,t._s=o,t._l=He,t._t=We,t._q=M,t._i=A,t._m=Be,t._f=Ue,t._k=Ge,t._b=ze,t._v=mt,t._e=vt,t._u=_e,t._g=Ke}function Qe(t,e,n,o,r){var a,s=r.options;d(o,"_uid")?(a=Object.create(o))._original=o:o=(a=o)._original;var i=C(s._compiled),u=!i;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||y,this.injections=Re(s.inject,o),this.slots=function(){return ye(n,o)},i&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||y),s._scopeId?this._c=function(t,e,n,r){var i=un(a,t,e,n,r,u);return i&&!Array.isArray(i)&&(i.fnScopeId=s._scopeId,i.fnContext=o),i}:this._c=function(t,e,n,r){return un(a,t,e,n,r,u)}}function tn(t,e,n,r){var i=yt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function en(t,e){for(var n in e)t[g(n)]=e[n]}Xe(Qe.prototype);var nn={init:function(t,e,n,r){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;nn.prepatch(i,i)}else{(t.componentInstance=function(t,e,n,r){var i={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:n||null,_refElm:r||null},o=t.data.inlineTemplate;P(o)&&(i.render=o.render,i.staticRenderFns=o.staticRenderFns);return new t.componentOptions.Ctor(i)}(t,we,n,r)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,i){var o=!!(i||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==y);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=i,t.$attrs=r.data.attrs||y,t.$listeners=n||y,e&&t.$options.props){kt(!1);for(var a=t._props,s=t.$options._propKeys||[],u=0;u<s.length;u++){var c=s[u],l=t.$options.props;a[c]=Ft(c,l,e,t)}kt(!0),t.$options.propsData=e}n=n||y;var f=t.$options._parentListeners;t.$options._parentListeners=n,me(t,n,f),o&&(t.$slots=ye(i,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,Se(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,Oe.push(e)):ke(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,be(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);Se(e,"deactivated")}}(e,!0):e.$destroy())}},rn=Object.keys(nn);function on(t,e,n,r,i){if(!N(t)){var o=n.$options._base;if(L(t)&&(t=o.extend(t)),"function"==typeof t){var a,s,u,c,l,f,d;if(N(t.cid)&&void 0===(t=function(e,n,t){if(C(e.error)&&P(e.errorComp))return e.errorComp;if(P(e.resolved))return e.resolved;if(C(e.loading)&&P(e.loadingComp))return e.loadingComp;if(!P(e.contexts)){var r=e.contexts=[t],i=!0,o=function(){for(var t=0,e=r.length;t<e;t++)r[t].$forceUpdate()},a=I(function(t){e.resolved=fe(t,n),i||o()}),s=I(function(t){P(e.errorComp)&&(e.error=!0,o())}),u=e(a,s);return L(u)&&("function"==typeof u.then?N(e.resolved)&&u.then(a,s):P(u.component)&&"function"==typeof u.component.then&&(u.component.then(a,s),P(u.error)&&(e.errorComp=fe(u.error,n)),P(u.loading)&&(e.loadingComp=fe(u.loading,n),0===u.delay?e.loading=!0:setTimeout(function(){N(e.resolved)&&N(e.error)&&(e.loading=!0,o())},u.delay||200)),P(u.timeout)&&setTimeout(function(){N(e.resolved)&&s(null)},u.timeout))),i=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(t)}(a=t,o,n)))return s=a,u=e,c=n,l=r,f=i,(d=vt()).asyncFactory=s,d.asyncMeta={data:u,context:c,children:l,tag:f},d;e=e||{},yn(t),P(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var i=e.on||(e.on={});P(i[r])?i[r]=[e.model.callback].concat(i[r]):i[r]=e.model.callback}(t.options,e);var h=function(t,e,n){var r=e.options.props;if(!N(r)){var i={},o=t.attrs,a=t.props;if(P(o)||P(a))for(var s in r){var u=_(s);ue(i,a,s,u,!0)||ue(i,o,s,u,!1)}return i}}(e,t);if(C(t.options.functional))return function(t,e,n,r,i){var o=t.options,a={},s=o.props;if(P(s))for(var u in s)a[u]=Ft(u,s,e||y);else P(n.attrs)&&en(a,n.attrs),P(n.props)&&en(a,n.props);var c=new Qe(n,a,i,r,t),l=o.render.call(null,c._c,c);if(l instanceof ht)return tn(l,n,c.parent,o);if(Array.isArray(l)){for(var f=ce(l)||[],d=new Array(f.length),h=0;h<f.length;h++)d[h]=tn(f[h],n,c.parent,o);return d}}(t,h,e,n,r);var p=e.on;if(e.on=e.nativeOn,C(t.options.abstract)){var v=e.slot;e={},v&&(e.slot=v)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<rn.length;n++){var r=rn[n];e[r]=nn[r]}}(e);var m=t.options.name||i;return new ht("vue-component-"+t.cid+(m?"-"+m:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:p,tag:i,children:r},a)}}}var an=1,sn=2;function un(t,e,n,r,i,o){return(Array.isArray(n)||D(n))&&(i=r,r=n,n=void 0),C(o)&&(i=sn),function(t,e,n,r,i){if(P(n)&&P(n.__ob__))return vt();P(n)&&P(n.is)&&(e=n.is);if(!e)return vt();0;Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);i===sn?r=ce(r):i===an&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r));var o,a;if("string"==typeof e){var s;a=t.$vnode&&t.$vnode.ns||Y.getTagNamespace(e),o=Y.isReservedTag(e)?new ht(Y.parsePlatformTagName(e),n,r,void 0,void 0,t):P(s=Lt(t.$options,"components",e))?on(s,n,t,r,e):new ht(e,n,r,void 0,void 0,t)}else o=on(e,n,t,r);return Array.isArray(o)?o:P(o)?(P(a)&&function t(e,n,r){e.ns=n;"foreignObject"===e.tag&&(r=!(n=void 0));if(P(e.children))for(var i=0,o=e.children.length;i<o;i++){var a=e.children[i];P(a.tag)&&(N(a.ns)||C(r)&&"svg"!==a.tag)&&t(a,n,r)}}(o,a),P(n)&&function(t){L(t.style)&&ne(t.style);L(t.class)&&ne(t.class)}(n),o):vt()}(t,e,n,r,i)}var cn,ln,fn,dn,hn,pn,vn,mn=0;function yn(t){var e=t.options;if(t.super){var n=yn(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.extendOptions,i=t.sealedOptions;for(var o in n)n[o]!==i[o]&&(e||(e={}),e[o]=gn(n[o],r[o],i[o]));return e}(t);r&&k(t.extendOptions,r),(e=t.options=Pt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function gn(t,e,n){if(Array.isArray(t)){var r=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(0<=e.indexOf(t[i])||n.indexOf(t[i])<0)&&r.push(t[i]);return r}return t}function _n(t){this._init(t)}function wn(t){t.cid=0;var a=1;t.extend=function(t){t=t||{};var e=this,n=e.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];var i=t.name||e.options.name;var o=function(t){this._init(t)};return((o.prototype=Object.create(e.prototype)).constructor=o).cid=a++,o.options=Pt(e.options,t),o.super=e,o.options.props&&function(t){var e=t.options.props;for(var n in e)Ye(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)Le(t.prototype,n,e[n])}(o),o.extend=e.extend,o.mixin=e.mixin,o.use=e.use,j.forEach(function(t){o[t]=e[t]}),i&&(o.options.components[i]=o),o.superOptions=e.options,o.extendOptions=t,o.sealedOptions=k({},o.options),r[n]=o}}function bn(t){return t&&(t.Ctor.options.name||t.tag)}function kn(t,e){return Array.isArray(t)?-1<t.indexOf(e):"string"==typeof t?-1<t.split(",").indexOf(e):!!r(t)&&t.test(e)}function Sn(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=bn(a.componentOptions);s&&!e(s)&&xn(n,o,r,i)}}}function xn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,f(n,e)}_n.prototype._init=function(t){var e,n,r,i,o=this;o._uid=mn++,o._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r,n._parentElm=e._parentElm,n._refElm=e._refElm;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(o,t):o.$options=Pt(yn(o.constructor),t||{},o),function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}((o._renderProxy=o)._self=o),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&me(t,e)}(o),function(i){i._vnode=null,i._staticTrees=null;var t=i.$options,e=i.$vnode=t._parentVnode,n=e&&e.context;i.$slots=ye(t._renderChildren,n),i.$scopedSlots=y,i._c=function(t,e,n,r){return un(i,t,e,n,r,!1)},i.$createElement=function(t,e,n,r){return un(i,t,e,n,r,!0)};var r=e&&e.data;Tt(i,"$attrs",r&&r.attrs||y,null,!0),Tt(i,"$listeners",t._parentListeners||y,null,!0)}(o),Se(o,"beforeCreate"),(n=Re((e=o).$options.inject,e))&&(kt(!1),Object.keys(n).forEach(function(t){Tt(e,t,n[t])}),kt(!0)),Ne(o),(i=(r=o).$options.provide)&&(r._provided="function"==typeof i?i.call(r):i),Se(o,"created"),o.$options.el&&o.$mount(o.$options.el)},cn=_n,ln={get:function(){return this._data}},fn={get:function(){return this._props}},Object.defineProperty(cn.prototype,"$data",ln),Object.defineProperty(cn.prototype,"$props",fn),cn.prototype.$set=Ct,cn.prototype.$delete=Dt,cn.prototype.$watch=function(t,e,n){if(c(e))return Ie(this,t,e,n);(n=n||{}).user=!0;var r=new je(this,t,e,n);return n.immediate&&e.call(this,r.value),function(){r.teardown()}},hn=/^hook:/,(dn=_n).prototype.$on=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)this.$on(t[n],e);else(this._events[t]||(this._events[t]=[])).push(e),hn.test(t)&&(this._hasHookEvent=!0);return this},dn.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},dn.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)this.$off(t[r],e);return n}var o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;if(e)for(var a,s=o.length;s--;)if((a=o[s])===e||a.fn===e){o.splice(s,1);break}return n},dn.prototype.$emit=function(e){var n=this,t=n._events[e];if(t){t=1<t.length?b(t):t;for(var r=b(arguments,1),i=0,o=t.length;i<o;i++)try{t[i].apply(n,r)}catch(t){Wt(t,n,'event handler for "'+e+'"')}}return n},(pn=_n).prototype._update=function(t,e){var n=this;n._isMounted&&Se(n,"beforeUpdate");var r=n.$el,i=n._vnode,o=we;(we=n)._vnode=t,i?n.$el=n.__patch__(i,t):(n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),we=o,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},pn.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},pn.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Se(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||f(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Se(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}},Xe((vn=_n).prototype),vn.prototype.$nextTick=function(t){return te(t,this)},vn.prototype._render=function(){var e,n=this,t=n.$options,r=t.render,i=t._parentVnode;i&&(n.$scopedSlots=i.data.scopedSlots||y),n.$vnode=i;try{e=r.call(n._renderProxy,n.$createElement)}catch(t){Wt(t,n,"render"),e=n._vnode}return e instanceof ht||(e=vt()),e.parent=i,e};var On,Mn,Tn,Cn=[String,RegExp,Array],Dn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Cn,exclude:Cn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)xn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Sn(t,function(t){return kn(e,t)})}),this.$watch("exclude",function(e){Sn(t,function(t){return!kn(e,t)})})},render:function(){var t=this.$slots.default,e=he(t),n=e&&e.componentOptions;if(n){var r=bn(n),i=this.include,o=this.exclude;if(i&&(!r||!kn(i,r))||o&&r&&kn(o,r))return e;var a=this.cache,s=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[u]?(e.componentInstance=a[u].componentInstance,f(s,u),s.push(u)):(a[u]=e,s.push(u),this.max&&s.length>parseInt(this.max)&&xn(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};On=_n,Tn={get:function(){return Y}},Object.defineProperty(On,"config",Tn),On.util={warn:st,extend:k,mergeOptions:Pt,defineReactive:Tt},On.set=Ct,On.delete=Dt,On.nextTick=te,On.options=Object.create(null),j.forEach(function(t){On.options[t+"s"]=Object.create(null)}),k((On.options._base=On).options.components,Dn),On.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(-1<e.indexOf(t))return this;var n=b(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this},On.mixin=function(t){return this.options=Pt(this.options,t),this},wn(On),Mn=On,j.forEach(function(n){Mn[n]=function(t,e){return e?("component"===n&&c(e)&&(e.name=e.name||t,e=this.options._base.extend(e)),"directive"===n&&"function"==typeof e&&(e={bind:e,update:e}),this.options[n+"s"][t]=e):this.options[n+"s"][t]}}),Object.defineProperty(_n.prototype,"$isServer",{get:nt}),Object.defineProperty(_n.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(_n,"FunctionalRenderContext",{value:Qe}),_n.version="2.5.16";var An=s("style,class"),$n=s("input,textarea,option,select,progress"),jn=function(t,e,n){return"value"===n&&$n(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},En=s("contenteditable,draggable,spellcheck"),Yn=s("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Nn="http://www.w3.org/1999/xlink",Pn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ln=function(t){return Pn(t)?t.slice(6,t.length):""},Fn=function(t){return null==t||!1===t};function In(t){for(var e=t.data,n=t,r=t;P(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Rn(r.data,e));for(;P(n=n.parent);)n&&n.data&&(e=Rn(e,n.data));return function(t,e){if(P(t)||P(e))return Hn(t,Wn(e));return""}(e.staticClass,e.class)}function Rn(t,e){return{staticClass:Hn(t.staticClass,e.staticClass),class:P(t.class)?[t.class,e.class]:e.class}}function Hn(t,e){return t?e?t+" "+e:t:e||""}function Wn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)P(e=Wn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):L(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Un={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Vn=s("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Gn=s("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),zn=function(t){return Vn(t)||Gn(t)};function Bn(t){return Gn(t)?"svg":"math"===t?"math":void 0}var Jn=Object.create(null);var Zn=s("text,number,password,search,email,tel,url");function qn(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var Kn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Un[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Xn={create:function(t,e){Qn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Qn(t,!0),Qn(e))},destroy:function(t){Qn(t,!0)}};function Qn(t,e){var n=t.data.ref;if(P(n)){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?f(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var tr=new ht("",{},[]),er=["create","activate","update","remove","destroy"];function nr(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&P(t.data)===P(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=P(n=t.data)&&P(n=n.attrs)&&n.type,i=P(n=e.data)&&P(n=n.attrs)&&n.type;return r===i||Zn(r)&&Zn(i)}(t,e)||C(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&N(e.asyncFactory.error))}function rr(t,e,n){var r,i,o={};for(r=e;r<=n;++r)P(i=t[r].key)&&(o[i]=r);return o}var ir={create:or,update:or,destroy:function(t){or(t,tr)}};function or(t,e){(t.data.directives||e.data.directives)&&function(e,n){var t,r,i,o=e===tr,a=n===tr,s=sr(e.data.directives,e.context),u=sr(n.data.directives,n.context),c=[],l=[];for(t in u)r=s[t],i=u[t],r?(i.oldValue=r.value,ur(i,"update",n,e),i.def&&i.def.componentUpdated&&l.push(i)):(ur(i,"bind",n,e),i.def&&i.def.inserted&&c.push(i));if(c.length){var f=function(){for(var t=0;t<c.length;t++)ur(c[t],"inserted",n,e)};o?se(n,"insert",f):f()}l.length&&se(n,"postpatch",function(){for(var t=0;t<l.length;t++)ur(l[t],"componentUpdated",n,e)});if(!o)for(t in s)u[t]||ur(s[t],"unbind",e,e,a)}(t,e)}var ar=Object.create(null);function sr(t,e){var n,r,i,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=ar),(o[(i=r,i.rawName||i.name+"."+Object.keys(i.modifiers||{}).join("."))]=r).def=Lt(e.$options,"directives",r.name);return o}function ur(e,n,r,t,i){var o=e.def&&e.def[n];if(o)try{o(r.elm,e,r,t,i)}catch(t){Wt(t,r.context,"directive "+e.name+" "+n+" hook")}}var cr=[Xn,ir];function lr(t,e){var n=e.componentOptions;if(!(P(n)&&!1===n.Ctor.options.inheritAttrs||N(t.data.attrs)&&N(e.data.attrs))){var r,i,o=e.elm,a=t.data.attrs||{},s=e.data.attrs||{};for(r in P(s.__ob__)&&(s=e.data.attrs=k({},s)),s)i=s[r],a[r]!==i&&fr(o,r,i);for(r in(Z||K)&&s.value!==a.value&&fr(o,"value",s.value),a)N(s[r])&&(Pn(r)?o.removeAttributeNS(Nn,Ln(r)):En(r)||o.removeAttribute(r))}}function fr(t,e,n){-1<t.tagName.indexOf("-")?dr(t,e,n):Yn(e)?Fn(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):En(e)?t.setAttribute(e,Fn(n)||"false"===n?"false":"true"):Pn(e)?Fn(n)?t.removeAttributeNS(Nn,Ln(e)):t.setAttributeNS(Nn,e,n):dr(t,e,n)}function dr(e,t,n){if(Fn(n))e.removeAttribute(t);else{if(Z&&!q&&"TEXTAREA"===e.tagName&&"placeholder"===t&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var hr={create:lr,update:lr};function pr(t,e){var n=e.elm,r=e.data,i=t.data;if(!(N(r.staticClass)&&N(r.class)&&(N(i)||N(i.staticClass)&&N(i.class)))){var o=In(e),a=n._transitionClasses;P(a)&&(o=Hn(o,Wn(a))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var vr,mr,yr,gr,_r,wr,br={create:pr,update:pr},kr=/[\w).+\-_$\]]/;function Sr(t){var e,n,r,i,o,a=!1,s=!1,u=!1,c=!1,l=0,f=0,d=0,h=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),a)39===e&&92!==n&&(a=!1);else if(s)34===e&&92!==n&&(s=!1);else if(u)96===e&&92!==n&&(u=!1);else if(c)47===e&&92!==n&&(c=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||l||f||d){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:u=!0;break;case 40:d++;break;case 41:d--;break;case 91:f++;break;case 93:f--;break;case 123:l++;break;case 125:l--}if(47===e){for(var p=r-1,v=void 0;0<=p&&" "===(v=t.charAt(p));p--);v&&kr.test(v)||(c=!0)}}else void 0===i?(h=r+1,i=t.slice(0,r).trim()):m();function m(){(o||(o=[])).push(t.slice(h,r).trim()),h=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==h&&m(),o)for(r=0;r<o.length;r++)i=xr(i,o[r]);return i}function xr(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),i=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==i?","+i:i)}function Or(t){console.error("[Vue compiler]: "+t)}function Mr(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function Tr(t,e,n){(t.props||(t.props=[])).push({name:e,value:n}),t.plain=!1}function Cr(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n}),t.plain=!1}function Dr(t,e,n){t.attrsMap[e]=n,t.attrsList.push({name:e,value:n})}function Ar(t,e,n,r,i,o){var a;(r=r||y).capture&&(delete r.capture,e="!"+e),r.once&&(delete r.once,e="~"+e),r.passive&&(delete r.passive,e="&"+e),"click"===e&&(r.right?(e="contextmenu",delete r.right):r.middle&&(e="mouseup")),r.native?(delete r.native,a=t.nativeEvents||(t.nativeEvents={})):a=t.events||(t.events={});var s={value:n.trim()};r!==y&&(s.modifiers=r);var u=a[e];Array.isArray(u)?i?u.unshift(s):u.push(s):a[e]=u?i?[s,u]:[u,s]:s,t.plain=!1}function $r(t,e,n){var r=jr(t,":"+e)||jr(t,"v-bind:"+e);if(null!=r)return Sr(r);if(!1!==n){var i=jr(t,e);if(null!=i)return JSON.stringify(i)}}function jr(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function Er(t,e,n){var r=n||{},i=r.number,o="$$v";r.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(o="_n("+o+")");var a=Yr(e,o);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ($$v) {"+a+"}"}}function Yr(t,e){var n=function(t){if(t=t.trim(),vr=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<vr-1)return-1<(gr=t.lastIndexOf("."))?{exp:t.slice(0,gr),key:'"'+t.slice(gr+1)+'"'}:{exp:t,key:null};mr=t,gr=_r=wr=0;for(;!Pr();)Lr(yr=Nr())?Ir(yr):91===yr&&Fr(yr);return{exp:t.slice(0,_r),key:t.slice(_r+1,wr)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Nr(){return mr.charCodeAt(++gr)}function Pr(){return vr<=gr}function Lr(t){return 34===t||39===t}function Fr(t){var e=1;for(_r=gr;!Pr();)if(Lr(t=Nr()))Ir(t);else if(91===t&&e++,93===t&&e--,0===e){wr=gr;break}}function Ir(t){for(var e=t;!Pr()&&(t=Nr())!==e;);}var Rr,Hr="__r",Wr="__c";function Ur(t,e,n,r,i){var o,a,s,u,c;e=(o=e)._withTask||(o._withTask=function(){qt=!0;var t=o.apply(null,arguments);return qt=!1,t}),n&&(a=e,s=t,u=r,c=Rr,e=function t(){null!==a.apply(null,arguments)&&Vr(s,t,u,c)}),Rr.addEventListener(t,e,tt?{capture:r,passive:i}:r)}function Vr(t,e,n,r){(r||Rr).removeEventListener(t,e._withTask||e,n)}function Gr(t,e){if(!N(t.data.on)||!N(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Rr=e.elm,function(t){if(P(t[Hr])){var e=Z?"change":"input";t[e]=[].concat(t[Hr],t[e]||[]),delete t[Hr]}P(t[Wr])&&(t.change=[].concat(t[Wr],t.change||[]),delete t[Wr])}(n),ae(n,r,Ur,Vr,e.context),Rr=void 0}}var zr={create:Gr,update:Gr};function Br(t,e){if(!N(t.data.domProps)||!N(e.data.domProps)){var n,r,i,o,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in P(u.__ob__)&&(u=e.data.domProps=k({},u)),s)N(u[n])&&(a[n]="");for(n in u){if(r=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n){var c=N(a._value=r)?"":String(r);o=c,(i=a).composing||"OPTION"!==i.tagName&&!function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(i,o)&&!function(t,e){var n=t.value,r=t._vModifiers;if(P(r)){if(r.lazy)return!1;if(r.number)return F(n)!==F(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(i,o)||(a.value=c)}else a[n]=r}}}var Jr={create:Br,update:Br},Zr=h(function(t){var n={},r=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var e=t.split(r);1<e.length&&(n[e[0].trim()]=e[1].trim())}}),n});function qr(t){var e=Kr(t.style);return t.staticStyle?k(t.staticStyle,e):e}function Kr(t){return Array.isArray(t)?S(t):"string"==typeof t?Zr(t):t}var Xr,Qr=/^--/,ti=/\s*!important$/,ei=function(t,e,n){if(Qr.test(e))t.style.setProperty(e,n);else if(ti.test(n))t.style.setProperty(e,n.replace(ti,""),"important");else{var r=ri(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},ni=["Webkit","Moz","ms"],ri=h(function(t){if(Xr=Xr||document.createElement("div").style,"filter"!==(t=g(t))&&t in Xr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<ni.length;n++){var r=ni[n]+e;if(r in Xr)return r}});function ii(t,e){var n=e.data,r=t.data;if(!(N(n.staticStyle)&&N(n.style)&&N(r.staticStyle)&&N(r.style))){var i,o,a=e.elm,s=r.staticStyle,u=r.normalizedStyle||r.style||{},c=s||u,l=Kr(e.data.style)||{};e.data.normalizedStyle=P(l.__ob__)?k({},l):l;var f=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=qr(i.data))&&k(r,n);(n=qr(t.data))&&k(r,n);for(var o=t;o=o.parent;)o.data&&(n=qr(o.data))&&k(r,n);return r}(e,!0);for(o in c)N(f[o])&&ei(a,o,"");for(o in f)(i=f[o])!==c[o]&&ei(a,o,null==i?"":i)}}var oi={create:ii,update:ii};function ai(e,t){if(t&&(t=t.trim()))if(e.classList)-1<t.indexOf(" ")?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function si(e,t){if(t&&(t=t.trim()))if(e.classList)-1<t.indexOf(" ")?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";0<=n.indexOf(r);)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function ui(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&k(e,ci(t.name||"v")),k(e,t),e}return"string"==typeof t?ci(t):void 0}}var ci=h(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),li=G&&!q,fi="transition",di="animation",hi="transition",pi="transitionend",vi="animation",mi="animationend";li&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(hi="WebkitTransition",pi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(vi="WebkitAnimation",mi="webkitAnimationEnd"));var yi=G?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function gi(t){yi(function(){yi(t)})}function _i(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),ai(t,e))}function wi(t,e){t._transitionClasses&&f(t._transitionClasses,e),si(t,e)}function bi(e,t,n){var r=Si(e,t),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===fi?pi:mi,u=0,c=function(){e.removeEventListener(s,l),n()},l=function(t){t.target===e&&++u>=a&&c()};setTimeout(function(){u<a&&c()},o+1),e.addEventListener(s,l)}var ki=/\b(transform|all)(,|$)/;function Si(t,e){var n,r=window.getComputedStyle(t),i=r[hi+"Delay"].split(", "),o=r[hi+"Duration"].split(", "),a=xi(i,o),s=r[vi+"Delay"].split(", "),u=r[vi+"Duration"].split(", "),c=xi(s,u),l=0,f=0;return e===fi?0<a&&(n=fi,l=a,f=o.length):e===di?0<c&&(n=di,l=c,f=u.length):f=(n=0<(l=Math.max(a,c))?c<a?fi:di:null)?n===fi?o.length:u.length:0,{type:n,timeout:l,propCount:f,hasTransform:n===fi&&ki.test(r[hi+"Property"])}}function xi(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max.apply(null,t.map(function(t,e){return Oi(t)+Oi(n[e])}))}function Oi(t){return 1e3*Number(t.slice(0,-1))}function Mi(n,t){var r=n.elm;P(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var e=ui(n.data.transition);if(!N(e)&&!P(r._enterCb)&&1===r.nodeType){for(var i=e.css,o=e.type,a=e.enterClass,s=e.enterToClass,u=e.enterActiveClass,c=e.appearClass,l=e.appearToClass,f=e.appearActiveClass,d=e.beforeEnter,h=e.enter,p=e.afterEnter,v=e.enterCancelled,m=e.beforeAppear,y=e.appear,g=e.afterAppear,_=e.appearCancelled,w=e.duration,b=we,k=we.$vnode;k&&k.parent;)b=(k=k.parent).context;var S=!b._isMounted||!n.isRootInsert;if(!S||y||""===y){var x=S&&c?c:a,O=S&&f?f:u,M=S&&l?l:s,T=S&&m||d,C=S&&"function"==typeof y?y:h,D=S&&g||p,A=S&&_||v,$=F(L(w)?w.enter:w);0;var j=!1!==i&&!q,E=Di(C),Y=r._enterCb=I(function(){j&&(wi(r,M),wi(r,O)),Y.cancelled?(j&&wi(r,x),A&&A(r)):D&&D(r),r._enterCb=null});n.data.show||se(n,"insert",function(){var t=r.parentNode,e=t&&t._pending&&t._pending[n.key];e&&e.tag===n.tag&&e.elm._leaveCb&&e.elm._leaveCb(),C&&C(r,Y)}),T&&T(r),j&&(_i(r,x),_i(r,O),gi(function(){wi(r,x),Y.cancelled||(_i(r,M),E||(Ci($)?setTimeout(Y,$):bi(r,o,Y)))})),n.data.show&&(t&&t(),C&&C(r,Y)),j||E||Y()}}}function Ti(t,e){var n=t.elm;P(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=ui(t.data.transition);if(N(r)||1!==n.nodeType)return e();if(!P(n._leaveCb)){var i=r.css,o=r.type,a=r.leaveClass,s=r.leaveToClass,u=r.leaveActiveClass,c=r.beforeLeave,l=r.leave,f=r.afterLeave,d=r.leaveCancelled,h=r.delayLeave,p=r.duration,v=!1!==i&&!q,m=Di(l),y=F(L(p)?p.leave:p);0;var g=n._leaveCb=I(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),v&&(wi(n,s),wi(n,u)),g.cancelled?(v&&wi(n,a),d&&d(n)):(e(),f&&f(n)),n._leaveCb=null});h?h(_):_()}function _(){g.cancelled||(t.data.show||((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),c&&c(n),v&&(_i(n,a),_i(n,u),gi(function(){wi(n,a),g.cancelled||(_i(n,s),m||(Ci(y)?setTimeout(g,y):bi(n,o,g)))})),l&&l(n,g),v||m||g())}}function Ci(t){return"number"==typeof t&&!isNaN(t)}function Di(t){if(N(t))return!1;var e=t.fns;return P(e)?Di(Array.isArray(e)?e[0]:e):1<(t._length||t.length)}function Ai(t,e){!0!==e.data.show&&Mi(e)}var $i=function(t){var r,e,g={},n=t.modules,_=t.nodeOps;for(r=0;r<er.length;++r)for(g[er[r]]=[],e=0;e<n.length;++e)P(n[e][er[r]])&&g[er[r]].push(n[e][er[r]]);function o(t){var e=_.parentNode(t);P(e)&&_.removeChild(e,t)}function w(t,e,n,r,i,o,a){if(P(t.elm)&&P(o)&&(t=o[a]=yt(t)),t.isRootInsert=!i,!function(t,e,n,r){var i=t.data;if(P(i)){var o=P(t.componentInstance)&&i.keepAlive;if(P(i=i.hook)&&P(i=i.init)&&i(t,!1,n,r),P(t.componentInstance))return h(t,e),C(o)&&function(t,e,n,r){for(var i,o=t;o.componentInstance;)if(o=o.componentInstance._vnode,P(i=o.data)&&P(i=i.transition)){for(i=0;i<g.activate.length;++i)g.activate[i](tr,o);e.push(o);break}l(n,t.elm,r)}(t,e,n,r),!0}}(t,e,n,r)){var s=t.data,u=t.children,c=t.tag;P(c)?(t.elm=t.ns?_.createElementNS(t.ns,c):_.createElement(c,t),f(t),p(t,u,e),P(s)&&v(t,e)):C(t.isComment)?t.elm=_.createComment(t.text):t.elm=_.createTextNode(t.text),l(n,t.elm,r)}}function h(t,e){P(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(v(t,e),f(t)):(Qn(t),e.push(t))}function l(t,e,n){P(t)&&(P(n)?n.parentNode===t&&_.insertBefore(t,e,n):_.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)w(e[r],n,t.elm,null,!0,e,r);else D(t.text)&&_.appendChild(t.elm,_.createTextNode(String(t.text)))}function b(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return P(t.tag)}function v(t,e){for(var n=0;n<g.create.length;++n)g.create[n](tr,t);P(r=t.data.hook)&&(P(r.create)&&r.create(tr,t),P(r.insert)&&e.push(t))}function f(t){var e;if(P(e=t.fnScopeId))_.setStyleScope(t.elm,e);else for(var n=t;n;)P(e=n.context)&&P(e=e.$options._scopeId)&&_.setStyleScope(t.elm,e),n=n.parent;P(e=we)&&e!==t.context&&e!==t.fnContext&&P(e=e.$options._scopeId)&&_.setStyleScope(t.elm,e)}function y(t,e,n,r,i,o){for(;r<=i;++r)w(n[r],o,t,e,!1,n,r)}function k(t){var e,n,r=t.data;if(P(r))for(P(e=r.hook)&&P(e=e.destroy)&&e(t),e=0;e<g.destroy.length;++e)g.destroy[e](t);if(P(e=t.children))for(n=0;n<t.children.length;++n)k(t.children[n])}function S(t,e,n,r){for(;n<=r;++n){var i=e[n];P(i)&&(P(i.tag)?(a(i),k(i)):o(i.elm))}}function a(t,e){if(P(e)||P(t.data)){var n,r=g.remove.length+1;for(P(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&o(t)}return n.listeners=e,n}(t.elm,r),P(n=t.componentInstance)&&P(n=n._vnode)&&P(n.data)&&a(n,e),n=0;n<g.remove.length;++n)g.remove[n](t,e);P(n=t.data.hook)&&P(n=n.remove)?n(t,e):e()}else o(t.elm)}function x(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(P(o)&&nr(t,o))return i}}function O(t,e,n,r){if(t!==e){var i=e.elm=t.elm;if(C(t.isAsyncPlaceholder))P(e.asyncFactory.resolved)?T(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(C(e.isStatic)&&C(t.isStatic)&&e.key===t.key&&(C(e.isCloned)||C(e.isOnce)))e.componentInstance=t.componentInstance;else{var o,a=e.data;P(a)&&P(o=a.hook)&&P(o=o.prepatch)&&o(t,e);var s=t.children,u=e.children;if(P(a)&&b(e)){for(o=0;o<g.update.length;++o)g.update[o](t,e);P(o=a.hook)&&P(o=o.update)&&o(t,e)}N(e.text)?P(s)&&P(u)?s!==u&&function(t,e,n,r,i){for(var o,a,s,u=0,c=0,l=e.length-1,f=e[0],d=e[l],h=n.length-1,p=n[0],v=n[h],m=!i;u<=l&&c<=h;)N(f)?f=e[++u]:N(d)?d=e[--l]:nr(f,p)?(O(f,p,r),f=e[++u],p=n[++c]):nr(d,v)?(O(d,v,r),d=e[--l],v=n[--h]):nr(f,v)?(O(f,v,r),m&&_.insertBefore(t,f.elm,_.nextSibling(d.elm)),f=e[++u],v=n[--h]):(nr(d,p)?(O(d,p,r),m&&_.insertBefore(t,d.elm,f.elm),d=e[--l]):(N(o)&&(o=rr(e,u,l)),N(a=P(p.key)?o[p.key]:x(p,e,u,l))?w(p,r,t,f.elm,!1,n,c):nr(s=e[a],p)?(O(s,p,r),e[a]=void 0,m&&_.insertBefore(t,s.elm,f.elm)):w(p,r,t,f.elm,!1,n,c)),p=n[++c]);l<u?y(t,N(n[h+1])?null:n[h+1].elm,n,c,h,r):h<c&&S(0,e,u,l)}(i,s,u,n,r):P(u)?(P(t.text)&&_.setTextContent(i,""),y(i,null,u,0,u.length-1,n)):P(s)?S(0,s,0,s.length-1):P(t.text)&&_.setTextContent(i,""):t.text!==e.text&&_.setTextContent(i,e.text),P(a)&&P(o=a.hook)&&P(o=o.postpatch)&&o(t,e)}}}function M(t,e,n){if(C(n)&&P(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var m=s("attrs,class,staticClass,staticStyle,key");function T(t,e,n,r){var i,o=e.tag,a=e.data,s=e.children;if(r=r||a&&a.pre,e.elm=t,C(e.isComment)&&P(e.asyncFactory))return e.isAsyncPlaceholder=!0;if(P(a)&&(P(i=a.hook)&&P(i=i.init)&&i(e,!0),P(i=e.componentInstance)))return h(e,n),!0;if(P(o)){if(P(s))if(t.hasChildNodes())if(P(i=a)&&P(i=i.domProps)&&P(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var u=!0,c=t.firstChild,l=0;l<s.length;l++){if(!c||!T(c,s[l],n,r)){u=!1;break}c=c.nextSibling}if(!u||c)return!1}else p(e,s,n);if(P(a)){var f=!1;for(var d in a)if(!m(d)){f=!0,v(e,n);break}!f&&a.class&&ne(a.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,r,i,o){if(!N(e)){var a,s=!1,u=[];if(N(t))s=!0,w(e,u,i,o);else{var c=P(t.nodeType);if(!c&&nr(t,e))O(t,e,u,r);else{if(c){if(1===t.nodeType&&t.hasAttribute($)&&(t.removeAttribute($),n=!0),C(n)&&T(t,e,u))return M(e,u,!0),t;a=t,t=new ht(_.tagName(a).toLowerCase(),{},[],void 0,a)}var l=t.elm,f=_.parentNode(l);if(w(e,u,l._leaveCb?null:f,_.nextSibling(l)),P(e.parent))for(var d=e.parent,h=b(e);d;){for(var p=0;p<g.destroy.length;++p)g.destroy[p](d);if(d.elm=e.elm,h){for(var v=0;v<g.create.length;++v)g.create[v](tr,d);var m=d.data.hook.insert;if(m.merged)for(var y=1;y<m.fns.length;y++)m.fns[y]()}else Qn(d);d=d.parent}P(f)?S(0,[t],0,0):P(t.tag)&&k(t)}}return M(e,u,s),e.elm}P(t)&&k(t)}}({nodeOps:Kn,modules:[hr,br,zr,Jr,oi,G?{create:Ai,activate:Ai,remove:function(t,e){!0!==t.data.show?Ti(t,e):e()}}:{}].concat(cr)});q&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Ii(t,"input")});var ji={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?se(n,"postpatch",function(){ji.componentUpdated(t,e,n)}):Ei(t,e,n.context),t._vOptions=[].map.call(t.options,Pi)):("textarea"===n.tag||Zn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Li),t.addEventListener("compositionend",Fi),t.addEventListener("change",Fi),q&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ei(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Pi);if(i.some(function(t,e){return!M(t,r[e])}))(t.multiple?e.value.some(function(t){return Ni(t,i)}):e.value!==e.oldValue&&Ni(e.value,i))&&Ii(t,"change")}}};function Ei(t,e,n){Yi(t,e,n),(Z||K)&&setTimeout(function(){Yi(t,e,n)},0)}function Yi(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=-1<A(r,Pi(a)),a.selected!==o&&(a.selected=o);else if(M(Pi(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Ni(e,t){return t.every(function(t){return!M(t,e)})}function Pi(t){return"_value"in t?t._value:t.value}function Li(t){t.target.composing=!0}function Fi(t){t.target.composing&&(t.target.composing=!1,Ii(t.target,"input"))}function Ii(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Ri(t){return!t.componentInstance||t.data&&t.data.transition?t:Ri(t.componentInstance._vnode)}var Hi={model:ji,show:{bind:function(t,e,n){var r=e.value,i=(n=Ri(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Mi(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Ri(n)).data&&n.data.transition?(n.data.show=!0,r?Mi(n,function(){t.style.display=t.__vOriginalDisplay}):Ti(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},Wi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ui(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ui(he(e.children)):t}function Vi(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[g(o)]=i[o];return e}function Gi(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var zi={name:"transition",props:Wi,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(function(t){return t.tag||de(t)})).length){0;var r=this.mode;0;var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=Ui(i);if(!o)return i;if(this._leaving)return Gi(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:D(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s,u,c=(o.data||(o.data={})).transition=Vi(this),l=this._vnode,f=Ui(l);if(o.data.directives&&o.data.directives.some(function(t){return"show"===t.name})&&(o.data.show=!0),f&&f.data&&(s=o,(u=f).key!==s.key||u.tag!==s.tag)&&!de(f)&&(!f.componentInstance||!f.componentInstance._vnode.isComment)){var d=f.data.transition=k({},c);if("out-in"===r)return this._leaving=!0,se(d,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Gi(t,i);if("in-out"===r){if(de(o))return l;var h,p=function(){h()};se(c,"afterEnter",p),se(c,"enterCancelled",p),se(d,"delayLeave",function(t){h=t})}}return i}}},Bi=k({tag:String,moveClass:String},Wi);function Ji(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Zi(t){t.data.newPos=t.elm.getBoundingClientRect()}function qi(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete Bi.mode;var Ki={Transition:zi,TransitionGroup:{props:Bi,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Vi(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),((n[u.key]=u).data||(u.data={})).transition=a;else;}if(r){for(var c=[],l=[],f=0;f<r.length;f++){var d=r[f];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?c.push(d):l.push(d)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,r=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,r)&&(t.forEach(Ji),t.forEach(Zi),t.forEach(qi),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,e=n.style;_i(n,r),e.transform=e.WebkitTransform=e.transitionDuration="",n.addEventListener(pi,n._moveCb=function t(e){e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(pi,t),n._moveCb=null,wi(n,r))})}}))},methods:{hasMove:function(t,e){if(!li)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){si(n,t)}),ai(n,e),n.style.display="none",this.$el.appendChild(n);var r=Si(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};_n.config.mustUseProp=jn,_n.config.isReservedTag=zn,_n.config.isReservedAttr=An,_n.config.getTagNamespace=Bn,_n.config.isUnknownElement=function(t){if(!G)return!0;if(zn(t))return!1;if(t=t.toLowerCase(),null!=Jn[t])return Jn[t];var e=document.createElement(t);return-1<t.indexOf("-")?Jn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Jn[t]=/HTMLUnknownElement/.test(e.toString())},k(_n.options.directives,Hi),k(_n.options.components,Ki),_n.prototype.__patch__=G?$i:x,_n.prototype.$mount=function(t,e){return t=t&&G?qn(t):void 0,r=t,i=e,(n=this).$el=r,n.$options.render||(n.$options.render=vt),Se(n,"beforeMount"),new je(n,function(){n._update(n._render(),i)},x,null,!0),i=!1,null==n.$vnode&&(n._isMounted=!0,Se(n,"mounted")),n;var n,r,i},G&&setTimeout(function(){Y.devtools&&rt&&rt.emit("init",_n)},0);var Xi=/\{\{((?:.|\n)+?)\}\}/g,Qi=/[-.*+?^${}()|[\]\/\\]/g,to=h(function(t){var e=t[0].replace(Qi,"\\$&"),n=t[1].replace(Qi,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function eo(t,e){var n=e?to(e):Xi;if(n.test(t)){for(var r,i,o,a=[],s=[],u=n.lastIndex=0;r=n.exec(t);){u<(i=r.index)&&(s.push(o=t.slice(u,i)),a.push(JSON.stringify(o)));var c=Sr(r[1].trim());a.push("_s("+c+")"),s.push({"@binding":c}),u=i+r[0].length}return u<t.length&&(s.push(o=t.slice(u)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}var no={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=jr(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=$r(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var ro,io={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=jr(t,"style");n&&(t.staticStyle=JSON.stringify(Zr(n)));var r=$r(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},oo=function(t){return(ro=ro||document.createElement("div")).innerHTML=t,ro.textContent},ao=s("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),so=s("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),uo=s("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),co=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,lo="[a-zA-Z_][\\w\\-\\.]*",fo="((?:"+lo+"\\:)?"+lo+")",ho=new RegExp("^<"+fo),po=/^\s*(\/?)>/,vo=new RegExp("^<\\/"+fo+"[^>]*>"),mo=/^<!DOCTYPE [^>]+>/i,yo=/^<!\--/,go=/^<!\[/,_o=!1;"x".replace(/x(.)?/g,function(t,e){_o=""===e});var wo=s("script,style,textarea",!0),bo={},ko={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},So=/&(?:lt|gt|quot|amp);/g,xo=/&(?:lt|gt|quot|amp|#10|#9);/g,Oo=s("pre,textarea",!0),Mo=function(t,e){return t&&Oo(t)&&"\n"===e[0]};var To,Co,Do,Ao,$o,jo,Eo,Yo,No=/^@|^v-on:/,Po=/^v-|^@|^:/,Lo=/([^]*?)\s+(?:in|of)\s+([^]*)/,Fo=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Io=/^\(|\)$/g,Ro=/:(.*)$/,Ho=/^:|^v-bind:/,Wo=/\.[^.]+/g,Uo=h(oo);function Vo(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}(e),parent:n,children:[]}}function Go(t,h){To=h.warn||Or,jo=h.isPreTag||T,Eo=h.mustUseProp||T,Yo=h.getTagNamespace||T,Do=Mr(h.modules,"transformNode"),Ao=Mr(h.modules,"preTransformNode"),$o=Mr(h.modules,"postTransformNode"),Co=h.delimiters;var p,v,m=[],i=!1!==h.preserveWhitespace,y=!1,g=!1;function _(t){t.pre&&(y=!1),jo(t.tag)&&(g=!1);for(var e=0;e<$o.length;e++)$o[e](t,h)}return function(i,h){for(var t,p,v=[],m=h.expectHTML,y=h.isUnaryTag||T,g=h.canBeLeftOpenTag||T,a=0;i;){if(t=i,p&&wo(p)){var r=0,o=p.toLowerCase(),e=bo[o]||(bo[o]=new RegExp("([\\s\\S]*?)(</"+o+"[^>]*>)","i")),n=i.replace(e,function(t,e,n){return r=n.length,wo(o)||"noscript"===o||(e=e.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Mo(o,e)&&(e=e.slice(1)),h.chars&&h.chars(e),""});a+=i.length-n.length,i=n,M(o,a-r,a)}else{var s=i.indexOf("<");if(0===s){if(yo.test(i)){var u=i.indexOf("--\x3e");if(0<=u){h.shouldKeepComment&&h.comment(i.substring(4,u)),S(u+3);continue}}if(go.test(i)){var c=i.indexOf("]>");if(0<=c){S(c+2);continue}}var l=i.match(mo);if(l){S(l[0].length);continue}var f=i.match(vo);if(f){var d=a;S(f[0].length),M(f[1],d,a);continue}var _=x();if(_){O(_),Mo(p,i)&&S(1);continue}}var w=void 0,b=void 0,k=void 0;if(0<=s){for(b=i.slice(s);!(vo.test(b)||ho.test(b)||yo.test(b)||go.test(b)||(k=b.indexOf("<",1))<0);)s+=k,b=i.slice(s);w=i.substring(0,s),S(s)}s<0&&(w=i,i=""),h.chars&&w&&h.chars(w)}if(i===t){h.chars&&h.chars(i);break}}function S(t){a+=t,i=i.substring(t)}function x(){var t=i.match(ho);if(t){var e,n,r={tagName:t[1],attrs:[],start:a};for(S(t[0].length);!(e=i.match(po))&&(n=i.match(co));)S(n[0].length),r.attrs.push(n);if(e)return r.unarySlash=e[1],S(e[0].length),r.end=a,r}}function O(t){var e=t.tagName,n=t.unarySlash;m&&("p"===p&&uo(e)&&M(p),g(e)&&p===e&&M(e));for(var r,i,o,a=y(e)||!!n,s=t.attrs.length,u=new Array(s),c=0;c<s;c++){var l=t.attrs[c];_o&&-1===l[0].indexOf('""')&&(""===l[3]&&delete l[3],""===l[4]&&delete l[4],""===l[5]&&delete l[5]);var f=l[3]||l[4]||l[5]||"",d="a"===e&&"href"===l[1]?h.shouldDecodeNewlinesForHref:h.shouldDecodeNewlines;u[c]={name:l[1],value:(r=f,i=d,o=i?xo:So,r.replace(o,function(t){return ko[t]}))}}a||(v.push({tag:e,lowerCasedTag:e.toLowerCase(),attrs:u}),p=e),h.start&&h.start(e,u,a,t.start,t.end)}function M(t,e,n){var r,i;if(null==e&&(e=a),null==n&&(n=a),t&&(i=t.toLowerCase()),t)for(r=v.length-1;0<=r&&v[r].lowerCasedTag!==i;r--);else r=0;if(0<=r){for(var o=v.length-1;r<=o;o--)h.end&&h.end(v[o].tag,e,n);v.length=r,p=r&&v[r-1].tag}else"br"===i?h.start&&h.start(t,[],!0,e,n):"p"===i&&(h.start&&h.start(t,[],!1,e,n),h.end&&h.end(t,e,n))}M()}(t,{warn:To,expectHTML:h.expectHTML,isUnaryTag:h.isUnaryTag,canBeLeftOpenTag:h.canBeLeftOpenTag,shouldDecodeNewlines:h.shouldDecodeNewlines,shouldDecodeNewlinesForHref:h.shouldDecodeNewlinesForHref,shouldKeepComment:h.comments,start:function(t,e,n){var r=v&&v.ns||Yo(t);Z&&"svg"===r&&(e=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];qo.test(r.name)||(r.name=r.name.replace(Ko,""),e.push(r))}return e}(e));var i,o,a,s,u,c=Vo(t,e,v);r&&(c.ns=r),"style"!==(i=c).tag&&("script"!==i.tag||i.attrsMap.type&&"text/javascript"!==i.attrsMap.type)||nt()||(c.forbidden=!0);for(var l=0;l<Ao.length;l++)c=Ao[l](c,h)||c;function f(t){0}if(y||(null!=jr(o=c,"v-pre")&&(o.pre=!0),c.pre&&(y=!0)),jo(c.tag)&&(g=!0),y?function(t){var e=t.attrsList.length;if(e)for(var n=t.attrs=new Array(e),r=0;r<e;r++)n[r]={name:t.attrsList[r].name,value:JSON.stringify(t.attrsList[r].value)};else t.pre||(t.plain=!0)}(c):c.processed||(Bo(c),function(t){var e=jr(t,"v-if");if(e)t.if=e,Jo(t,{exp:e,block:t});else{null!=jr(t,"v-else")&&(t.else=!0);var n=jr(t,"v-else-if");n&&(t.elseif=n)}}(c),null!=jr(a=c,"v-once")&&(a.once=!0),zo(c,h)),p?m.length||p.if&&(c.elseif||c.else)&&(f(),Jo(p,{exp:c.elseif,block:c})):(p=c,f()),v&&!c.forbidden)if(c.elseif||c.else)s=c,(u=function(t){var e=t.length;for(;e--;){if(1===t[e].type)return t[e];t.pop()}}(v.children))&&u.if&&Jo(u,{exp:s.elseif,block:s});else if(c.slotScope){v.plain=!1;var d=c.slotTarget||'"default"';(v.scopedSlots||(v.scopedSlots={}))[d]=c}else v.children.push(c),c.parent=v;n?_(c):(v=c,m.push(c))},end:function(){var t=m[m.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!g&&t.children.pop(),m.length-=1,v=m[m.length-1],_(t)},chars:function(t){if(v&&(!Z||"textarea"!==v.tag||v.attrsMap.placeholder!==t)){var e,n,r=v.children;if(t=g||t.trim()?"script"===(e=v).tag||"style"===e.tag?t:Uo(t):i&&r.length?" ":"")!y&&" "!==t&&(n=eo(t,Co))?r.push({type:2,expression:n.expression,tokens:n.tokens,text:t}):" "===t&&r.length&&" "===r[r.length-1].text||r.push({type:3,text:t})}},comment:function(t){v.children.push({type:3,text:t,isComment:!0})}}),p}function zo(t,e){var n,r,i,o;(r=$r(n=t,"key"))&&(n.key=r),t.plain=!t.key&&!t.attrsList.length,(o=$r(i=t,"ref"))&&(i.ref=o,i.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(i)),function(t){if("slot"===t.tag)t.slotName=$r(t,"name");else{var e;"template"===t.tag?(e=jr(t,"scope"),t.slotScope=e||jr(t,"slot-scope")):(e=jr(t,"slot-scope"))&&(t.slotScope=e);var n=$r(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,"template"===t.tag||t.slotScope||Cr(t,"slot",n))}}(t),function(t){var e;(e=$r(t,"is"))&&(t.component=e);null!=jr(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var a=0;a<Do.length;a++)t=Do[a](t,e)||t;!function(t){var e,n,r,i,o,a,s,u=t.attrsList;for(e=0,n=u.length;e<n;e++){if(r=i=u[e].name,o=u[e].value,Po.test(r))if(t.hasBindings=!0,(a=Zo(r))&&(r=r.replace(Wo,"")),Ho.test(r))r=r.replace(Ho,""),o=Sr(o),s=!1,a&&(a.prop&&(s=!0,"innerHtml"===(r=g(r))&&(r="innerHTML")),a.camel&&(r=g(r)),a.sync&&Ar(t,"update:"+g(r),Yr(o,"$event"))),s||!t.component&&Eo(t.tag,t.attrsMap.type,r)?Tr(t,r,o):Cr(t,r,o);else if(No.test(r))r=r.replace(No,""),Ar(t,r,o,a,!1);else{var c=(r=r.replace(Po,"")).match(Ro),l=c&&c[1];l&&(r=r.slice(0,-(l.length+1))),d=r,h=i,p=o,v=l,m=a,((f=t).directives||(f.directives=[])).push({name:d,rawName:h,value:p,arg:v,modifiers:m}),f.plain=!1}else Cr(t,r,JSON.stringify(o)),!t.component&&"muted"===r&&Eo(t.tag,t.attrsMap.type,r)&&Tr(t,r,"true")}var f,d,h,p,v,m}(t)}function Bo(t){var e;if(e=jr(t,"v-for")){var n=function(t){var e=t.match(Lo);if(!e)return;var n={};n.for=e[2].trim();var r=e[1].trim().replace(Io,""),i=r.match(Fo);i?(n.alias=r.replace(Fo,""),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r;return n}(e);n&&k(t,n)}}function Jo(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Zo(t){var e=t.match(Wo);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}var qo=/^xmlns:NS\d+/,Ko=/^NS\d+:/;function Xo(t){return Vo(t.tag,t.attrsList.slice(),t.parent)}var Qo=[no,io,{preTransformNode:function(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=$r(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=jr(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=jr(t,"v-else",!0),s=jr(t,"v-else-if",!0),u=Xo(t);Bo(u),Dr(u,"type","checkbox"),zo(u,e),u.processed=!0,u.if="("+n+")==='checkbox'"+o,Jo(u,{exp:u.if,block:u});var c=Xo(t);jr(c,"v-for",!0),Dr(c,"type","radio"),zo(c,e),Jo(u,{exp:"("+n+")==='radio'"+o,block:c});var l=Xo(t);return jr(l,"v-for",!0),Dr(l,":type",n),zo(l,e),Jo(u,{exp:i,block:l}),a?u.else=!0:s&&(u.elseif=s),u}}}}];var ta,ea,na,ra={expectHTML:!0,modules:Qo,directives:{model:function(t,e,n){n;var r,i,o,a,s,u,c,l,f,d,h,p,v,m,y,g,_=e.value,w=e.modifiers,b=t.tag,k=t.attrsMap.type;if(t.component)return Er(t,_,w),!1;if("select"===b)v=t,m=_,g=(g='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+((y=w)&&y.number?"_n(val)":"val")+"});")+" "+Yr(m,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Ar(v,"change",g,null,!0);else if("input"===b&&"checkbox"===k)u=t,c=_,f=(l=w)&&l.number,d=$r(u,"value")||"null",h=$r(u,"true-value")||"true",p=$r(u,"false-value")||"false",Tr(u,"checked","Array.isArray("+c+")?_i("+c+","+d+")>-1"+("true"===h?":("+c+")":":_q("+c+","+h+")")),Ar(u,"change","var $$a="+c+",$$el=$event.target,$$c=$$el.checked?("+h+"):("+p+");if(Array.isArray($$a)){var $$v="+(f?"_n("+d+")":d)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Yr(c,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Yr(c,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Yr(c,"$$c")+"}",null,!0);else if("input"===b&&"radio"===k)r=t,i=_,a=(o=w)&&o.number,s=$r(r,"value")||"null",Tr(r,"checked","_q("+i+","+(s=a?"_n("+s+")":s)+")"),Ar(r,"change",Yr(i,s),null,!0);else if("input"===b||"textarea"===b)!function(t,e,n){var r=t.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,u=!o&&"range"!==r,c=o?"change":"range"===r?Hr:"input",l="$event.target.value";s&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var f=Yr(e,l);u&&(f="if($event.target.composing)return;"+f),Tr(t,"value","("+e+")"),Ar(t,c,f,null,!0),(s||a)&&Ar(t,"blur","$forceUpdate()")}(t,_,w);else if(!Y.isReservedTag(b))return Er(t,_,w),!1;return!0},text:function(t,e){e.value&&Tr(t,"textContent","_s("+e.value+")")},html:function(t,e){e.value&&Tr(t,"innerHTML","_s("+e.value+")")}},isPreTag:function(t){return"pre"===t},isUnaryTag:ao,mustUseProp:jn,canBeLeftOpenTag:so,isReservedTag:zn,getTagNamespace:Bn,staticKeys:(ta=Qo,ta.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(","))},ia=h(function(t){return s("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))});function oa(t,e){t&&(ea=ia(e.staticKeys||""),na=e.isReservedTag||T,function t(e){e.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||u(t.tag)||!na(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(ea)))}(e);if(1===e.type){if(!na(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,r=e.children.length;n<r;n++){var i=e.children[n];t(i),i.static||(e.static=!1)}if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++){var s=e.ifConditions[o].block;t(s),s.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var r=0,i=e.children.length;r<i;r++)t(e.children[r],n||!!e.for);if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++)t(e.ifConditions[o].block,n)}}(t,!1))}var aa=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,sa=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ua={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},ca={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]},la=function(t){return"if("+t+")return null;"},fa={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:la("$event.target !== $event.currentTarget"),ctrl:la("!$event.ctrlKey"),shift:la("!$event.shiftKey"),alt:la("!$event.altKey"),meta:la("!$event.metaKey"),left:la("'button' in $event && $event.button !== 0"),middle:la("'button' in $event && $event.button !== 1"),right:la("'button' in $event && $event.button !== 2")};function da(t,e,n){var r=e?"nativeOn:{":"on:{";for(var i in t)r+='"'+i+'":'+ha(i,t[i])+",";return r.slice(0,-1)+"}"}function ha(e,t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return ha(e,t)}).join(",")+"]";var n=sa.test(t.value),r=aa.test(t.value);if(t.modifiers){var i="",o="",a=[];for(var s in t.modifiers)if(fa[s])o+=fa[s],ua[s]&&a.push(s);else if("exact"===s){var u=t.modifiers;o+=la(["ctrl","shift","alt","meta"].filter(function(t){return!u[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else a.push(s);return a.length&&(i+="if(!('button' in $event)&&"+a.map(pa).join("&&")+")return null;"),o&&(i+=o),"function($event){"+i+(n?"return "+t.value+"($event)":r?"return ("+t.value+")($event)":t.value)+"}"}return n||r?t.value:"function($event){"+t.value+"}"}function pa(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=ua[t],r=ca[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var va={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(e,n){e.wrapData=function(t){return"_b("+t+",'"+e.tag+"',"+n.value+","+(n.modifiers&&n.modifiers.prop?"true":"false")+(n.modifiers&&n.modifiers.sync?",true":"")+")"}},cloak:x},ma=function(t){this.options=t,this.warn=t.warn||Or,this.transforms=Mr(t.modules,"transformCode"),this.dataGenFns=Mr(t.modules,"genData"),this.directives=k(k({},va),t.directives);var e=t.isReservedTag||T;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]};function ya(t,e){var n=new ma(e);return{render:"with(this){return "+(t?ga(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function ga(t,e){if(t.staticRoot&&!t.staticProcessed)return _a(t,e);if(t.once&&!t.onceProcessed)return wa(t,e);if(t.for&&!t.forProcessed)return function(t,e,n,r){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";0;return t.forProcessed=!0,(r||"_l")+"(("+i+"),function("+o+a+s+"){return "+(n||ga)(t,e)+"})"}(t,e);if(t.if&&!t.ifProcessed)return ba(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=xa(t,e),i="_t("+n+(r?","+r:""),o=t.attrs&&"{"+t.attrs.map(function(t){return g(t.name)+":"+t.value}).join(",")+"}",a=t.attrsMap["v-bind"];!o&&!a||r||(i+=",null");o&&(i+=","+o);a&&(i+=(o?"":",null")+","+a);return i+")"}(t,e);var n;if(t.component)a=t.component,u=e,c=(s=t).inlineTemplate?null:xa(s,u,!0),n="_c("+a+","+ka(s,u)+(c?","+c:"")+")";else{var r=t.plain?void 0:ka(t,e),i=t.inlineTemplate?null:xa(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return xa(t,e)||"void 0";var a,s,u,c}function _a(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+ga(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function wa(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return ba(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+ga(t,e)+","+e.onceId+++","+n+")":ga(t,e)}return _a(t,e)}function ba(t,e,n,r){return t.ifProcessed=!0,function t(e,n,r,i){if(!e.length)return i||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+a(o.block)+":"+t(e,n,r,i):""+a(o.block);function a(t){return r?r(t,n):t.once?wa(t,n):ga(t,n)}}(t.ifConditions.slice(),e,n,r)}function ka(t,e){var n,r,i="{",o=function(t,e){var n=t.directives;if(!n)return;var r,i,o,a,s="directives:[",u=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var c=e.directives[o.name];c&&(a=!!c(t,o,e.warn)),a&&(u=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(u)return s.slice(0,-1)+"]"}(t,e);o&&(i+=o+","),t.key&&(i+="key:"+t.key+","),t.ref&&(i+="ref:"+t.ref+","),t.refInFor&&(i+="refInFor:true,"),t.pre&&(i+="pre:true,"),t.component&&(i+='tag:"'+t.tag+'",');for(var a=0;a<e.dataGenFns.length;a++)i+=e.dataGenFns[a](t);if(t.attrs&&(i+="attrs:{"+Ta(t.attrs)+"},"),t.props&&(i+="domProps:{"+Ta(t.props)+"},"),t.events&&(i+=da(t.events,!1,e.warn)+","),t.nativeEvents&&(i+=da(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(i+="slot:"+t.slotTarget+","),t.scopedSlots&&(i+=(n=t.scopedSlots,r=e,"scopedSlots:_u(["+Object.keys(n).map(function(t){return Sa(t,n[t],r)}).join(",")+"]),")),t.model&&(i+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var s=function(t,e){var n=t.children[0];0;if(1===n.type){var r=ya(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);s&&(i+=s+",")}return i=i.replace(/,$/,"")+"}",t.wrapData&&(i=t.wrapData(i)),t.wrapListeners&&(i=t.wrapListeners(i)),i}function Sa(t,e,n){return e.for&&!e.forProcessed?(r=t,o=n,a=(i=e).for,s=i.alias,u=i.iterator1?","+i.iterator1:"",c=i.iterator2?","+i.iterator2:"",i.forProcessed=!0,"_l(("+a+"),function("+s+u+c+"){return "+Sa(r,i,o)+"})"):"{key:"+t+",fn:"+("function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+(xa(e,n)||"undefined")+":undefined":xa(e,n)||"undefined":ga(e,n))+"}")+"}";var r,i,o,a,s,u,c}function xa(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(r||ga)(a,e);var s=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(Oa(i)||i.ifConditions&&i.ifConditions.some(function(t){return Oa(t.block)})){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}(o,e.maybeComponent):0,u=i||Ma;return"["+o.map(function(t){return u(t,e)}).join(",")+"]"+(s?","+s:"")}}function Oa(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Ma(t,e){return 1===t.type?ga(t,e):3===t.type&&t.isComment?(r=t,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=t).type?n.expression:Ca(JSON.stringify(n.text)))+")";var n,r}function Ta(t){for(var e="",n=0;n<t.length;n++){var r=t[n];e+='"'+r.name+'":'+Ca(r.value)+","}return e.slice(0,-1)}function Ca(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function Da(e,n){try{return new Function(e)}catch(t){return n.push({err:t,code:e}),x}}var Aa,$a,ja=(Aa=function(t,e){var n=Go(t.trim(),e);!1!==e.optimize&&oa(n,e);var r=ya(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(s){function t(t,e){var n=Object.create(s),r=[],i=[];if(n.warn=function(t,e){(e?i:r).push(t)},e)for(var o in e.modules&&(n.modules=(s.modules||[]).concat(e.modules)),e.directives&&(n.directives=k(Object.create(s.directives||null),e.directives)),e)"modules"!==o&&"directives"!==o&&(n[o]=e[o]);var a=Aa(t,n);return a.errors=r,a.tips=i,a}return{compile:t,compileToFunctions:(u=t,c=Object.create(null),function(t,e,n){(e=k({},e)).warn,delete e.warn;var r=e.delimiters?String(e.delimiters)+t:t;if(c[r])return c[r];var i=u(t,e),o={},a=[];return o.render=Da(i.render,a),o.staticRenderFns=i.staticRenderFns.map(function(t){return Da(t,a)}),c[r]=o})};var u,c})(ra).compileToFunctions;function Ea(t){return($a=$a||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',0<$a.innerHTML.indexOf("&#10;")}var Ya=!!G&&Ea(!1),Na=!!G&&Ea(!0),Pa=h(function(t){var e=qn(t);return e&&e.innerHTML}),La=_n.prototype.$mount;_n.prototype.$mount=function(t,e){if((t=t&&qn(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=Pa(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){{if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}}(t));if(r){0;var i=ja(r,{shouldDecodeNewlines:Ya,shouldDecodeNewlinesForHref:Na,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return La.call(this,t,e)},_n.compile=ja,Fa.exports=_n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{timers:17}],20:[function(t,e,n){
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */
"use strict";var c="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(e,n){Object.keys(e).forEach(function(t){return n(e[t],t)})}var o=function(t,e){this.runtime=e,this._children=Object.create(null);var n=(this._rawModule=t).state;this.state=("function"==typeof n?n():n)||{}},r={namespaced:{configurable:!0}};r.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function(t,e){this._children[t]=e},o.prototype.removeChild=function(t){delete this._children[t]},o.prototype.getChild=function(t){return this._children[t]},o.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},o.prototype.forEachChild=function(t){s(this._children,t)},o.prototype.forEachGetter=function(t){this._rawModule.getters&&s(this._rawModule.getters,t)},o.prototype.forEachAction=function(t){this._rawModule.actions&&s(this._rawModule.actions,t)},o.prototype.forEachMutation=function(t){this._rawModule.mutations&&s(this._rawModule.mutations,t)},Object.defineProperties(o.prototype,r);var l=function(t){this.register([],t,!1)};l.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},l.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(t,e){return t+((n=n.getChild(e)).namespaced?e+"/":"")},"")},l.prototype.update=function(t){!function t(e,n,r){0;n.update(r);if(r.modules)for(var i in r.modules){if(!n.getChild(i))return void 0;t(e.concat(i),n.getChild(i),r.modules[i])}}([],this.root,t)},l.prototype.register=function(n,t,r){var i=this;void 0===r&&(r=!0);var e=new o(t,r);0===n.length?this.root=e:this.get(n.slice(0,-1)).addChild(n[n.length-1],e);t.modules&&s(t.modules,function(t,e){i.register(n.concat(e),t,r)})},l.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var v;var i=function(t){var e=this;void 0===t&&(t={}),!v&&"undefined"!=typeof window&&window.Vue&&h(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1);var i=t.state;void 0===i&&(i={}),"function"==typeof i&&(i=i()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new l(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new v;var o,a=this,s=this.dispatch,u=this.commit;this.dispatch=function(t,e){return s.call(a,t,e)},this.commit=function(t,e,n){return u.call(a,t,e,n)},this.strict=r,m(this,i,[],this._modules.root),d(this,i),n.forEach(function(t){return t(e)}),v.config.devtools&&(o=this,c&&((o._devtoolHook=c).emit("vuex:init",o),c.on("vuex:travel-to-state",function(t){o.replaceState(t)}),o.subscribe(function(t,e){c.emit("vuex:mutation",t,e)})))},a={state:{configurable:!0}};function u(e,n){return n.indexOf(e)<0&&n.push(e),function(){var t=n.indexOf(e);-1<t&&n.splice(t,1)}}function f(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;m(t,n,[],t._modules.root,!0),d(t,n,e)}function d(n,t,e){var r=n._vm;n.getters={};var i=n._wrappedGetters,o={};s(i,function(t,e){o[e]=function(){return t(n)},Object.defineProperty(n.getters,e,{get:function(){return n._vm[e]},enumerable:!0})});var a=v.config.silent;v.config.silent=!0,n._vm=new v({data:{$$state:t},computed:o}),v.config.silent=a,n.strict&&n._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0}),r&&(e&&n._withCommit(function(){r._data.$$state=null}),v.nextTick(function(){return r.$destroy()}))}function m(u,n,r,t,i){var e=!r.length,c=u._modules.getNamespace(r);if(t.namespaced&&(u._modulesNamespaceMap[c]=t),!e&&!i){var o=y(n,r.slice(0,-1)),a=r[r.length-1];u._withCommit(function(){v.set(o,a,t.state)})}var s,l,f,d,h,p=t.context=(s=u,f=r,h={dispatch:(d=""===(l=c))?s.dispatch:function(t,e,n){var r=g(t,e,n),i=r.payload,o=r.options,a=r.type;return o&&o.root||(a=l+a),s.dispatch(a,i)},commit:d?s.commit:function(t,e,n){var r=g(t,e,n),i=r.payload,o=r.options,a=r.type;o&&o.root||(a=l+a),s.commit(a,i,o)}},Object.defineProperties(h,{getters:{get:d?function(){return s.getters}:function(){return n=s,i={},o=(r=l).length,Object.keys(n.getters).forEach(function(t){if(t.slice(0,o)===r){var e=t.slice(o);Object.defineProperty(i,e,{get:function(){return n.getters[t]},enumerable:!0})}}),i;var n,r,i,o}},state:{get:function(){return y(s.state,f)}}}),h);t.forEachMutation(function(t,e){var n,r,i,o;r=c+e,i=t,o=p,((n=u)._mutations[r]||(n._mutations[r]=[])).push(function(t){i.call(n,o.state,t)})}),t.forEachAction(function(t,e){var i,n,o,a,r=t.root?e:c+e,s=t.handler||t;n=r,o=s,a=p,((i=u)._actions[n]||(i._actions[n]=[])).push(function(t,e){var n,r=o.call(i,{dispatch:a.dispatch,commit:a.commit,getters:a.getters,state:a.state,rootGetters:i.getters,rootState:i.state},t,e);return(n=r)&&"function"==typeof n.then||(r=Promise.resolve(r)),i._devtoolHook?r.catch(function(t){throw i._devtoolHook.emit("vuex:error",t),t}):r})}),t.forEachGetter(function(t,e){!function(t,e,n,r){if(t._wrappedGetters[e])return;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(u,c+e,t,p)}),t.forEachChild(function(t,e){m(u,n,r.concat(e),t,i)})}function y(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function g(t,e,n){var r;return null!==(r=t)&&"object"==typeof r&&t.type&&(n=e,t=(e=t).type),{type:t,payload:e,options:n}}function h(t){v&&t===v||function(t){if(2<=Number(t.version.split(".")[0]))t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(v=t)}a.state.get=function(){return this._vm._data.$$state},a.state.set=function(t){0},i.prototype.commit=function(t,e,n){var r=this,i=g(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,r.state)}))},i.prototype.dispatch=function(t,e){var n=this,r=g(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s)return this._actionSubscribers.forEach(function(t){return t(a,n.state)}),1<s.length?Promise.all(s.map(function(t){return t(o)})):s[0](o)},i.prototype.subscribe=function(t){return u(t,this._subscribers)},i.prototype.subscribeAction=function(t){return u(t,this._actionSubscribers)},i.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch(function(){return t(r.state,r.getters)},e,n)},i.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},i.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),m(this,this.state,t,this._modules.get(t),n.preserveState),d(this,this.state)},i.prototype.unregisterModule=function(e){var n=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var t=y(n.state,e.slice(0,-1));v.delete(t,e[e.length-1])}),f(this)},i.prototype.hotUpdate=function(t){this._modules.update(t),f(this,!0)},i.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(i.prototype,a);var p=S(function(i,t){var n={};return k(t).forEach(function(t){var e=t.key,r=t.val;n[e]=function(){var t=this.$store.state,e=this.$store.getters;if(i){var n=x(this.$store,"mapState",i);if(!n)return;t=n.context.state,e=n.context.getters}return"function"==typeof r?r.call(this,t,e):t[r]},n[e].vuex=!0}),n}),_=S(function(o,t){var n={};return k(t).forEach(function(t){var e=t.key,i=t.val;n[e]=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this.$store.commit;if(o){var r=x(this.$store,"mapMutations",o);if(!r)return;n=r.context.commit}return"function"==typeof i?i.apply(this,[n].concat(t)):n.apply(this.$store,[i].concat(t))}}),n}),w=S(function(r,t){var i={};return k(t).forEach(function(t){var e=t.key,n=t.val;n=r+n,i[e]=function(){if(!r||x(this.$store,"mapGetters",r))return this.$store.getters[n]},i[e].vuex=!0}),i}),b=S(function(o,t){var n={};return k(t).forEach(function(t){var e=t.key,i=t.val;n[e]=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this.$store.dispatch;if(o){var r=x(this.$store,"mapActions",o);if(!r)return;n=r.context.dispatch}return"function"==typeof i?i.apply(this,[n].concat(t)):n.apply(this.$store,[i].concat(t))}}),n});function k(e){return Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}function S(n){return function(t,e){return"string"!=typeof t?(e=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),n(t,e)}}function x(t,e,n){var r=t._modulesNamespaceMap[n];return r}var O={Store:i,install:h,version:"3.0.1",mapState:p,mapMutations:_,mapGetters:w,mapActions:b,createNamespacedHelpers:function(t){return{mapState:p.bind(null,t),mapGetters:w.bind(null,t),mapMutations:_.bind(null,t),mapActions:b.bind(null,t)}}};e.exports=O},{}],21:[function(t,e,n){"use strict";var o=r(t("underscore")),a=r(t("store")),s=r(t("store/plugins/events")),u=r(t("moment")),c=r(t("vue")),l=r(t("vuex")),f=r(t("autosize"));function r(t){return t&&t.__esModule?t:{default:t}}
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT https://github.com/vuejs/vue/blob/dev/LICENSE
 */
/**
 * moment
 * Copyright (c) JS Foundation and other contributors
 * @license MIT https://github.com/moment/moment/blob/develop/LICENSE
 */
/**
 * store.js
 * Copyright (c) 2010-2017 Marcus Westin 
 * @license MIT https://github.com/marcuswestin/store.js/blob/master/LICENSE
 */var i,d=void 0;
/**
 * autosize
 * Copyright (c) 2015 Jack Moore
 * @license MIT https://github.com/jackmoore/autosize/blob/master/LICENSE.md
 */
/**
 * vue
 * (c) opyright (c) 2013-present, Yuxi (Evan) You
 * @license MIT https://github.com/vuejs/vue/blob/dev/LICENSE
 */
/**
 * underscore
 * (c) Copyright (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * @license MIT https://github.com/jashkenas/underscore/blob/master/LICENSE
 */(
/**
 * autosize
 * Copyright (c) 2015 Jack Moore
 * @license MIT https://github.com/jackmoore/autosize/blob/master/LICENSE.md
 */
/**
 * vue
 * (c) opyright (c) 2013-present, Yuxi (Evan) You
 * @license MIT https://github.com/vuejs/vue/blob/dev/LICENSE
 */
/**
 * underscore
 * (c) Copyright (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * @license MIT https://github.com/jashkenas/underscore/blob/master/LICENSE
 */
i=window)._=o.default,i.joms=i.joms||{},i.joms=o.default.extend(i.joms,function(t){var e=t.Joomla&&t.Joomla.getOptions,n=Array.prototype.map,r=void 0;function i(t){return d.translations[t]}return d=e&&e("com_community")||t.joms_data||{},t.joms_lang=d.translations||{},a.default.addPlugin(s.default),r=i("date")||{},u.default.defineLocale("jomsocial",{parentLocale:"en",months:r.months,monthsShort:n.call(r.months,function(t){return t.substr(0,3)}),weekdays:r.days,weekdaysShort:n.call(r.days,function(t){return t.substr(0,3)}),weekdaysMin:n.call(r.days,function(t){return t.substr(0,2)})}),c.default.use(l.default),{_:o.default,getData:function(t){return d[t]},getTranslation:i,localStorage:a.default,storage:a.default,moment:u.default,Vue:c.default,Vuex:l.default,autosize_textarea:f.default}}(i))},{autosize:1,moment:2,store:4,"store/plugins/events":5,underscore:18,vue:19,vuex:20}]},{},[21]);


/*===============================
/components/com_community/assets/vendors/toolkit.min.js
================================================================================*/;
/**
 * Defer toolkit initialization. This function will be called after jQuery is loaded on the page.
 * @function joms_init_toolkit
 */
function joms_init_toolkit() {


/*! loadCSS: load a CSS file asynchronously. | (c) 2014 @scottjehl, Filament Group, Inc. | MIT license */
window.loadCSS=function(e,t,n){"use strict";var i=window.document.createElement("link");var o=t||window.document.getElementsByTagName("script")[0];i.rel="stylesheet";i.href=e;i.media="only x";o.parentNode.insertBefore(i,o);setTimeout(function(){i.media=n||"all"})};
/*! Backstretch v2.0.4 | (c) 2013 Scott Robbin, http://srobbin.com/jquery-plugins/backstretch/ | MIT license */
(function(a,d,p){a.fn.backstretch=function(c,b){(c===p||0===c.length)&&a.error("No images were supplied for Backstretch");0===a(d).scrollTop()&&d.scrollTo(0,0);return this.each(function(){var d=a(this),g=d.data("backstretch");if(g){if("string"==typeof c&&"function"==typeof g[c]){g[c](b);return}b=a.extend(g.options,b);g.destroy(!0)}g=new q(this,c,b);d.data("backstretch",g)})};a.backstretch=function(c,b){return a("body").backstretch(c,b).data("backstretch")};a.expr[":"].backstretch=function(c){return a(c).data("backstretch")!==p};a.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5E3,fade:0};var r={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},s={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},q=function(c,b,e){this.options=a.extend({},a.fn.backstretch.defaults,e||{});this.images=a.isArray(b)?b:[b];a.each(this.images,function(){a("<img />")[0].src=this});this.isBody=c===document.body;this.$container=a(c);this.$root=this.isBody?l?a(d):a(document):this.$container;c=this.$container.children(".backstretch").first();this.$wrap=c.length?c:a('<div class="backstretch"></div>').css(r).appendTo(this.$container);this.isBody||(c=this.$container.css("position"),b=this.$container.css("zIndex"),this.$container.css({position:"static"===c?"relative":c,zIndex:"auto"===b?0:b,background:"none"}),this.$wrap.css({zIndex:-999998}));this.$wrap.css({position:this.isBody&&l?"fixed":"absolute"});this.index=0;this.show(this.index);a(d).on("resize.backstretch",a.proxy(this.resize,this)).on("orientationchange.backstretch",a.proxy(function(){this.isBody&&0===d.pageYOffset&&(d.scrollTo(0,1),this.resize())},this))};q.prototype={resize:function(){try{var a={left:0,top:0},b=this.isBody?this.$root.width():this.$root.innerWidth(),e=b,g=this.isBody?d.innerHeight?d.innerHeight:this.$root.height():this.$root.innerHeight(),j=e/this.$img.data("ratio"),f;j>=g?(f=(j-g)/2,this.options.centeredY&&(a.top="-"+f+"px")):(j=g,e=j*this.$img.data("ratio"),f=(e-b)/2,this.options.centeredX&&(a.left="-"+f+"px"));this.$wrap.css({width:b,height:g}).find("img:not(.deleteable)").css({width:e,height:j}).css(a)}catch(h){}return this},show:function(c){if(!(Math.abs(c)>this.images.length-1)){var b=this,e=b.$wrap.find("img").addClass("deleteable"),d={relatedTarget:b.$container[0]};b.$container.trigger(a.Event("backstretch.before",d),[b,c]);this.index=c;clearInterval(b.interval);b.$img=a("<img />").css(s).bind("load",function(f){var h=this.width||a(f.target).width();f=this.height||a(f.target).height();a(this).data("ratio",h/f);a(this).fadeIn(b.options.speed||b.options.fade,function(){e.remove();b.paused||b.cycle();a(["after","show"]).each(function(){b.$container.trigger(a.Event("backstretch."+this,d),[b,c])})});b.resize()}).appendTo(b.$wrap);b.$img.attr("src",b.images[c]);return b}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){this.paused=!0;return this},resume:function(){this.paused=!1;this.next();return this},cycle:function(){1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(a.proxy(function(){this.paused||this.next()},this),this.options.duration));return this},destroy:function(c){a(d).off("resize.backstretch orientationchange.backstretch");clearInterval(this.interval);c||this.$wrap.remove();this.$container.removeData("backstretch")}};var l,f=navigator.userAgent,m=navigator.platform,e=f.match(/AppleWebKit\/([0-9]+)/),e=!!e&&e[1],h=f.match(/Fennec\/([0-9]+)/),h=!!h&&h[1],n=f.match(/Opera Mobi\/([0-9]+)/),t=!!n&&n[1],k=f.match(/MSIE ([0-9]+)/),k=!!k&&k[1];l=!((-1<m.indexOf("iPhone")||-1<m.indexOf("iPad")||-1<m.indexOf("iPod"))&&e&&534>e||d.operamini&&"[object OperaMini]"==={}.toString.call(d.operamini)||n&&7458>t||-1<f.indexOf("Android")&&e&&533>e||h&&6>h||"palmGetResource"in d&&e&&534>e||-1<f.indexOf("MeeGo")&&-1<f.indexOf("NokiaBrowser/8.5.0")||k&&6>=k)})(jQuery,window);
/*! Backbone.js v1.3.3 | (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors | MIT license */
(function(t){var e=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;if(typeof define==="function"&&define.amd){define(["underscore","jquery","exports"],function(i,r,n){e.Backbone=t(e,n,i,r)})}else if(typeof exports!=="undefined"){var i=require("underscore"),r;try{r=require("jquery")}catch(n){}t(e,exports,i,r)}else{e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}})(function(t,e,i,r){var n=t.Backbone;var s=Array.prototype.slice;e.VERSION="1.3.3";e.$=r;e.noConflict=function(){t.Backbone=n;return this};e.emulateHTTP=false;e.emulateJSON=false;var a=function(t,e,r){switch(t){case 1:return function(){return i[e](this[r])};case 2:return function(t){return i[e](this[r],t)};case 3:return function(t,n){return i[e](this[r],o(t,this),n)};case 4:return function(t,n,s){return i[e](this[r],o(t,this),n,s)};default:return function(){var t=s.call(arguments);t.unshift(this[r]);return i[e].apply(i,t)}}};var h=function(t,e,r){i.each(e,function(e,n){if(i[n])t.prototype[n]=a(e,n,r)})};var o=function(t,e){if(i.isFunction(t))return t;if(i.isObject(t)&&!e._isModel(t))return l(t);if(i.isString(t))return function(e){return e.get(t)};return t};var l=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}};var u=e.Events={};var c=/\s+/;var f=function(t,e,r,n,s){var a=0,h;if(r&&typeof r==="object"){if(n!==void 0&&"context"in s&&s.context===void 0)s.context=n;for(h=i.keys(r);a<h.length;a++){e=f(t,e,h[a],r[h[a]],s)}}else if(r&&c.test(r)){for(h=r.split(c);a<h.length;a++){e=t(e,h[a],n,s)}}else{e=t(e,r,n,s)}return e};u.on=function(t,e,i){return d(this,t,e,i)};var d=function(t,e,i,r,n){t._events=f(v,t._events||{},e,i,{context:r,ctx:t,listening:n});if(n){var s=t._listeners||(t._listeners={});s[n.id]=n}return t};u.listenTo=function(t,e,r){if(!t)return this;var n=t._listenId||(t._listenId=i.uniqueId("l"));var s=this._listeningTo||(this._listeningTo={});var a=s[n];if(!a){var h=this._listenId||(this._listenId=i.uniqueId("l"));a=s[n]={obj:t,objId:n,id:h,listeningTo:s,count:0}}d(t,e,r,this,a);return this};var v=function(t,e,i,r){if(i){var n=t[e]||(t[e]=[]);var s=r.context,a=r.ctx,h=r.listening;if(h)h.count++;n.push({callback:i,context:s,ctx:s||a,listening:h})}return t};u.off=function(t,e,i){if(!this._events)return this;this._events=f(g,this._events,t,e,{context:i,listeners:this._listeners});return this};u.stopListening=function(t,e,r){var n=this._listeningTo;if(!n)return this;var s=t?[t._listenId]:i.keys(n);for(var a=0;a<s.length;a++){var h=n[s[a]];if(!h)break;h.obj.off(e,r,this)}return this};var g=function(t,e,r,n){if(!t)return;var s=0,a;var h=n.context,o=n.listeners;if(!e&&!r&&!h){var l=i.keys(o);for(;s<l.length;s++){a=o[l[s]];delete o[a.id];delete a.listeningTo[a.objId]}return}var u=e?[e]:i.keys(t);for(;s<u.length;s++){e=u[s];var c=t[e];if(!c)break;var f=[];for(var d=0;d<c.length;d++){var v=c[d];if(r&&r!==v.callback&&r!==v.callback._callback||h&&h!==v.context){f.push(v)}else{a=v.listening;if(a&&--a.count===0){delete o[a.id];delete a.listeningTo[a.objId]}}}if(f.length){t[e]=f}else{delete t[e]}}return t};u.once=function(t,e,r){var n=f(p,{},t,e,i.bind(this.off,this));if(typeof t==="string"&&r==null)e=void 0;return this.on(n,e,r)};u.listenToOnce=function(t,e,r){var n=f(p,{},e,r,i.bind(this.stopListening,this,t));return this.listenTo(t,n)};var p=function(t,e,r,n){if(r){var s=t[e]=i.once(function(){n(e,s);r.apply(this,arguments)});s._callback=r}return t};u.trigger=function(t){if(!this._events)return this;var e=Math.max(0,arguments.length-1);var i=Array(e);for(var r=0;r<e;r++)i[r]=arguments[r+1];f(m,this._events,t,void 0,i);return this};var m=function(t,e,i,r){if(t){var n=t[e];var s=t.all;if(n&&s)s=s.slice();if(n)_(n,r);if(s)_(s,[e].concat(r))}return t};var _=function(t,e){var i,r=-1,n=t.length,s=e[0],a=e[1],h=e[2];switch(e.length){case 0:while(++r<n)(i=t[r]).callback.call(i.ctx);return;case 1:while(++r<n)(i=t[r]).callback.call(i.ctx,s);return;case 2:while(++r<n)(i=t[r]).callback.call(i.ctx,s,a);return;case 3:while(++r<n)(i=t[r]).callback.call(i.ctx,s,a,h);return;default:while(++r<n)(i=t[r]).callback.apply(i.ctx,e);return}};u.bind=u.on;u.unbind=u.off;i.extend(e,u);var y=e.Model=function(t,e){var r=t||{};e||(e={});this.cid=i.uniqueId(this.cidPrefix);this.attributes={};if(e.collection)this.collection=e.collection;if(e.parse)r=this.parse(r,e)||{};var n=i.result(this,"defaults");r=i.defaults(i.extend({},n,r),n);this.set(r,e);this.changed={};this.initialize.apply(this,arguments)};i.extend(y.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return this.get(t)!=null},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(t==null)return this;var n;if(typeof t==="object"){n=t;r=e}else{(n={})[t]=e}r||(r={});if(!this._validate(n,r))return false;var s=r.unset;var a=r.silent;var h=[];var o=this._changing;this._changing=true;if(!o){this._previousAttributes=i.clone(this.attributes);this.changed={}}var l=this.attributes;var u=this.changed;var c=this._previousAttributes;for(var f in n){e=n[f];if(!i.isEqual(l[f],e))h.push(f);if(!i.isEqual(c[f],e)){u[f]=e}else{delete u[f]}s?delete l[f]:l[f]=e}if(this.idAttribute in n)this.id=this.get(this.idAttribute);if(!a){if(h.length)this._pending=r;for(var d=0;d<h.length;d++){this.trigger("change:"+h[d],this,l[h[d]],r)}}if(o)return this;if(!a){while(this._pending){r=this._pending;this._pending=false;this.trigger("change",this,r)}}this._pending=false;this._changing=false;return this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:true}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,i.extend({},t,{unset:true}))},hasChanged:function(t){if(t==null)return!i.isEmpty(this.changed);return i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):false;var e=this._changing?this._previousAttributes:this.attributes;var r={};for(var n in t){var s=t[n];if(i.isEqual(e[n],s))continue;r[n]=s}return i.size(r)?r:false},previous:function(t){if(t==null||!this._previousAttributes)return null;return this._previousAttributes[t]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:true},t);var e=this;var r=t.success;t.success=function(i){var n=t.parse?e.parse(i,t):i;if(!e.set(n,t))return false;if(r)r.call(t.context,e,i,t);e.trigger("sync",e,i,t)};B(this,t);return this.sync("read",this,t)},save:function(t,e,r){var n;if(t==null||typeof t==="object"){n=t;r=e}else{(n={})[t]=e}r=i.extend({validate:true,parse:true},r);var s=r.wait;if(n&&!s){if(!this.set(n,r))return false}else if(!this._validate(n,r)){return false}var a=this;var h=r.success;var o=this.attributes;r.success=function(t){a.attributes=o;var e=r.parse?a.parse(t,r):t;if(s)e=i.extend({},n,e);if(e&&!a.set(e,r))return false;if(h)h.call(r.context,a,t,r);a.trigger("sync",a,t,r)};B(this,r);if(n&&s)this.attributes=i.extend({},o,n);var l=this.isNew()?"create":r.patch?"patch":"update";if(l==="patch"&&!r.attrs)r.attrs=n;var u=this.sync(l,this,r);this.attributes=o;return u},destroy:function(t){t=t?i.clone(t):{};var e=this;var r=t.success;var n=t.wait;var s=function(){e.stopListening();e.trigger("destroy",e,e.collection,t)};t.success=function(i){if(n)s();if(r)r.call(t.context,e,i,t);if(!e.isNew())e.trigger("sync",e,i,t)};var a=false;if(this.isNew()){i.defer(t.success)}else{B(this,t);a=this.sync("delete",this,t)}if(!n)s();return a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:true}))},_validate:function(t,e){if(!e.validate||!this.validate)return true;t=i.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;if(!r)return true;this.trigger("invalid",this,r,i.extend(e,{validationError:r}));return false}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};h(y,b,"attributes");var x=e.Collection=function(t,e){e||(e={});if(e.model)this.model=e.model;if(e.comparator!==void 0)this.comparator=e.comparator;this._reset();this.initialize.apply(this,arguments);if(t)this.reset(t,i.extend({silent:true},e))};var w={add:true,remove:true,merge:true};var E={add:true,remove:false};var I=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var r=Array(t.length-i);var n=e.length;var s;for(s=0;s<r.length;s++)r[s]=t[s+i];for(s=0;s<n;s++)t[s+i]=e[s];for(s=0;s<r.length;s++)t[s+n+i]=r[s]};i.extend(x.prototype,u,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:false},e,E))},remove:function(t,e){e=i.extend({},e);var r=!i.isArray(t);t=r?[t]:t.slice();var n=this._removeModels(t,e);if(!e.silent&&n.length){e.changes={added:[],merged:[],removed:n};this.trigger("update",this,e)}return r?n[0]:n},set:function(t,e){if(t==null)return;e=i.extend({},w,e);if(e.parse&&!this._isModel(t)){t=this.parse(t,e)||[]}var r=!i.isArray(t);t=r?[t]:t.slice();var n=e.at;if(n!=null)n=+n;if(n>this.length)n=this.length;if(n<0)n+=this.length+1;var s=[];var a=[];var h=[];var o=[];var l={};var u=e.add;var c=e.merge;var f=e.remove;var d=false;var v=this.comparator&&n==null&&e.sort!==false;var g=i.isString(this.comparator)?this.comparator:null;var p,m;for(m=0;m<t.length;m++){p=t[m];var _=this.get(p);if(_){if(c&&p!==_){var y=this._isModel(p)?p.attributes:p;if(e.parse)y=_.parse(y,e);_.set(y,e);h.push(_);if(v&&!d)d=_.hasChanged(g)}if(!l[_.cid]){l[_.cid]=true;s.push(_)}t[m]=_}else if(u){p=t[m]=this._prepareModel(p,e);if(p){a.push(p);this._addReference(p,e);l[p.cid]=true;s.push(p)}}}if(f){for(m=0;m<this.length;m++){p=this.models[m];if(!l[p.cid])o.push(p)}if(o.length)this._removeModels(o,e)}var b=false;var x=!v&&u&&f;if(s.length&&x){b=this.length!==s.length||i.some(this.models,function(t,e){return t!==s[e]});this.models.length=0;I(this.models,s,0);this.length=this.models.length}else if(a.length){if(v)d=true;I(this.models,a,n==null?this.length:n);this.length=this.models.length}if(d)this.sort({silent:true});if(!e.silent){for(m=0;m<a.length;m++){if(n!=null)e.index=n+m;p=a[m];p.trigger("add",p,this,e)}if(d||b)this.trigger("sort",this,e);if(a.length||o.length||h.length){e.changes={added:a,removed:o,merged:h};this.trigger("update",this,e)}}return r?t[0]:t},reset:function(t,e){e=e?i.clone(e):{};for(var r=0;r<this.models.length;r++){this._removeReference(this.models[r],e)}e.previousModels=this.models;this._reset();t=this.add(t,i.extend({silent:true},e));if(!e.silent)this.trigger("reset",this,e);return t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(t==null)return void 0;return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return this.get(t)!=null},at:function(t){if(t<0)t+=this.length;return this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,true)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;if(i.isFunction(e))e=i.bind(e,this);if(r===1||i.isString(e)){this.models=this.sortBy(e)}else{this.models.sort(e)}if(!t.silent)this.trigger("sort",this,t);return this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:true},t);var e=t.success;var r=this;t.success=function(i){var n=t.reset?"reset":"set";r[n](i,t);if(e)e.call(t.context,r,i,t);r.trigger("sync",r,i,t)};B(this,t);return this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var r=e.wait;t=this._prepareModel(t,e);if(!t)return false;if(!r)this.add(t,e);var n=this;var s=e.success;e.success=function(t,e,i){if(r)n.add(t,i);if(s)s.call(i.context,t,e,i)};t.save(null,e);return t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e){if(this._isModel(t)){if(!t.collection)t.collection=this;return t}e=e?i.clone(e):{};e.collection=this;var r=new this.model(t,e);if(!r.validationError)return r;this.trigger("invalid",this,r.validationError,e);return false},_removeModels:function(t,e){var i=[];for(var r=0;r<t.length;r++){var n=this.get(t[r]);if(!n)continue;var s=this.indexOf(n);this.models.splice(s,1);this.length--;delete this._byId[n.cid];var a=this.modelId(n.attributes);if(a!=null)delete this._byId[a];if(!e.silent){e.index=s;n.trigger("remove",n,this,e)}i.push(n);this._removeReference(n,e)}return i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);if(i!=null)this._byId[i]=t;t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);if(i!=null)delete this._byId[i];if(this===t.collection)delete t.collection;t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if(e){if((t==="add"||t==="remove")&&i!==this)return;if(t==="destroy")this.remove(e,r);if(t==="change"){var n=this.modelId(e.previousAttributes());var s=this.modelId(e.attributes);if(n!==s){if(n!=null)delete this._byId[n];if(s!=null)this._byId[s]=e}}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};h(x,S,"models");var k=e.View=function(t){this.cid=i.uniqueId("view");i.extend(this,i.pick(t,P));this._ensureElement();this.initialize.apply(this,arguments)};var T=/^(\S+)\s*(.*)$/;var P=["model","collection","el","id","attributes","className","tagName","events"];i.extend(k.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(t){this.undelegateEvents();this._setElement(t);this.delegateEvents();return this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t);this.el=this.$el[0]},delegateEvents:function(t){t||(t=i.result(this,"events"));if(!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(!i.isFunction(r))r=this[r];if(!r)continue;var n=e.match(T);this.delegate(n[1],n[2],i.bind(r,this))}return this},delegate:function(t,e,i){this.$el.on(t+".delegateEvents"+this.cid,e,i);return this},undelegateEvents:function(){if(this.$el)this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(t,e,i){this.$el.off(t+".delegateEvents"+this.cid,e,i);return this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(!this.el){var t=i.extend({},i.result(this,"attributes"));if(this.id)t.id=i.result(this,"id");if(this.className)t["class"]=i.result(this,"className");this.setElement(this._createElement(i.result(this,"tagName")));this._setAttributes(t)}else{this.setElement(i.result(this,"el"))}},_setAttributes:function(t){this.$el.attr(t)}});e.sync=function(t,r,n){var s=H[t];i.defaults(n||(n={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:s,dataType:"json"};if(!n.url){a.url=i.result(r,"url")||F()}if(n.data==null&&r&&(t==="create"||t==="update"||t==="patch")){a.contentType="application/json";a.data=JSON.stringify(n.attrs||r.toJSON(n))}if(n.emulateJSON){a.contentType="application/x-www-form-urlencoded";a.data=a.data?{model:a.data}:{}}if(n.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){a.type="POST";if(n.emulateJSON)a.data._method=s;var h=n.beforeSend;n.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",s);if(h)return h.apply(this,arguments)}}if(a.type!=="GET"&&!n.emulateJSON){a.processData=false}var o=n.error;n.error=function(t,e,i){n.textStatus=e;n.errorThrown=i;if(o)o.call(n.context,t,e,i)};var l=n.xhr=e.ajax(i.extend(a,n));r.trigger("request",r,l,n);return l};var H={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={});if(t.routes)this.routes=t.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var A=/\((.*?)\)/g;var C=/(\(\?)?:\w+/g;var R=/\*\w+/g;var j=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend($.prototype,u,{initialize:function(){},route:function(t,r,n){if(!i.isRegExp(t))t=this._routeToRegExp(t);if(i.isFunction(r)){n=r;r=""}if(!n)n=this[r];var s=this;e.history.route(t,function(i){var a=s._extractParameters(t,i);if(s.execute(n,a,r)!==false){s.trigger.apply(s,["route:"+r].concat(a));s.trigger("route",r,a);e.history.trigger("route",s,r,a)}});return this},execute:function(t,e,i){if(t)t.apply(this,e)},navigate:function(t,i){e.history.navigate(t,i);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=i.result(this,"routes");var t,e=i.keys(this.routes);while((t=e.pop())!=null){this.route(t,this.routes[t])}},_routeToRegExp:function(t){t=t.replace(j,"\\$&").replace(A,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(R,"([^?]*?)");return new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return i.map(r,function(t,e){if(e===r.length-1)return t||null;return t?decodeURIComponent(t):null})}});var N=e.History=function(){this.handlers=[];this.checkUrl=i.bind(this.checkUrl,this);if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var M=/^[#\/]|\s+$/g;var O=/^\/+|\/+$/g;var U=/#.*$/;N.started=false;i.extend(N.prototype,u,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname);var e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return t.charAt(0)==="/"?t.slice(1):t},getFragment:function(t){if(t==null){if(this._usePushState||!this._wantsHashChange){t=this.getPath()}else{t=this.getHash()}}return t.replace(M,"")},start:function(t){if(N.started)throw new Error("Backbone.history has already been started");N.started=true;this.options=i.extend({root:"/"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(O,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";this.location.replace(e+"#"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var r=document.body;var n=r.insertBefore(this.iframe,r.firstChild).contentWindow;n.document.open();n.document.close();n.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState){s("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){s("hashchange",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};if(this._usePushState){t("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){t("hashchange",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);N.started=false},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe){e=this.getHash(this.iframe.contentWindow)}if(e===this.fragment)return false;if(this.iframe)this.navigate(e);this.loadUrl()},loadUrl:function(t){if(!this.matchRoot())return false;t=this.fragment=this.getFragment(t);return i.some(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(t,e){if(!N.started)return false;if(!e||e===true)e={trigger:!!e};t=this.getFragment(t||"");var i=this.root;if(t===""||t.charAt(0)==="?"){i=i.slice(0,-1)||"/"}var r=i+t;t=this.decodeFragment(t.replace(U,""));if(this.fragment===t)return;this.fragment=t;if(this._usePushState){this.history[e.replace?"replaceState":"pushState"]({},document.title,r)}else if(this._wantsHashChange){this._updateHash(this.location,t,e.replace);if(this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var n=this.iframe.contentWindow;if(!e.replace){n.document.open();n.document.close()}this._updateHash(n.location,t,e.replace)}}else{return this.location.assign(r)}if(e.trigger)return this.loadUrl(t)},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else{t.hash="#"+e}}});e.history=new N;var q=function(t,e){var r=this;var n;if(t&&i.has(t,"constructor")){n=t.constructor}else{n=function(){return r.apply(this,arguments)}}i.extend(n,r,e);n.prototype=i.create(r.prototype,t);n.prototype.constructor=n;n.__super__=r.prototype;return n};y.extend=x.extend=$.extend=k.extend=N.extend=q;var F=function(){throw new Error('A "url" property or function must be specified')};var B=function(t,e){var i=e.error;e.error=function(r){if(i)i.call(e.context,t,r,e);t.trigger("error",t,r,e)}};return e});
/*! Hammer.JS v1.1.3 | (c) 2014 Jorik Tangelder <j.tangelder@gmail.com> | MIT license */
!function(a,b){"use strict";function c(){d.READY||(s.determineEventTypes(),r.each(d.gestures,function(a){u.register(a)}),s.onTouch(d.DOCUMENT,n,u.detect),s.onTouch(d.DOCUMENT,o,u.detect),d.READY=!0)}var d=function v(a,b){return new v.Instance(a,b||{})};d.VERSION="1.1.3",d.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},d.DOCUMENT=document,d.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,d.HAS_TOUCHEVENTS="ontouchstart"in a,d.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),d.NO_MOUSEEVENTS=d.HAS_TOUCHEVENTS&&d.IS_MOBILE||d.HAS_POINTEREVENTS,d.CALCULATE_INTERVAL=25;var e={},f=d.DIRECTION_DOWN="down",g=d.DIRECTION_LEFT="left",h=d.DIRECTION_UP="up",i=d.DIRECTION_RIGHT="right",j=d.POINTER_MOUSE="mouse",k=d.POINTER_TOUCH="touch",l=d.POINTER_PEN="pen",m=d.EVENT_START="start",n=d.EVENT_MOVE="move",o=d.EVENT_END="end",p=d.EVENT_RELEASE="release",q=d.EVENT_TOUCH="touch";d.READY=!1,d.plugins=d.plugins||{},d.gestures=d.gestures||{};var r=d.utils={extend:function(a,c,d){for(var e in c)!c.hasOwnProperty(e)||a[e]!==b&&d||(a[e]=c[e]);return a},on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)},each:function(a,c,d){var e,f;if("forEach"in a)a.forEach(c,d);else if(a.length!==b){for(e=0,f=a.length;f>e;e++)if(c.call(d,a[e],e,a)===!1)return}else for(e in a)if(a.hasOwnProperty(e)&&c.call(d,a[e],e,a)===!1)return},inStr:function(a,b){return a.indexOf(b)>-1},inArray:function(a,b){if(a.indexOf){var c=a.indexOf(b);return-1===c?!1:c}for(var d=0,e=a.length;e>d;d++)if(a[d]===b)return d;return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[],d=[],e=[],f=Math.min,g=Math.max;return 1===a.length?{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY}:(r.each(a,function(a){b.push(a.pageX),c.push(a.pageY),d.push(a.clientX),e.push(a.clientY)}),{pageX:(f.apply(Math,b)+g.apply(Math,b))/2,pageY:(f.apply(Math,c)+g.apply(Math,c))/2,clientX:(f.apply(Math,d)+g.apply(Math,d))/2,clientY:(f.apply(Math,e)+g.apply(Math,e))/2})},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return 180*Math.atan2(d,c)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.clientX-b.clientX),d=Math.abs(a.clientY-b.clientY);return c>=d?a.clientX-b.clientX>0?g:i:a.clientY-b.clientY>0?h:f},getDistance:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==h||a==f},setPrefixedCss:function(a,b,c,d){var e=["","Webkit","Moz","O","ms"];b=r.toCamelCase(b);for(var f=0;f<e.length;f++){var g=b;if(e[f]&&(g=e[f]+g.slice(0,1).toUpperCase()+g.slice(1)),g in a.style){a.style[g]=(null==d||d)&&c||"";break}}},toggleBehavior:function(a,b,c){if(b&&a&&a.style){r.each(b,function(b,d){r.setPrefixedCss(a,d,b,c)});var d=c&&function(){return!1};"none"==b.userSelect&&(a.onselectstart=d),"none"==b.userDrag&&(a.ondragstart=d)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},s=d.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(a,b,c,d){var e=b.split(" ");r.each(e,function(b){r.on(a,b,c),d&&d(b)})},off:function(a,b,c,d){var e=b.split(" ");r.each(e,function(b){r.off(a,b,c),d&&d(b)})},onTouch:function(a,b,c){var f=this,g=function(e){var g,h=e.type.toLowerCase(),i=d.HAS_POINTEREVENTS,j=r.inStr(h,"mouse");j&&f.preventMouseEvents||(j&&b==m&&0===e.button?(f.preventMouseEvents=!1,f.shouldDetect=!0):i&&b==m?f.shouldDetect=1===e.buttons||t.matchType(k,e):j||b!=m||(f.preventMouseEvents=!0,f.shouldDetect=!0),i&&b!=o&&t.updatePointer(b,e),f.shouldDetect&&(g=f.doDetect.call(f,e,b,a,c)),g==o&&(f.preventMouseEvents=!1,f.shouldDetect=!1,t.reset()),i&&b==o&&t.updatePointer(b,e))};return this.on(a,e[b],g),g},doDetect:function(a,b,c,d){var e=this.getTouchList(a,b),f=e.length,g=b,h=e.trigger,i=f;b==m?h=q:b==o&&(h=p,i=e.length-(a.changedTouches?a.changedTouches.length:1)),i>0&&this.started&&(g=n),this.started=!0;var j=this.collectEventData(c,g,e,a);return b!=o&&d.call(u,j),h&&(j.changedLength=i,j.eventType=h,d.call(u,j),j.eventType=g,delete j.changedLength),g==o&&(d.call(u,j),this.started=!1),g},determineEventTypes:function(){var b;return b=d.HAS_POINTEREVENTS?a.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:d.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],e[m]=b[0],e[n]=b[1],e[o]=b[2],e},getTouchList:function(a,b){if(d.HAS_POINTEREVENTS)return t.getTouchList();if(a.touches){if(b==n)return a.touches;var c=[],e=[].concat(r.toArray(a.touches),r.toArray(a.changedTouches)),f=[];return r.each(e,function(a){r.inArray(c,a.identifier)===!1&&f.push(a),c.push(a.identifier)}),f}return a.identifier=1,[a]},collectEventData:function(a,b,c,d){var e=k;return r.inStr(d.type,"mouse")||t.matchType(j,d)?e=j:t.matchType(l,d)&&(e=l),{center:r.getCenter(c),timeStamp:Date.now(),target:d.target,touches:c,eventType:b,pointerType:e,srcEvent:d,preventDefault:function(){var a=this.srcEvent;a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return u.stopDetect()}}}},t=d.PointerEvent={pointers:{},getTouchList:function(){var a=[];return r.each(this.pointers,function(b){a.push(b)}),a},updatePointer:function(a,b){a==o?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b)},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,d={};return d[j]=c===(b.MSPOINTER_TYPE_MOUSE||j),d[k]=c===(b.MSPOINTER_TYPE_TOUCH||k),d[l]=c===(b.MSPOINTER_TYPE_PEN||l),d[a]},reset:function(){this.pointers={}}},u=d.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:r.extend({},b),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst,c=b.options;return r.each(this.gestures,function(d){!this.stopped&&b.enabled&&c[d.name]&&d.handler.call(d,a,b)},this),this.current&&(this.current.lastEvent=a),a.eventType==o&&this.stopDetect(),a}},stopDetect:function(){this.previous=r.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(a,b,c,e,f){var g=this.current,h=!1,i=g.lastCalcEvent,j=g.lastCalcData;i&&a.timeStamp-i.timeStamp>d.CALCULATE_INTERVAL&&(b=i.center,c=a.timeStamp-i.timeStamp,e=a.center.clientX-i.center.clientX,f=a.center.clientY-i.center.clientY,h=!0),(a.eventType==q||a.eventType==p)&&(g.futureCalcEvent=a),(!g.lastCalcEvent||h)&&(j.velocity=r.getVelocity(c,e,f),j.angle=r.getAngle(b,a.center),j.direction=r.getDirection(b,a.center),g.lastCalcEvent=g.futureCalcEvent||a,g.futureCalcEvent=a),a.velocityX=j.velocity.x,a.velocityY=j.velocity.y,a.interimAngle=j.angle,a.interimDirection=j.direction},extendEventData:function(a){var b=this.current,c=b.startEvent,d=b.lastEvent||c;(a.eventType==q||a.eventType==p)&&(c.touches=[],r.each(a.touches,function(a){c.touches.push({clientX:a.clientX,clientY:a.clientY})}));var e=a.timeStamp-c.timeStamp,f=a.center.clientX-c.center.clientX,g=a.center.clientY-c.center.clientY;return this.getCalculatedData(a,d.center,e,f,g),r.extend(a,{startEvent:c,deltaTime:e,deltaX:f,deltaY:g,distance:r.getDistance(c.center,a.center),angle:r.getAngle(c.center,a.center),direction:r.getDirection(c.center,a.center),scale:r.getScale(c.touches,a.touches),rotation:r.getRotation(c.touches,a.touches)}),a},register:function(a){var c=a.defaults||{};return c[a.name]===b&&(c[a.name]=!0),r.extend(d.defaults,c,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}};d.Instance=function(a,b){var e=this;c(),this.element=a,this.enabled=!0,r.each(b,function(a,c){delete b[c],b[r.toCamelCase(c)]=a}),this.options=r.extend(r.extend({},d.defaults),b||{}),this.options.behavior&&r.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=s.onTouch(a,m,function(a){e.enabled&&a.eventType==m?u.startDetect(e,a):a.eventType==q&&u.detect(a)}),this.eventHandlers=[]},d.Instance.prototype={on:function(a,b){var c=this;return s.on(c.element,a,b,function(a){c.eventHandlers.push({gesture:a,handler:b})}),c},off:function(a,b){var c=this;return s.off(c.element,a,b,function(a){var d=r.inArray({gesture:a,handler:b});d!==!1&&c.eventHandlers.splice(d,1)}),c},trigger:function(a,b){b||(b={});var c=d.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var e=this.element;return r.hasParent(b.target,e)&&(e=b.target),e.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this},dispose:function(){var a,b;for(r.toggleBehavior(this.element,this.options.behavior,!1),a=-1;b=this.eventHandlers[++a];)r.off(this.element,b.gesture,b.handler);return this.eventHandlers=[],s.off(this.element,e[m],this.eventStartHandler),null}},function(a){function b(b,d){var e=u.current;if(!(d.options.dragMaxTouches>0&&b.touches.length>d.options.dragMaxTouches))switch(b.eventType){case m:c=!1;break;case n:if(b.distance<d.options.dragMinDistance&&e.name!=a)return;var j=e.startEvent.center;if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&b.distance>0)){var k=Math.abs(d.options.dragMinDistance/b.distance);j.pageX+=b.deltaX*k,j.pageY+=b.deltaY*k,j.clientX+=b.deltaX*k,j.clientY+=b.deltaY*k,b=u.extendEventData(b)}(e.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=b.distance)&&(b.dragLockToAxis=!0);var l=e.lastEvent.direction;b.dragLockToAxis&&l!==b.direction&&(b.direction=r.isVertical(l)?b.deltaY<0?h:f:b.deltaX<0?g:i),c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),d.trigger(a+b.direction,b);var q=r.isVertical(b.direction);(d.options.dragBlockVertical&&q||d.options.dragBlockHorizontal&&!q)&&b.preventDefault();break;case p:c&&b.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",b),c=!1);break;case o:c=!1}}var c=!1;d.gestures.Drag={name:a,index:50,handler:b,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),d.gestures.Gesture={name:"gesture",index:1337,handler:function(a,b){b.trigger(this.name,a)}},function(a){function b(b,d){var e=d.options,f=u.current;switch(b.eventType){case m:clearTimeout(c),f.name=a,c=setTimeout(function(){f&&f.name==a&&d.trigger(a,b)},e.holdTimeout);break;case n:b.distance>e.holdThreshold&&clearTimeout(c);break;case p:clearTimeout(c)}}var c;d.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:b}}("hold"),d.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==p&&b.trigger(this.name,a)}},d.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(a,b){if(a.eventType==p){var c=a.touches.length,d=b.options;if(c<d.swipeMinTouches||c>d.swipeMaxTouches)return;(a.velocityX>d.swipeVelocityX||a.velocityY>d.swipeVelocityY)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},function(a){function b(b,d){var e,f,g=d.options,h=u.current,i=u.previous;switch(b.eventType){case m:c=!1;break;case n:c=c||b.distance>g.tapMaxDistance;break;case o:!r.inStr(b.srcEvent.type,"cancel")&&b.deltaTime<g.tapMaxTime&&!c&&(e=i&&i.lastEvent&&b.timeStamp-i.lastEvent.timeStamp,f=!1,i&&i.name==a&&e&&e<g.doubleTapInterval&&b.distance<g.doubleTapDistance&&(d.trigger("doubletap",b),f=!0),(!f||g.tapAlways)&&(h.name=a,d.trigger(h.name,b)))}}var c=!1;d.gestures.Tap={name:a,index:100,handler:b,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),d.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(a,b){return b.options.preventMouse&&a.pointerType==j?void a.stopDetect():(b.options.preventDefault&&a.preventDefault(),void(a.eventType==q&&b.trigger("touch",a)))}},function(a){function b(b,d){switch(b.eventType){case m:c=!1;break;case n:if(b.touches.length<2)return;var e=Math.abs(1-b.scale),f=Math.abs(b.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)return;u.current.name=a,c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),f>d.options.transformMinRotation&&d.trigger("rotate",b),e>d.options.transformMinScale&&(d.trigger("pinch",b),d.trigger("pinch"+(b.scale<1?"in":"out"),b));break;case p:c&&b.changedLength<2&&(d.trigger(a+"end",b),c=!1)}}var c=!1;d.gestures.Transform={name:a,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:b}}("transform"),"function"==typeof define&&define.amd?define(function(){return d}):"undefined"!=typeof module&&module.exports?module.exports=d:a.Hammer=d}(window);
/*! Pickadate.js v3.4.0 | By Amsul, http://amsul.ca | MIT license */
!function(a){"function"==typeof define&&define.amd&&false?define("picker",["jquery"],a):this.Picker=a(jQuery)}(function(a){function b(d,e,g,h){function i(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",s.component.nodes(n.open),p.box),p.wrap),p.frame),p.holder)}function j(){q.data(e,s).addClass(p.input).val(q.data("value")?s.get("select",o.format):d.value).on("focus."+n.id+" click."+n.id,m),o.editable||q.on("keydown."+n.id,function(a){var b=a.keyCode,c=/^(8|46)$/.test(b);return 27==b?(s.close(),!1):void((32==b||c||!n.open&&s.component.key[b])&&(a.preventDefault(),a.stopPropagation(),c?s.clear().close():s.open()))}),c(d,{haspopup:!0,expanded:!1,readonly:!1,owns:d.id+"_root"+(s._hidden?" "+s._hidden.id:"")})}function k(){s.$root.on({focusin:function(a){s.$root.removeClass(p.focused),c(s.$root[0],"selected",!1),a.stopPropagation()},"mousedown click":function(b){var c=b.target;c!=s.$root.children()[0]&&(b.stopPropagation(),"mousedown"!=b.type||a(c).is(":input")||"OPTION"==c.nodeName||(b.preventDefault(),d.focus()))}}).on("click","[data-pick], [data-nav], [data-clear]",function(){var c=a(this),e=c.data(),f=c.hasClass(p.navDisabled)||c.hasClass(p.disabled),g=document.activeElement;g=g&&(g.type||g.href)&&g,(f||g&&!a.contains(s.$root[0],g))&&d.focus(),e.nav&&!f?s.set("highlight",s.component.item.highlight,{nav:e.nav}):b._.isInteger(e.pick)&&!f?s.set("select",e.pick).close(!0):e.clear&&s.clear().close(!0)}),c(s.$root[0],"hidden",!0)}function l(){var b=["string"==typeof o.hiddenPrefix?o.hiddenPrefix:"","string"==typeof o.hiddenSuffix?o.hiddenSuffix:"_submit"];s._hidden=a('<input type=hidden name="'+b[0]+d.name+b[1]+'"id="'+b[0]+d.id+b[1]+'"'+(q.data("value")||d.value?' value="'+s.get("select",o.formatSubmit)+'"':"")+">")[0],q.on("change."+n.id,function(){s._hidden.value=d.value?s.get("select",o.formatSubmit):""}).after(s._hidden)}function m(a){a.stopPropagation(),"focus"==a.type&&(s.$root.addClass(p.focused),c(s.$root[0],"selected",!0)),s.open(),setTimeout(function(){var ios=/iphone|ipad|ipod/i;ios.test(navigator.userAgent)&&s.$node.blur()},100)}if(!d)return b;var n={id:d.id||"P"+Math.abs(~~(Math.random()*new Date))},o=g?a.extend(!0,{},g.defaults,h):h||{},p=a.extend({},b.klasses(),o.klass),q=a(d),r=function(){return this.start()},s=r.prototype={constructor:r,$node:q,start:function(){return n&&n.start?s:(n.methods={},n.start=!0,n.open=!1,n.type=d.type,d.autofocus=d==document.activeElement,d.type="text",d.readOnly=!o.editable,d.id=d.id||n.id,s.component=new g(s,o),s.$root=a(b._.node("div",i(),p.picker,'id="'+d.id+'_root"')),k(),o.formatSubmit&&l(),j(),o.container?a(o.container).append(s.$root):q.after(s.$root),s.on({start:s.component.onStart,render:s.component.onRender,stop:s.component.onStop,open:s.component.onOpen,close:s.component.onClose,set:s.component.onSet}).on({start:o.onStart,render:o.onRender,stop:o.onStop,open:o.onOpen,close:o.onClose,set:o.onSet}),d.autofocus&&s.open(),s.trigger("start").trigger("render"))},render:function(a){return a?s.$root.html(i()):s.$root.find("."+p.box).html(s.component.nodes(n.open)),s.trigger("render")},stop:function(){return n.start?(s.close(),s._hidden&&s._hidden.parentNode.removeChild(s._hidden),s.$root.remove(),q.removeClass(p.input).removeData(e),setTimeout(function(){q.off("."+n.id)},0),d.type=n.type,d.readOnly=!1,s.trigger("stop"),n.methods={},n.start=!1,s):s},open:function(e){return n.open?s:(q.addClass(p.active),c(d,"expanded",!0),s.$root.addClass(p.opened),c(s.$root[0],"hidden",!1),e!==!1&&(n.open=!0,q.trigger("focus"),f.on("click."+n.id+" focusin."+n.id,function(a){var b=a.target;b!=d&&b!=document&&3!=a.which&&s.close(b===s.$root.children()[0])}).on("keydown."+n.id,function(c){var e=c.keyCode,f=s.component.key[e],g=c.target;27==e?s.close(!0):g!=d||!f&&13!=e?a.contains(s.$root[0],g)&&13==e&&(c.preventDefault(),g.click()):(c.preventDefault(),f?b._.trigger(s.component.key.go,s,[b._.trigger(f)]):s.$root.find("."+p.highlighted).hasClass(p.disabled)||s.set("select",s.component.item.highlight).close())})),s.trigger("open"))},close:function(a){return a&&(q.off("focus."+n.id).trigger("focus"),setTimeout(function(){q.on("focus."+n.id,m)},0)),q.removeClass(p.active),c(d,"expanded",!1),s.$root.removeClass(p.opened+" "+p.focused),c(s.$root[0],"hidden",!0),c(s.$root[0],"selected",!1),n.open?(n.open=!1,f.off("."+n.id),s.trigger("close")):s},clear:function(){return s.set("clear")},set:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(d=g&&a.isPlainObject(c)?c:d||{},b){g||(h[b]=c);for(e in h)f=h[e],e in s.component.item&&s.component.set(e,f,d),("select"==e||"clear"==e)&&q.val("clear"==e?"":s.get(e,o.format)).trigger("change");s.render()}return d.muted?s:s.trigger("set",h)},get:function(a,c){return a=a||"value",null!=n[a]?n[a]:"value"==a?d.value:a in s.component.item?"string"==typeof c?b._.trigger(s.component.formats.toString,s.component,[c,s.component.get(a)]):s.component.get(a):void 0},on:function(b,c){var d,e,f=a.isPlainObject(b),g=f?b:{};if(b){f||(g[b]=c);for(d in g)e=g[d],n.methods[d]=n.methods[d]||[],n.methods[d].push(e)}return s},off:function(){var a,b,c=arguments;for(a=0,namesCount=c.length;namesCount>a;a+=1)b=c[a],b in n.methods&&delete n.methods[b];return s},trigger:function(a,c){var d=n.methods[a];return d&&d.map(function(a){b._.trigger(a,s,[c])}),s}};return new r}function c(b,c,e){if(a.isPlainObject(c))for(var f in c)d(b,f,c[f]);else d(b,c,e)}function d(a,b,c){a.setAttribute(("role"==b?"":"aria-")+b,c)}function e(b,c){a.isPlainObject(b)||(b={attribute:c}),c="";for(var d in b){var e=("role"==d?"":"aria-")+d,f=b[d];c+=null==f?"":e+'="'+b[d]+'"'}return c}var f=a(document);return b.klasses=function(a){return a=a||"picker",{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}},b._={group:function(a){for(var c,d="",e=b._.trigger(a.min,a);e<=b._.trigger(a.max,a,[e]);e+=a.i)c=b._.trigger(a.item,a,[e]),d+=b._.node(a.node,c[0],c[1],c[2]);return d},node:function(b,c,d,e){return c?(c=a.isArray(c)?c.join(""):c,d=d?decodeURIComponent('%20')+' class="'+d+'"':"",e=e?" "+e:"","<"+b+d+e+">"+c+"</"+b+">"):""},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,c){return"function"==typeof a?a.apply(b,c||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isDate:function(a){return{}.toString.call(a).indexOf("Date")>-1&&this.isInteger(a.getDate())},isInteger:function(a){return{}.toString.call(a).indexOf("Number")>-1&&a%1===0},ariaAttr:e},b.extend=function(c,d){a.fn[c]=function(e,f){var g=this.data(c);return"picker"==e?g:g&&"string"==typeof e?(b._.trigger(g[e],g,[f]),this):this.each(function(){var f=a(this);f.data(c)||new b(this,c,d,e)})},a.fn[c].defaults=d.defaults},b});
!function(a){"function"==typeof define&&define.amd&&false?define(["picker","jquery"],a):a(Picker,jQuery)}(function(a,b){function c(a,b){var c=this,d=a.$node[0].value,e=a.$node.data("value"),f=e||d,g=e?b.formatSubmit:b.format,h=function(){return"rtl"===getComputedStyle(a.$root[0]).direction};c.settings=b,c.$node=a.$node,c.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},c.item={},c.item.disable=(b.disable||[]).slice(0),c.item.enable=-function(a){return a[0]===!0?a.shift():-1}(c.item.disable),c.set("min",b.min).set("max",b.max).set("now"),f?c.set("select",f,{format:g,fromValue:!!d}):c.set("select",null).set("highlight",c.item.now),c.key={40:7,38:-7,39:function(){return h()?-1:1},37:function(){return h()?1:-1},go:function(a){var b=c.item.highlight,d=new Date(b.year,b.month,b.date+a);c.set("highlight",[d.getFullYear(),d.getMonth(),d.getDate()],{interval:a}),this.render()}},a.on("render",function(){a.$root.find("."+b.klass.selectMonth).on("change",function(){var c=this.value;c&&(a.set("highlight",[a.get("view").year,c,a.get("highlight").date]),a.$root.find("."+b.klass.selectMonth).trigger("focus"))}),a.$root.find("."+b.klass.selectYear).on("change",function(){var c=this.value;c&&(a.set("highlight",[c,a.get("view").month,a.get("highlight").date]),a.$root.find("."+b.klass.selectYear).trigger("focus"))})}).on("open",function(){a.$root.find("button, select").attr("disabled",!1)}).on("close",function(){a.$root.find("button, select").attr("disabled",!0)})}var d=7,e=6,f=a._;c.prototype.set=function(a,b,c){var d=this,e=d.item;return null===b?(e[a]=b,d):(e["enable"==a?"disable":"flip"==a?"enable":a]=d.queue[a].split(" ").map(function(e){return b=d[e](a,b,c)}).pop(),"select"==a?d.set("highlight",e.select,c):"highlight"==a?d.set("view",e.highlight,c):a.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&d.disabled(e.select)&&d.set("select",e.select,c),e.highlight&&d.disabled(e.highlight)&&d.set("highlight",e.highlight,c)),d)},c.prototype.get=function(a){return this.item[a]},c.prototype.create=function(a,c,d){var e,g=this;return c=void 0===c?a:c,c==-1/0||1/0==c?e=c:b.isPlainObject(c)&&f.isInteger(c.pick)?c=c.obj:b.isArray(c)?(c=new Date(c[0],c[1],c[2]),c=f.isDate(c)?c:g.create().obj):c=f.isInteger(c)||f.isDate(c)?g.normalize(new Date(c),d):g.now(a,c,d),{year:e||c.getFullYear(),month:e||c.getMonth(),date:e||c.getDate(),day:e||c.getDay(),obj:e||c,pick:e||c.getTime()}},c.prototype.createRange=function(a,c){var d=this,e=function(a){return a===!0||b.isArray(a)||f.isDate(a)?d.create(a):a};return f.isInteger(a)||(a=e(a)),f.isInteger(c)||(c=e(c)),f.isInteger(a)&&b.isPlainObject(c)?a=[c.year,c.month,c.date+a]:f.isInteger(c)&&b.isPlainObject(a)&&(c=[a.year,a.month,a.date+c]),{from:e(a),to:e(c)}},c.prototype.withinRange=function(a,b){return a=this.createRange(a.from,a.to),b.pick>=a.from.pick&&b.pick<=a.to.pick},c.prototype.overlapRanges=function(a,b){var c=this;return a=c.createRange(a.from,a.to),b=c.createRange(b.from,b.to),c.withinRange(a,b.from)||c.withinRange(a,b.to)||c.withinRange(b,a.from)||c.withinRange(b,a.to)},c.prototype.now=function(a,b,c){return b=new Date,c&&c.rel&&b.setDate(b.getDate()+c.rel),this.normalize(b,c)},c.prototype.navigate=function(a,c,d){var e,f,g,h,i=b.isArray(c),j=b.isPlainObject(c),k=this.item.view;if(i||j){for(j?(f=c.year,g=c.month,h=c.date):(f=+c[0],g=+c[1],h=+c[2]),d&&d.nav&&k&&k.month!==g&&(f=k.year,g=k.month),e=new Date(f,g+(d&&d.nav?d.nav:0),1),f=e.getFullYear(),g=e.getMonth();new Date(f,g,h).getMonth()!==g;)h-=1;c=[f,g,h]}return c},c.prototype.normalize=function(a){return a.setHours(0,0,0,0),a},c.prototype.measure=function(a,b){var c=this;return b?f.isInteger(b)&&(b=c.now(a,b,{rel:b})):b="min"==a?-1/0:1/0,b},c.prototype.viewset=function(a,b){return this.create([b.year,b.month,1])},c.prototype.validate=function(a,c,d){var e,g,h,i,j=this,k=c,l=d&&d.interval?d.interval:1,m=-1===j.item.enable,n=j.item.min,o=j.item.max,p=m&&j.item.disable.filter(function(a){if(b.isArray(a)){var d=j.create(a).pick;d<c.pick?e=!0:d>c.pick&&(g=!0)}return f.isInteger(a)}).length;if((!d||!d.nav)&&(!m&&j.disabled(c)||m&&j.disabled(c)&&(p||e||g)||!m&&(c.pick<=n.pick||c.pick>=o.pick)))for(m&&!p&&(!g&&l>0||!e&&0>l)&&(l*=-1);j.disabled(c)&&(Math.abs(l)>1&&(c.month<k.month||c.month>k.month)&&(c=k,l=l>0?1:-1),c.pick<=n.pick?(h=!0,l=1,c=j.create([n.year,n.month,n.date-1])):c.pick>=o.pick&&(i=!0,l=-1,c=j.create([o.year,o.month,o.date+1])),!h||!i);)c=j.create([c.year,c.month,c.date+l]);return c},c.prototype.disabled=function(a){var c=this,d=c.item.disable.filter(function(d){return f.isInteger(d)?a.day===(c.settings.firstDay?d:d-1)%7:b.isArray(d)||f.isDate(d)?a.pick===c.create(d).pick:b.isPlainObject(d)?c.withinRange(d,a):void 0});return d=d.length&&!d.filter(function(a){return b.isArray(a)&&"inverted"==a[3]||b.isPlainObject(a)&&a.inverted}).length,-1===c.item.enable?!d:d||a.pick<c.item.min.pick||a.pick>c.item.max.pick},c.prototype.parse=function(a,c,d){var e,g=this,h={};return!c||f.isInteger(c)||b.isArray(c)||f.isDate(c)||b.isPlainObject(c)&&f.isInteger(c.pick)?c:(d&&d.format||(d=d||{},d.format=g.settings.format),e="string"!=typeof c||d.fromValue?0:1,g.formats.toArray(d.format).map(function(a){var b=g.formats[a],d=b?f.trigger(b,g,[c,h]):a.replace(/^!/,"").length;b&&(h[a]=c.substr(0,d)),c=c.substr(d)}),[h.yyyy||h.yy,+(h.mm||h.m)-1,h.dd||h.d])},c.prototype.formats=function(){function a(a,b,c){var d=a.match(/\w+/)[0];return c.mm||c.m||(c.m=b.indexOf(d)+1),d.length}function b(a){return a.match(/\w+/)[0].length}return{d:function(a,b){return a?f.digits(a):b.date},dd:function(a,b){return a?2:f.lead(b.date)},ddd:function(a,c){return a?b(a):this.settings.weekdaysShort[c.day]},dddd:function(a,c){return a?b(a):this.settings.weekdaysFull[c.day]},m:function(a,b){return a?f.digits(a):b.month+1},mm:function(a,b){return a?2:f.lead(b.month+1)},mmm:function(b,c){var d=this.settings.monthsShort;return b?a(b,d,c):d[c.month]},mmmm:function(b,c){var d=this.settings.monthsFull;return b?a(b,d,c):d[c.month]},yy:function(a,b){return a?2:(""+b.year).slice(2)},yyyy:function(a,b){return a?4:b.year},toArray:function(a){return a.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(a,b){var c=this;return c.formats.toArray(a).map(function(a){return f.trigger(c.formats[a],c,[0,b])||a.replace(/^!/,"")}).join("")}}}(),c.prototype.isDateExact=function(a,c){var d=this;return f.isInteger(a)&&f.isInteger(c)||"boolean"==typeof a&&"boolean"==typeof c?a===c:(f.isDate(a)||b.isArray(a))&&(f.isDate(c)||b.isArray(c))?d.create(a).pick===d.create(c).pick:b.isPlainObject(a)&&b.isPlainObject(c)?d.isDateExact(a.from,c.from)&&d.isDateExact(a.to,c.to):!1},c.prototype.isDateOverlap=function(a,c){var d=this;return f.isInteger(a)&&(f.isDate(c)||b.isArray(c))?a===d.create(c).day+1:f.isInteger(c)&&(f.isDate(a)||b.isArray(a))?c===d.create(a).day+1:b.isPlainObject(a)&&b.isPlainObject(c)?d.overlapRanges(a,c):!1},c.prototype.flipEnable=function(a){var b=this.item;b.enable=a||(-1==b.enable?1:-1)},c.prototype.deactivate=function(a,c){var d=this,e=d.item.disable.slice(0);return"flip"==c?d.flipEnable():c===!1?(d.flipEnable(1),e=[]):c===!0?(d.flipEnable(-1),e=[]):c.map(function(a){for(var c,g=0;g<e.length;g+=1)if(d.isDateExact(a,e[g])){c=!0;break}c||(f.isInteger(a)||f.isDate(a)||b.isArray(a)||b.isPlainObject(a)&&a.from&&a.to)&&e.push(a)}),e},c.prototype.activate=function(a,c){var d=this,e=d.item.disable,g=e.length;return"flip"==c?d.flipEnable():c===!0?(d.flipEnable(1),e=[]):c===!1?(d.flipEnable(-1),e=[]):c.map(function(a){var c,h,i,j;for(i=0;g>i;i+=1){if(h=e[i],d.isDateExact(h,a)){c=e[i]=null,j=!0;break}if(d.isDateOverlap(h,a)){b.isPlainObject(a)?(a.inverted=!0,c=a):b.isArray(a)?(c=a,c[3]||c.push("inverted")):f.isDate(a)&&(c=[a.getFullYear(),a.getMonth(),a.getDate(),"inverted"]);break}}if(c)for(i=0;g>i;i+=1)if(d.isDateExact(e[i],a)){e[i]=null;break}if(j)for(i=0;g>i;i+=1)if(d.isDateOverlap(e[i],a)){e[i]=null;break}c&&e.push(c)}),e.filter(function(a){return null!=a})},c.prototype.nodes=function(a){var b=this,c=b.settings,g=b.item,h=g.now,i=g.select,j=g.highlight,k=g.view,l=g.disable,m=g.min,n=g.max,o=function(a){return c.firstDay&&a.push(a.shift()),f.node("thead",f.node("tr",f.group({min:0,max:d-1,i:1,node:"th",item:function(b){return[a[b],c.klass.weekdays]}})))}((c.showWeekdaysFull?c.weekdaysFull:c.weekdaysShort).slice(0)),p=function(a){return f.node("div"," ",c.klass["nav"+(a?"Next":"Prev")]+(a&&k.year>=n.year&&k.month>=n.month||!a&&k.year<=m.year&&k.month<=m.month?" "+c.klass.navDisabled:""),"data-nav="+(a||-1))},q=function(b){return c.selectMonths?f.node("select",f.group({min:0,max:11,i:1,node:"option",item:function(a){return[b[a],0,"value="+a+(k.month==a?" selected":"")+(k.year==m.year&&a<m.month||k.year==n.year&&a>n.month?" disabled":"")]}}),c.klass.selectMonth,a?"":"disabled"):f.node("div",b[k.month],c.klass.month)},r=function(){var b=k.year,d=c.selectYears===!0?5:~~(c.selectYears/2);if(d){var e=m.year,g=n.year,h=b-d,i=b+d;if(e>h&&(i+=e-h,h=e),i>g){var j=h-e,l=i-g;h-=j>l?l:j,i=g}return f.node("select",f.group({min:h,max:i,i:1,node:"option",item:function(a){return[a,0,"value="+a+(b==a?" selected":"")]}}),c.klass.selectYear,a?"":"disabled")}return f.node("div",b,c.klass.year)};return f.node("div",p()+p(1)+q(c.showMonthsShort?c.monthsShort:c.monthsFull)+r(),c.klass.header)+f.node("table",o+f.node("tbody",f.group({min:0,max:e-1,i:1,node:"tr",item:function(a){var e=c.firstDay&&0===b.create([k.year,k.month,1]).day?-7:0;return[f.group({min:d*a-k.day+e+1,max:function(){return this.min+d-1},i:1,node:"td",item:function(a){a=b.create([k.year,k.month,a+(c.firstDay?1:0)]);var d=i&&i.pick==a.pick,e=j&&j.pick==a.pick,g=l&&b.disabled(a)||a.pick<m.pick||a.pick>n.pick;return[f.node("div",a.date,function(b){return b.push(k.month==a.month?c.klass.infocus:c.klass.outfocus),h.pick==a.pick&&b.push(c.klass.now),d&&b.push(c.klass.selected),e&&b.push(c.klass.highlighted),g&&b.push(c.klass.disabled),b.join(" ")}([c.klass.day]),"data-pick="+a.pick+" "+f.ariaAttr({role:"button",controls:b.$node[0].id,checked:d&&b.$node.val()===f.trigger(b.formats.toString,b,[c.format,a])?!0:null,activedescendant:e?!0:null,disabled:g?!0:null}))]}})]}})),c.klass.table)+f.node("div",f.node("button",c.today,c.klass.buttonToday,"type=button data-pick="+h.pick+(a?"":" disabled"))+f.node("button",c.clear,c.klass.buttonClear,"type=button data-clear=1"+(a?"":" disabled")),c.klass.footer)},c.defaults=function(a){return{monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",format:"d mmmm, yyyy",klass:{table:a+"table",header:a+"header",navPrev:a+"nav--prev",navNext:a+"nav--next",navDisabled:a+"nav--disabled",month:a+"month",year:a+"year",selectMonth:a+"select--month",selectYear:a+"select--year",weekdays:a+"weekday",day:a+"day",disabled:a+"day--disabled",selected:a+"day--selected",highlighted:a+"day--highlighted",now:a+"day--today",infocus:a+"day--infocus",outfocus:a+"day--outfocus",footer:a+"footer",buttonClear:a+"button--clear",buttonToday:a+"button--today"}}}(a.klasses().picker+"__"),a.extend("pickadate",c)});
!function(a){"function"==typeof define&&define.amd&&false?define(["picker","jquery"],a):a(Picker,jQuery)}(function(a,b){function c(a,b){var c=this,d=a.$node[0].value,e=a.$node.data("value"),f=e||d,g=e?b.formatSubmit:b.format;c.settings=b,c.$node=a.$node,c.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},c.item={},c.item.interval=b.interval||30,c.item.disable=(b.disable||[]).slice(0),c.item.enable=-function(a){return a[0]===!0?a.shift():-1}(c.item.disable),c.set("min",b.min).set("max",b.max).set("now"),f?c.set("select",f,{format:g,fromValue:!!d}):c.set("select",null).set("highlight",c.item.now),c.key={40:1,38:-1,39:1,37:-1,go:function(a){c.set("highlight",c.item.highlight.pick+a*c.item.interval,{interval:a*c.item.interval}),this.render()}},a.on("render",function(){var c=a.$root.children(),d=c.find("."+b.klass.viewset);d.length&&(c[0].scrollTop=~~d.position().top-2*d[0].clientHeight)}).on("open",function(){a.$root.find("button").attr("disable",!1)}).on("close",function(){a.$root.find("button").attr("disable",!0)})}var d=24,e=60,f=12,g=d*e,h=a._;c.prototype.set=function(a,b,c){var d=this,e=d.item;return null===b?(e[a]=b,d):(e["enable"==a?"disable":"flip"==a?"enable":a]=d.queue[a].split(" ").map(function(e){return b=d[e](a,b,c)}).pop(),"select"==a?d.set("highlight",e.select,c):"highlight"==a?d.set("view",e.highlight,c):"interval"==a?d.set("min",e.min,c).set("max",e.max,c):a.match(/^(flip|min|max|disable|enable)$/)&&("min"==a&&d.set("max",e.max,c),e.select&&d.disabled(e.select)&&d.set("select",e.select,c),e.highlight&&d.disabled(e.highlight)&&d.set("highlight",e.highlight,c)),d)},c.prototype.get=function(a){return this.item[a]},c.prototype.create=function(a,c,f){var i=this;return c=void 0===c?a:c,h.isDate(c)&&(c=[c.getHours(),c.getMinutes()]),b.isPlainObject(c)&&h.isInteger(c.pick)?c=c.pick:b.isArray(c)?c=+c[0]*e+ +c[1]:h.isInteger(c)||(c=i.now(a,c,f)),"max"==a&&c<i.item.min.pick&&(c+=g),"min"!=a&&"max"!=a&&(c-i.item.min.pick)%i.item.interval!==0&&(c+=i.item.interval),c=i.normalize(a,c,f),{hour:~~(d+c/e)%d,mins:(e+c%e)%e,time:(g+c)%g,pick:c}},c.prototype.createRange=function(a,c){var d=this,e=function(a){return a===!0||b.isArray(a)||h.isDate(a)?d.create(a):a};return h.isInteger(a)||(a=e(a)),h.isInteger(c)||(c=e(c)),h.isInteger(a)&&b.isPlainObject(c)?a=[c.hour,c.mins+a*d.settings.interval]:h.isInteger(c)&&b.isPlainObject(a)&&(c=[a.hour,a.mins+c*d.settings.interval]),{from:e(a),to:e(c)}},c.prototype.withinRange=function(a,b){return a=this.createRange(a.from,a.to),b.pick>=a.from.pick&&b.pick<=a.to.pick},c.prototype.overlapRanges=function(a,b){var c=this;return a=c.createRange(a.from,a.to),b=c.createRange(b.from,b.to),c.withinRange(a,b.from)||c.withinRange(a,b.to)||c.withinRange(b,a.from)||c.withinRange(b,a.to)},c.prototype.now=function(a,b){var c,d=this.item.interval,f=new Date,g=f.getHours()*e+f.getMinutes(),i=h.isInteger(b);return g-=g%d,c=0>b&&-d>=d*b+g,g+="min"==a&&c?0:d,i&&(g+=d*(c&&"max"!=a?b+1:b)),g},c.prototype.normalize=function(a,b){var c=this.item.interval,d=this.item.min&&this.item.min.pick||0;return b-="min"==a?0:(b-d)%c},c.prototype.measure=function(a,c,f){var g=this;return c?c===!0||h.isInteger(c)?c=g.now(a,c,f):b.isPlainObject(c)&&h.isInteger(c.pick)&&(c=g.normalize(a,c.pick,f)):c="min"==a?[0,0]:[d-1,e-1],c},c.prototype.validate=function(a,b,c){var d=this,e=c&&c.interval?c.interval:d.item.interval;return d.disabled(b)&&(b=d.shift(b,e)),b=d.scope(b),d.disabled(b)&&(b=d.shift(b,-1*e)),b},c.prototype.disabled=function(a){var c=this,d=c.item.disable.filter(function(d){return h.isInteger(d)?a.hour==d:b.isArray(d)||h.isDate(d)?a.pick==c.create(d).pick:b.isPlainObject(d)?c.withinRange(d,a):void 0});return d=d.length&&!d.filter(function(a){return b.isArray(a)&&"inverted"==a[2]||b.isPlainObject(a)&&a.inverted}).length,-1===c.item.enable?!d:d||a.pick<c.item.min.pick||a.pick>c.item.max.pick},c.prototype.shift=function(a,b){var c=this,d=c.item.min.pick,e=c.item.max.pick;for(b=b||c.item.interval;c.disabled(a)&&(a=c.create(a.pick+=b),!(a.pick<=d||a.pick>=e)););return a},c.prototype.scope=function(a){var b=this.item.min.pick,c=this.item.max.pick;return this.create(a.pick>c?c:a.pick<b?b:a)},c.prototype.parse=function(a,c,d){var f,g,i,j,k,l=this,m={};if(!c||h.isInteger(c)||b.isArray(c)||h.isDate(c)||b.isPlainObject(c)&&h.isInteger(c.pick))return c;d&&d.format||(d=d||{},d.format=l.settings.format),l.formats.toArray(d.format).map(function(a){var b,d=l.formats[a],e=d?h.trigger(d,l,[c,m]):a.replace(/^!/,"").length;d&&(b=c.substr(0,e),m[a]=b.match(/^\d+$/)?+b:b),c=c.substr(e)});for(j in m)k=m[j],h.isInteger(k)?j.match(/^(h|hh)$/i)?(f=k,("h"==j||"hh"==j)&&(f%=12)):"i"==j&&(g=k):j.match(/^a$/i)&&k.match(/^p/i)&&("h"in m||"hh"in m)&&(i=!0);return(i?f+12:f)*e+g},c.prototype.formats={h:function(a,b){return a?h.digits(a):b.hour%f||f},hh:function(a,b){return a?2:h.lead(b.hour%f||f)},H:function(a,b){return a?h.digits(a):""+b.hour%24},HH:function(a,b){return a?h.digits(a):h.lead(b.hour%24)},i:function(a,b){return a?2:h.lead(b.mins)},a:function(a,b){return a?4:g/2>b.time%g?"a.m.":"p.m."},A:function(a,b){return a?2:g/2>b.time%g?"AM":"PM"},toArray:function(a){return a.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(a,b){var c=this;return c.formats.toArray(a).map(function(a){return h.trigger(c.formats[a],c,[0,b])||a.replace(/^!/,"")}).join("")}},c.prototype.isTimeExact=function(a,c){var d=this;return h.isInteger(a)&&h.isInteger(c)||"boolean"==typeof a&&"boolean"==typeof c?a===c:(h.isDate(a)||b.isArray(a))&&(h.isDate(c)||b.isArray(c))?d.create(a).pick===d.create(c).pick:b.isPlainObject(a)&&b.isPlainObject(c)?d.isTimeExact(a.from,c.from)&&d.isTimeExact(a.to,c.to):!1},c.prototype.isTimeOverlap=function(a,c){var d=this;return h.isInteger(a)&&(h.isDate(c)||b.isArray(c))?a===d.create(c).hour:h.isInteger(c)&&(h.isDate(a)||b.isArray(a))?c===d.create(a).hour:b.isPlainObject(a)&&b.isPlainObject(c)?d.overlapRanges(a,c):!1},c.prototype.flipEnable=function(a){var b=this.item;b.enable=a||(-1==b.enable?1:-1)},c.prototype.deactivate=function(a,c){var d=this,e=d.item.disable.slice(0);return"flip"==c?d.flipEnable():c===!1?(d.flipEnable(1),e=[]):c===!0?(d.flipEnable(-1),e=[]):c.map(function(a){for(var c,f=0;f<e.length;f+=1)if(d.isTimeExact(a,e[f])){c=!0;break}c||(h.isInteger(a)||h.isDate(a)||b.isArray(a)||b.isPlainObject(a)&&a.from&&a.to)&&e.push(a)}),e},c.prototype.activate=function(a,c){var d=this,e=d.item.disable,f=e.length;return"flip"==c?d.flipEnable():c===!0?(d.flipEnable(1),e=[]):c===!1?(d.flipEnable(-1),e=[]):c.map(function(a){var c,g,i,j;for(i=0;f>i;i+=1){if(g=e[i],d.isTimeExact(g,a)){c=e[i]=null,j=!0;break}if(d.isTimeOverlap(g,a)){b.isPlainObject(a)?(a.inverted=!0,c=a):b.isArray(a)?(c=a,c[2]||c.push("inverted")):h.isDate(a)&&(c=[a.getFullYear(),a.getMonth(),a.getDate(),"inverted"]);break}}if(c)for(i=0;f>i;i+=1)if(d.isTimeExact(e[i],a)){e[i]=null;break}if(j)for(i=0;f>i;i+=1)if(d.isTimeOverlap(e[i],a)){e[i]=null;break}c&&e.push(c)}),e.filter(function(a){return null!=a})},c.prototype.i=function(a,b){return h.isInteger(b)&&b>0?b:this.item.interval},c.prototype.nodes=function(a){var b=this,c=b.settings,d=b.item.select,e=b.item.highlight,f=b.item.view,g=b.item.disable;return h.node("ul",h.group({min:b.item.min.pick,max:b.item.max.pick,i:b.item.interval,node:"li",item:function(a){a=b.create(a);var i=a.pick,j=d&&d.pick==i,k=e&&e.pick==i,l=g&&b.disabled(a);return[h.trigger(b.formats.toString,b,[h.trigger(c.formatLabel,b,[a])||c.format,a]),function(a){return j&&a.push(c.klass.selected),k&&a.push(c.klass.highlighted),f&&f.pick==i&&a.push(c.klass.viewset),l&&a.push(c.klass.disabled),a.join(" ")}([c.klass.listItem]),"data-pick="+a.pick+" "+h.ariaAttr({role:"button",controls:b.$node[0].id,checked:j&&b.$node.val()===h.trigger(b.formats.toString,b,[c.format,a])?!0:null,activedescendant:k?!0:null,disabled:l?!0:null})]}})+h.node("li",h.node("button",c.clear,c.klass.buttonClear,"type=button data-clear=1"+(a?"":" disable"))),c.klass.list)},c.defaults=function(a){return{clear:"Clear",format:"h:i A",interval:30,klass:{picker:a+" "+a+"--time",holder:a+"__holder",list:a+"__list",listItem:a+"__list-item",disabled:a+"__list-item--disabled",selected:a+"__list-item--selected",highlighted:a+"__list-item--highlighted",viewset:a+"__list-item--viewset",now:a+"__list-item--now",buttonClear:a+"__button--clear"}}}(a.klasses().picker),a.extend("pickatime",c)});
/*! Magnific Popup v0.9.9 | By Dmitry Semenov, http://bit.ly/magnific-popup#build=inline+image+ajax+iframe+gallery+retina+imagezoom+fastclick | MIT license */
!(function(a){var b="Close",c="BeforeClose",d="AfterClose",e="BeforeAppend",f="MarkupParse",g="Open",h="Change",i="mfp",j="."+i,k="mfp-ready",l="mfp-removing",m="mfp-prevent-close",n,o=function(){},p=!!window.jQuery,q,r=a(window),s,t,u,v,w,x=function(a,b){n.ev.on(i+a+j,b)},y=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},z=function(b,c){n.ev.triggerHandler(i+b,c),n.st.callbacks&&(b=b.charAt(0).toLowerCase()+b.slice(1),n.st.callbacks[b]&&n.st.callbacks[b].apply(n,a.isArray(c)?c:[c]))},A=function(b){if(b!==w||!n.currTemplate.closeBtn)n.currTemplate.closeBtn=a(n.st.closeMarkup.replace("%title%",n.st.tClose)),w=b;return n.currTemplate.closeBtn},B=function(){a.magnificPopup.instance||(n=new o,n.init(),a.magnificPopup.instance=n)},C=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(a.transition!==undefined)return!0;while(b.length)if(b.pop()+"Transition"in a)return!0;return!1};o.prototype={constructor:o,init:function(){var b=navigator.appVersion;n.isIE7=b.indexOf("MSIE 7.")!==-1,n.isIE8=b.indexOf("MSIE 8.")!==-1,n.isLowIE=n.isIE7||n.isIE8,n.isAndroid=/android/gi.test(b),n.isIOS=/iphone|ipad|ipod/gi.test(b),n.supportsTransition=C(),n.probablyMobile=n.isAndroid||n.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),t=a(document),n.popupsCache={}},open:function(b){s||(s=a(document.body));var c;if(b.isObj===!1){n.items=b.items.toArray(),n.index=0;var d=b.items,e;for(c=0;c<d.length;c++){e=d[c],e.parsed&&(e=e.el[0]);if(e===b.el[0]){n.index=c;break}}}else n.items=a.isArray(b.items)?b.items:[b.items],n.index=b.index||0;if(n.isOpen){n.updateItemHTML();return}n.types=[],v="",b.mainEl&&b.mainEl.length?n.ev=b.mainEl.eq(0):n.ev=t,b.key?(n.popupsCache[b.key]||(n.popupsCache[b.key]={}),n.currTemplate=n.popupsCache[b.key]):n.currTemplate={},n.st=a.extend(!0,{},a.magnificPopup.defaults,b),n.fixedContentPos=n.st.fixedContentPos==="auto"?!n.probablyMobile:n.st.fixedContentPos,n.st.modal&&(n.st.closeOnContentClick=!1,n.st.closeOnBgClick=!1,n.st.showCloseBtn=!1,n.st.enableEscapeKey=!1),n.bgOverlay||(n.bgOverlay=y("bg").on("click"+j,function(){n.close()}),n.wrap=y("wrap").attr("tabindex",-1).on("click"+j,function(a){n._checkIfClose(a.target)&&n.close()}),n.container=y("container",n.wrap)),n.contentContainer=y("content"),n.st.preloader&&(n.preloader=y("preloader",n.container,n.st.tLoading));var h=a.magnificPopup.modules;for(c=0;c<h.length;c++){var i=h[c];i=i.charAt(0).toUpperCase()+i.slice(1),n["init"+i].call(n)}z("BeforeOpen"),n.st.showCloseBtn&&(n.st.closeBtnInside?(x(f,function(a,b,c,d){c.close_replaceWith=A(d.type)}),v+=" mfp-close-btn-in"):n.wrap.append(A())),n.st.alignTop&&(v+=" mfp-align-top"),n.fixedContentPos?n.wrap.css({overflow:n.st.overflowY,overflowX:"hidden",overflowY:n.st.overflowY}):n.wrap.css({top:r.scrollTop(),position:"absolute"}),(n.st.fixedBgPos===!1||n.st.fixedBgPos==="auto"&&!n.fixedContentPos)&&n.bgOverlay.css({height:t.height(),position:"absolute"}),n.st.enableEscapeKey&&t.on("keyup"+j,function(a){a.keyCode===27&&n.close()}),r.on("resize"+j,function(){n.updateSize()}),n.st.closeOnContentClick||(v+=" mfp-auto-cursor"),v&&n.wrap.addClass(v);var l=n.wH=r.height(),m={};if(n.fixedContentPos&&n._hasScrollBar(l)){var o=n._getScrollbarSize();o&&(m.marginRight=o)}n.fixedContentPos&&(n.isIE7?a("body, html").css("overflow","hidden"):m.overflow="hidden");var p=n.st.mainClass;return n.isIE7&&(p+=" mfp-ie7"),p&&n._addClassToMFP(p),n.updateItemHTML(),z("BuildControls"),a("html").css(m),n.bgOverlay.add(n.wrap).prependTo(n.st.prependTo||s),n._lastFocusedEl=document.activeElement,setTimeout(function(){n.content?(n._addClassToMFP(k),n._setFocus()):n.bgOverlay.addClass(k),t.on("focusin"+j,n._onFocusIn)},16),n.isOpen=!0,n.updateSize(l),z(g),b},close:function(){if(!n.isOpen)return;z(c),n.isOpen=!1,n.st.removalDelay&&!n.isLowIE&&n.supportsTransition?(n._addClassToMFP(l),setTimeout(function(){n._close()},n.st.removalDelay)):n._close()},_close:function(){z(b);var c=l+" "+k+" ";n.bgOverlay.detach(),n.wrap.detach(),n.container.empty(),n.st.mainClass&&(c+=n.st.mainClass+" "),n._removeClassFromMFP(c);if(n.fixedContentPos){var e={marginRight:""};n.isIE7?a("body, html").css("overflow",""):e.overflow="",a("html").css(e)}t.off("keyup"+j+" focusin"+j),n.ev.off(j),n.wrap.attr("class","mfp-wrap").removeAttr("style"),n.bgOverlay.attr("class","mfp-bg"),n.container.attr("class","mfp-container"),n.st.showCloseBtn&&(!n.st.closeBtnInside||n.currTemplate[n.currItem.type]===!0)&&n.currTemplate.closeBtn&&n.currTemplate.closeBtn.detach(),n._lastFocusedEl&&a(n._lastFocusedEl).focus(),n.currItem=null,n.content=null,n.currTemplate=null,n.prevHeight=0,z(d)},updateSize:function(a){if(n.isIOS){var b=document.documentElement.clientWidth/window.innerWidth,c=window.innerHeight*b;n.wrap.css("height",c),n.wH=c}else n.wH=a||r.height();n.fixedContentPos||n.wrap.css("height",n.wH),z("Resize")},updateItemHTML:function(){var b=n.items[n.index];n.contentContainer.detach(),n.content&&n.content.detach(),b.parsed||(b=n.parseEl(n.index));var c=b.type;z("BeforeChange",[n.currItem?n.currItem.type:"",c]),n.currItem=b;if(!n.currTemplate[c]){var d=n.st[c]?n.st[c].markup:!1;z("FirstMarkupParse",d),d?n.currTemplate[c]=a(d):n.currTemplate[c]=!0}u&&u!==b.type&&n.container.removeClass("mfp-"+u+"-holder");var e=n["get"+c.charAt(0).toUpperCase()+c.slice(1)](b,n.currTemplate[c]);n.appendContent(e,c),b.preloaded=!0,z(h,b),u=b.type,n.container.prepend(n.contentContainer),z("AfterChange")},appendContent:function(a,b){n.content=a,a?n.st.showCloseBtn&&n.st.closeBtnInside&&n.currTemplate[b]===!0?n.content.find(".mfp-close").length||n.content.append(A()):n.content=a:n.content="",z(e),n.container.addClass("mfp-"+b+"-holder"),n.contentContainer.append(n.content)},parseEl:function(b){var c=n.items[b],d;c.tagName?c={el:a(c)}:(d=c.type,c={data:c,src:c.src});if(c.el){var e=n.types;for(var f=0;f<e.length;f++)if(c.el.hasClass("mfp-"+e[f])){d=e[f];break}c.src=c.el.attr("data-mfp-src"),c.src||(c.src=c.el.attr("href"))}return c.type=d||n.st.type||"inline",c.index=b,c.parsed=!0,n.items[b]=c,z("ElementParse",c),n.items[b]},addGroup:function(a,b){var c=function(c){c.mfpEl=this,n._openClick(c,a,b)};b||(b={});var d="click.magnificPopup";b.mainEl=a,b.items?(b.isObj=!0,a.off(d).on(d,c)):(b.isObj=!1,b.delegate?a.off(d).on(d,b.delegate,c):(b.items=a,a.off(d).on(d,c)))},_openClick:function(b,c,d){var e=d.midClick!==undefined?d.midClick:a.magnificPopup.defaults.midClick;if(!e&&(b.which===2||b.ctrlKey||b.metaKey))return;var f=d.disableOn!==undefined?d.disableOn:a.magnificPopup.defaults.disableOn;if(f)if(a.isFunction(f)){if(!f.call(n))return!0}else if(r.width()<f)return!0;b.type&&(b.preventDefault(),n.isOpen&&b.stopPropagation()),d.el=a(b.mfpEl),d.delegate&&(d.items=c.find(d.delegate)),n.open(d)},updateStatus:function(a,b){if(n.preloader){q!==a&&n.container.removeClass("mfp-s-"+q),!b&&a==="loading"&&(b=n.st.tLoading);var c={status:a,text:b};z("UpdateStatus",c),a=c.status,b=c.text,n.preloader.html(b),n.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),n.container.addClass("mfp-s-"+a),q=a}},_checkIfClose:function(b){if(a(b).hasClass(m))return;var c=n.st.closeOnContentClick,d=n.st.closeOnBgClick;if(c&&d)return!0;if(!n.content||a(b).hasClass("mfp-close")||n.preloader&&b===n.preloader[0])return!0;if(b!==n.content[0]&&!a.contains(n.content[0],b)){if(d&&a.contains(document,b))return!0}else if(c)return!0;return!1},_addClassToMFP:function(a){n.bgOverlay.addClass(a),n.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),n.wrap.removeClass(a)},_hasScrollBar:function(a){return(n.isIE7?t.height():document.body.scrollHeight)>(a||r.height())},_setFocus:function(){(n.st.focus?n.content.find(n.st.focus).eq(0):n.wrap).focus()},_onFocusIn:function(b){if(b.target!==n.wrap[0]&&!a.contains(n.wrap[0],b.target))return n._setFocus(),!1},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),z(f,[b,c,d]),a.each(c,function(a,c){if(c===undefined||c===!1)return!0;e=a.split("_");if(e.length>1){var d=b.find(j+"-"+e[0]);if(d.length>0){var f=e[1];f==="replaceWith"?d[0]!==c[0]&&d.replaceWith(c):f==="img"?d.is("img")?d.attr("src",c):d.replaceWith('<img src="'+c+'" class="'+d.attr("class")+'" />'):d.attr(e[1],c)}}else b.find(j+"-"+a).html(c)})},_getScrollbarSize:function(){if(n.scrollbarSize===undefined){var a=document.createElement("div");a.id="mfp-sbm",a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),n.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return n.scrollbarSize}},a.magnificPopup={instance:null,proto:o.prototype,modules:[],open:function(b,c){return B(),b?b=a.extend(!0,{},b):b={},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},a.fn.magnificPopup=function(b){B();var c=a(this);if(typeof b=="string")if(b==="open"){var d,e=p?c.data("magnificPopup"):c[0].magnificPopup,f=parseInt(arguments[1],10)||0;e.items?d=e.items[f]:(d=c,e.delegate&&(d=d.find(e.delegate)),d=d.eq(f)),n._openClick({mfpEl:d},c,e)}else n.isOpen&&n[b].apply(n,Array.prototype.slice.call(arguments,1));else b=a.extend(!0,{},b),p?c.data("magnificPopup",b):c[0].magnificPopup=b,n.addGroup(c,b);return c};var D="inline",E,F,G,H=function(){G&&(F.after(G.addClass(E)).detach(),G=null)};a.magnificPopup.registerModule(D,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){n.types.push(D),x(b+"."+D,function(){H()})},getInline:function(b,c){H();if(b.src){var d=n.st.inline,e=a(b.src);if(e.length){var f=e[0].parentNode;f&&f.tagName&&(F||(E=d.hiddenClass,F=y(E),E="mfp-"+E),G=e.after(F).detach().removeClass(E)),n.updateStatus("ready")}else n.updateStatus("error",d.tNotFound),e=a("<div>");return b.inlineElement=e,e}return n.updateStatus("ready"),n._parseMarkup(c,{},b),c}}});var I="ajax",J,K=function(){J&&s.removeClass(J)},L=function(){K(),n.req&&n.req.abort()};a.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){n.types.push(I),J=n.st.ajax.cursor,x(b+"."+I,L),x("BeforeChange."+I,L)},getAjax:function(b){J&&s.addClass(J),n.updateStatus("loading");var c=a.extend({url:b.src,success:function(c,d,e){var f={data:c,xhr:e};z("ParseAjax",f),n.appendContent(a(f.data),I),b.finished=!0,K(),n._setFocus(),setTimeout(function(){n.wrap.addClass(k)},16),n.updateStatus("ready"),z("AjaxContentAdded")},error:function(){K(),b.finished=b.loadError=!0,n.updateStatus("error",n.st.ajax.tError.replace("%url%",b.src))}},n.st.ajax.settings);return n.req=a.ajax(c),""}}});var M,N=function(b){if(b.data&&b.data.title!==undefined)return b.data.title;var c=n.st.image.titleSrc;if(c){if(a.isFunction(c))return c.call(n,b);if(b.el)return b.el.attr(c)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=n.st.image,c=".image";n.types.push("image"),x(g+c,function(){n.currItem.type==="image"&&a.cursor&&s.addClass(a.cursor)}),x(b+c,function(){a.cursor&&s.removeClass(a.cursor),r.off("resize"+j)}),x("Resize"+c,n.resizeImage),n.isLowIE&&x("AfterChange",n.resizeImage)},resizeImage:function(){var a=n.currItem;if(!a||!a.img)return;if(n.st.image.verticalFit){var b=0;n.isLowIE&&(b=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",n.wH-b)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,M&&clearInterval(M),a.isCheckingImgSize=!1,z("ImageHasSize",a),a.imgHidden&&(n.content&&n.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var b=0,c=a.img[0],d=function(e){M&&clearInterval(M),M=setInterval(function(){if(c.naturalWidth>0){n._onImageHasSize(a);return}b>200&&clearInterval(M),b++,b===3?d(10):b===40?d(50):b===100&&d(500)},e)};d(1)},getImage:function(b,c){var d=0,e=function(){b&&(b.img[0].complete?(b.img.off(".mfploader"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus("ready")),b.hasSize=!0,b.loaded=!0,z("ImageLoadComplete")):(d++,d<200?setTimeout(e,100):f()))},f=function(){b&&(b.img.off(".mfploader"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus("error",g.tError.replace("%url%",b.src))),b.hasSize=!0,b.loaded=!0,b.loadError=!0)},g=n.st.image,h=c.find(".mfp-img");if(h.length){var i=document.createElement("img");i.className="mfp-img",b.img=a(i).on("load.mfploader",e).on("error.mfploader",f),i.src=b.src,h.is("img")&&(b.img=b.img.clone()),i=b.img[0],i.naturalWidth>0?b.hasSize=!0:i.width||(b.hasSize=!1)}return n._parseMarkup(c,{title:N(b),img_replaceWith:b.img},b),n.resizeImage(),b.hasSize?(M&&clearInterval(M),b.loadError?(c.addClass("mfp-loading"),n.updateStatus("error",g.tError.replace("%url%",b.src))):(c.removeClass("mfp-loading"),n.updateStatus("ready")),c):(n.updateStatus("loading"),b.loading=!0,b.hasSize||(b.imgHidden=!0,c.addClass("mfp-loading"),n.findImageSize(b)),c)}}});var O,P=function(){return O===undefined&&(O=document.createElement("p").style.MozTransform!==undefined),O};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a=n.st.zoom,d=".zoom",e;if(!a.enabled||!n.supportsTransition)return;var f=a.duration,g=function(b){var c=b.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+a.duration/1e3+"s "+a.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,c.css(e),c},h=function(){n.content.css("visibility","visible")},i,j;x("BuildControls"+d,function(){if(n._allowZoom()){clearTimeout(i),n.content.css("visibility","hidden"),e=n._getItemToZoom();if(!e){h();return}j=g(e),j.css(n._getOffset()),n.wrap.append(j),i=setTimeout(function(){j.css(n._getOffset(!0)),i=setTimeout(function(){h(),setTimeout(function(){j.remove(),e=j=null,z("ZoomAnimationEnded")},16)},f)},16)}}),x(c+d,function(){if(n._allowZoom()){clearTimeout(i),n.st.removalDelay=f;if(!e){e=n._getItemToZoom();if(!e)return;j=g(e)}j.css(n._getOffset(!0)),n.wrap.append(j),n.content.css("visibility","hidden"),setTimeout(function(){j.css(n._getOffset())},16)}}),x(b+d,function(){n._allowZoom()&&(h(),j&&j.remove(),e=null)})},_allowZoom:function(){return n.currItem.type==="image"},_getItemToZoom:function(){return n.currItem.hasSize?n.currItem.img:!1},_getOffset:function(b){var c;b?c=n.currItem.img:c=n.st.zoom.opener(n.currItem.el||n.currItem);var d=c.offset(),e=parseInt(c.css("padding-top"),10),f=parseInt(c.css("padding-bottom"),10);d.top-=a(window).scrollTop()-e;var g={width:c.width(),height:(p?c.innerHeight():c[0].offsetHeight)-f-e};return P()?g["-moz-transform"]=g.transform="translate("+d.left+"px,"+d.top+"px)":(g.left=d.left,g.top=d.top),g}}});var Q="iframe",R="//about:blank",S=function(a){if(n.currTemplate[Q]){var b=n.currTemplate[Q].find("iframe");b.length&&(a||(b[0].src=R),n.isIE8&&b.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(Q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){n.types.push(Q),x("BeforeChange",function(a,b,c){b!==c&&(b===Q?S():c===Q&&S(!0))}),x(b+"."+Q,function(){S()})},getIframe:function(b,c){var d=b.src,e=n.st.iframe;a.each(e.patterns,function(){if(d.indexOf(this.index)>-1)return this.id&&(typeof this.id=="string"?d=d.substr(d.lastIndexOf(this.id)+this.id.length,d.length):d=this.id.call(this,d)),d=this.src.replace("%id%",d),!1});var f={};return e.srcAction&&(f[e.srcAction]=d),n._parseMarkup(c,f,b),n.updateStatus("ready"),c}}});var T=function(a){var b=n.items.length;return a>b-1?a-b:a<0?b+a:a},U=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=n.st.gallery,d=".mfp-gallery",e=Boolean(a.fn.mfpFastClick);n.direction=!0;if(!c||!c.enabled)return!1;v+=" mfp-gallery",x(g+d,function(){c.navigateByImgClick&&n.wrap.on("click"+d,".mfp-img",function(){if(n.items.length>1)return n.next(),!1}),t.on("keydown"+d,function(a){a.keyCode===37?n.prev():a.keyCode===39&&n.next()})}),x("UpdateStatus"+d,function(a,b){b.text&&(b.text=U(b.text,n.currItem.index,n.items.length))}),x(f+d,function(a,b,d,e){var f=n.items.length;d.counter=f>1?U(c.tCounter,e.index,f):""}),x("BuildControls"+d,function(){if(n.items.length>1&&c.arrows&&!n.arrowLeft){var b=c.arrowMarkup,d=n.arrowLeft=a(b.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(m),f=n.arrowRight=a(b.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(m),g=e?"mfpFastClick":"click";d[g](function(){n.prev()}),f[g](function(){n.next()}),n.isIE7&&(y("b",d[0],!1,!0),y("a",d[0],!1,!0),y("b",f[0],!1,!0),y("a",f[0],!1,!0)),n.container.append(d.add(f))}}),x(h+d,function(){n._preloadTimeout&&clearTimeout(n._preloadTimeout),n._preloadTimeout=setTimeout(function(){n.preloadNearbyImages(),n._preloadTimeout=null},16)}),x(b+d,function(){t.off(d),n.wrap.off("click"+d),n.arrowLeft&&e&&n.arrowLeft.add(n.arrowRight).destroyMfpFastClick(),n.arrowRight=n.arrowLeft=null})},next:function(){n.direction=!0,n.index=T(n.index+1),n.updateItemHTML()},prev:function(){n.direction=!1,n.index=T(n.index-1),n.updateItemHTML()},goTo:function(a){n.direction=a>=n.index,n.index=a,n.updateItemHTML()},preloadNearbyImages:function(){var a=n.st.gallery.preload,b=Math.min(a[0],n.items.length),c=Math.min(a[1],n.items.length),d;for(d=1;d<=(n.direction?c:b);d++)n._preloadItem(n.index+d);for(d=1;d<=(n.direction?b:c);d++)n._preloadItem(n.index-d)},_preloadItem:function(b){b=T(b);if(n.items[b].preloaded)return;var c=n.items[b];c.parsed||(c=n.parseEl(b)),z("LazyLoad",c),c.type==="image"&&(c.img=a('<img class="mfp-img" />').on("load.mfploader",function(){c.hasSize=!0}).on("error.mfploader",function(){c.hasSize=!0,c.loadError=!0,z("LazyLoadError",c)}).attr("src",c.src)),c.preloaded=!0}}});var V="retina";a.magnificPopup.registerModule(V,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=n.st.retina,b=a.ratio;b=isNaN(b)?b():b,b>1&&(x("ImageHasSize."+V,function(a,c){c.img.css({"max-width":c.img[0].naturalWidth/b,width:"100%"})}),x("ElementParse."+V,function(c,d){d.src=a.replaceSrc(d,b)}))}}}}),function(){var b=1e3,c="ontouchstart"in window,d=function(){r.off("touchmove"+f+" touchend"+f)},e="mfpFastClick",f="."+e;a.fn.mfpFastClick=function(e){return a(this).each(function(){var g=a(this),h;if(c){var i,j,k,l,m,n;g.on("touchstart"+f,function(a){l=!1,n=1,m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0],j=m.clientX,k=m.clientY,r.on("touchmove"+f,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches,n=m.length,m=m[0];if(Math.abs(m.clientX-j)>10||Math.abs(m.clientY-k)>10)l=!0,d()}).on("touchend"+f,function(a){d();if(l||n>1)return;h=!0,a.preventDefault(),clearTimeout(i),i=setTimeout(function(){h=!1},b),e()})})}g.on("click"+f,function(){h||e()})})},a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+f+" click"+f),c&&r.off("touchmove"+f+" touchend"+f)}}(),B()})(window.jQuery||window.Zepto)
/*! FastClick v1.0.6 | (c) The Financial Times Limited [All Rights Reserved] | MIT license */
!function(){"use strict";function t(e,o){function i(t,e){return function(){return t.apply(e,arguments)}}var r;if(o=o||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=o.touchBoundary||10,this.layer=e,this.tapDelay=o.tapDelay||200,this.tapTimeout=o.tapTimeout||700,!t.notNeeded(e)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],c=this,s=0,u=a.length;u>s;s++)c[a[s]]=i(c[a[s]],c);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,o){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,o):i.call(e,t,n,o)},e.addEventListener=function(t,n,o){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),o):i.call(e,t,n,o)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,i=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=o&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(o&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,o;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),o=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;o&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],o){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,a,c,s,u,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(u=t.changedTouches[0],l=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),c=l.tagName.toLowerCase(),"label"===c){if(e=this.findControl(l)){if(this.focus(l),n)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-a>100||o&&window.top!==window&&"input"===c?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),o&&"select"===c||(this.targetElement=null,t.preventDefault()),!1);return o&&!i&&(s=l.fastClickScrollParent,s&&s.fastClickLastScrollTop!==s.scrollTop)?!0:(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,o,i,r;if("undefined"==typeof window.ontouchstart)return!0;if(o=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(o>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}();

// One-time initialization!
joms_init_toolkit = undefined;

}



/*===============================
/components/com_community/assets/source/js/utils/observer.js
================================================================================*/;
(function(factory){var JomsObserver=factory();joms_observer=new JomsObserver;})(function(){function JomsObserver(){}
JomsObserver.prototype._filters=undefined;JomsObserver.prototype._guid=1;JomsObserver.prototype.add_filter=function(name,fn,priority,num_param,context){var guid,filter;if(typeof fn!=='function'){return;}
priority=priority||10;guid=fn.joms_observer_id=fn.joms_observer_id||this._guid++;filter={fn:fn,priority:priority,num_param:num_param,context:context};if(!this._filters){this._filters={};}
if(!this._filters[name]){this._filters[name]={};}
if(!this._filters[name][priority]){this._filters[name][priority]={};}
this._filters[name][priority][guid]=filter;};JomsObserver.prototype.remove_filter=function(name,fn,priority){var guid;if(typeof fn!=='function'){return;}
priority=priority||10;guid=fn.joms_observer_id;if(guid&&this._filters&&this._filters[name]&&this._filters[name][priority]&&this._filters[name][priority][guid]){delete this._filters[name][priority][guid];}};JomsObserver.prototype.apply_filters=function(name){var args=arguments,data='',filters=this._filters&&this._filters[name],priority,guid,filter,fn_args,index;if(!filters){return args[1];}
for(priority in filters){for(guid in filters[priority]){filter=filters[priority][guid];if(filter.num_param){fn_args=[];index=1;while(index<=filter.num_param){fn_args.push(args[index]);index++;}
try{data=filter.fn.apply(filter.context,fn_args);args[1]=data;}catch(e){}}else{try{data=filter.fn();}catch(e){}}}}
return data;};JomsObserver.prototype.add_action=function(name,fn,priority,num_param,context){this.add_filter(name,fn,priority,num_param,context);};JomsObserver.prototype.remove_action=function(name,fn,priority){this.remove_filter(name,fn,priority);};JomsObserver.prototype.do_action=function(name){var args=arguments,actions=this._filters&&this._filters[name],priority,guid,action,fn_args,index;if(!actions){return;}
for(priority in actions){for(guid in actions[priority]){action=actions[priority][guid];fn_args=[];if(action.num_param){index=1;while(index<=action.num_param){fn_args.push(args[index]);index++;}}
try{action.fn.apply(action.context,fn_args);}catch(e){}}}};return JomsObserver;});


/*===============================
/components/com_community/assets/release/js/loader.js
================================================================================*/;
;(function(root){if(typeof root.joms!=='object'){root.joms={};}
root.joms.DEBUG=false;root.joms.log=root.joms.info=root.joms.warn=function(data){};root.joms_cache_$LAB=root.$LAB;root.joms_cache_Hammer=root.Hammer;})(this);
/*! LAB.js v2.0.3 | (c) Kyle Simpson | MIT license */
(function(o){var K=o.$LAB,y="UseLocalXHR",z="AlwaysPreserveOrder",u="AllowDuplicates",A="CacheBust",B="BasePath",C=/^[^?#]*\//.exec(location.href)[0],D=/^\w+\:\/\/\/?[^\/]+/.exec(C)[0],i=document.head||document.getElementsByTagName("head"),L=(o.opera&&Object.prototype.toString.call(o.opera)=="[object Opera]")||("MozAppearance"in document.documentElement.style),q=document.createElement("script"),E=typeof q.preload=="boolean",r=E||(q.readyState&&q.readyState=="uninitialized"),F=!r&&q.async===true,M=!r&&!F&&!L;function G(a){return Object.prototype.toString.call(a)=="[object Function]"}function H(a){return Object.prototype.toString.call(a)=="[object Array]"}function N(a,c){var b=/^\w+\:\/\//;if(/^\/\/\/?/.test(a)){a=location.protocol+a}else if(!b.test(a)&&a.charAt(0)!="/"){a=(c||"")+a}return b.test(a)?a:((a.charAt(0)=="/"?D:C)+a)}function s(a,c){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c}function O(a){var c=false;for(var b=0;b<a.scripts.length;b++){if(a.scripts[b].ready&&a.scripts[b].exec_trigger){c=true;a.scripts[b].exec_trigger();a.scripts[b].exec_trigger=null}}return c}function t(a,c,b,d){a.onload=a.onreadystatechange=function(){if((a.readyState&&a.readyState!="complete"&&a.readyState!="loaded")||c[b])return;a.onload=a.onreadystatechange=null;d()}}function I(a){a.ready=a.finished=true;for(var c=0;c<a.finished_listeners.length;c++){a.finished_listeners[c]()}a.ready_listeners=[];a.finished_listeners=[]}function P(d,f,e,g,h){setTimeout(function(){var a,c=f.real_src,b;if("item"in i){if(!i[0]){setTimeout(arguments.callee,25);return}i=i[0]}a=document.createElement("script");if(f.type)a.type=f.type;if(f.charset)a.charset=f.charset;if(h){if(r){e.elem=a;if(E){a.preload=true;a.onpreload=g}else{a.onreadystatechange=function(){if(a.readyState=="loaded")g()}}a.src=c}else if(h&&c.indexOf(D)==0&&d[y]){b=new XMLHttpRequest();b.onreadystatechange=function(){if(b.readyState==4){b.onreadystatechange=function(){};e.text=b.responseText+"\n//@ sourceURL="+c;g()}};b.open("GET",c);b.send()}else{a.type="text/cache-script";t(a,e,"ready",function(){i.removeChild(a);g()});a.src=c;i.insertBefore(a,i.firstChild)}}else if(F){a.async=false;t(a,e,"finished",g);a.src=c;i.insertBefore(a,i.firstChild)}else{t(a,e,"finished",g);a.src=c;i.insertBefore(a,i.firstChild)}},0)}function J(){var l={},Q=r||M,n=[],p={},m;l[y]=true;l[z]=false;l[u]=false;l[A]=false;l[B]="";function R(a,c,b){var d;function f(){if(d!=null){d=null;I(b)}}if(p[c.src].finished)return;if(!a[u])p[c.src].finished=true;d=b.elem||document.createElement("script");if(c.type)d.type=c.type;if(c.charset)d.charset=c.charset;t(d,b,"finished",f);if(b.elem){b.elem=null}else if(b.text){d.onload=d.onreadystatechange=null;d.text=b.text}else{d.src=c.real_src}i.insertBefore(d,i.firstChild);if(b.text){f()}}function S(c,b,d,f){var e,g,h=function(){b.ready_cb(b,function(){R(c,b,e)})},j=function(){b.finished_cb(b,d)};b.src=N(b.src,c[B]);b.real_src=b.src+(c[A]?((/\?.*$/.test(b.src)?"&_":"?_")+~~(Math.random()*1E9)+"="):"");if(!p[b.src])p[b.src]={items:[],finished:false};g=p[b.src].items;if(c[u]||g.length==0){e=g[g.length]={ready:false,finished:false,ready_listeners:[h],finished_listeners:[j]};P(c,b,e,((f)?function(){e.ready=true;for(var a=0;a<e.ready_listeners.length;a++){e.ready_listeners[a]()}e.ready_listeners=[]}:function(){I(e)}),f)}else{e=g[0];if(e.finished){j()}else{e.finished_listeners.push(j)}}}function v(){var e,g=s(l,{}),h=[],j=0,w=false,k;function T(a,c){a.ready=true;a.exec_trigger=c;x()}function U(a,c){a.ready=a.finished=true;a.exec_trigger=null;for(var b=0;b<c.scripts.length;b++){if(!c.scripts[b].finished)return}c.finished=true;x()}function x(){while(j<h.length){if(G(h[j])){try{h[j++]()}catch(err){}continue}else if(!h[j].finished){if(O(h[j]))continue;break}j++}if(j==h.length){w=false;k=false}}function V(){if(!k||!k.scripts){h.push(k={scripts:[],finished:true})}}e={script:function(){for(var f=0;f<arguments.length;f++){(function(a,c){var b;if(!H(a)){c=[a]}for(var d=0;d<c.length;d++){V();a=c[d];if(G(a))a=a();if(!a)continue;if(H(a)){b=[].slice.call(a);b.unshift(d,1);[].splice.apply(c,b);d--;continue}if(typeof a=="string")a={src:a};a=s(a,{ready:false,ready_cb:T,finished:false,finished_cb:U});k.finished=false;k.scripts.push(a);S(g,a,k,(Q&&w));w=true;if(g[z])e.wait()}})(arguments[f],arguments[f])}return e},wait:function(){if(arguments.length>0){for(var a=0;a<arguments.length;a++){h.push(arguments[a])}k=h[h.length-1]}else k=false;x();return e}};return{script:e.script,wait:e.wait,setOptions:function(a){s(a,g);return e}}}m={setGlobalDefaults:function(a){s(a,l);return m},setOptions:function(){return v().setOptions.apply(null,arguments)},script:function(){return v().script.apply(null,arguments)},wait:function(){return v().wait.apply(null,arguments)},queueScript:function(){n[n.length]={type:"script",args:[].slice.call(arguments)};return m},queueWait:function(){n[n.length]={type:"wait",args:[].slice.call(arguments)};return m},runQueue:function(){var a=m,c=n.length,b=c,d;for(;--b>=0;){d=n.shift();a=a[d.type].apply(null,d.args)}return a},noConflict:function(){o.$LAB=K;return m},sandbox:function(){return J()}};return m}o.$LAB=J();(function(a,c,b){if(document.readyState==null&&document[a]){document.readyState="loading";document[a](c,b=function(){document.removeEventListener(c,b,false);document.readyState="complete"},false)}})("addEventListener","DOMContentLoaded")})(this);;(function(root,undef){root.joms.$LAB=root.$LAB;root.$LAB=root.joms_cache_$LAB;delete root.joms_cache_$LAB;root.joms.jQuery=undef;root.joms.Hammer=undef;root.joms._=undef;root.joms.Backbone=undef;root.joms.onAjaxReponse=function(id,callback){if(!root.joms._onAjaxReponseQueue)root.joms._onAjaxReponseQueue=[];if(!root.joms._onAjaxReponseQueue[id])root.joms._onAjaxReponseQueue[id]=[];root.joms._onAjaxReponseQueue[id].push(callback);};root.joms.onStart=function(fn){if(root.joms._onStartQueue===undef)root.joms._onStartQueue=[];if(root.joms._onStartStarted)fn(root.joms.jQuery);else root.joms._onStartQueue.push(fn);};root.joms.start=function(){if(root.joms_queue&&root.joms_queue.length){if(root.joms._onStartQueue===undef)root.joms._onStartQueue=[];root.joms._onStartQueue=root.joms_queue.concat(root.joms._onStartQueue);root.joms_queue=[];}
if(root.joms._onStartQueue!==undef){while(root.joms._onStartQueue.length){try{(root.joms._onStartQueue.shift())(root.joms.jQuery);}catch(e){}}}
root.joms._onStartStarted=true;};root.joms.fixUI=function(){var tabbed=document.getElementsByClassName('joms-module__wrapper'),stacked=document.getElementsByClassName('joms-module__wrapper--stacked'),sidebar,main,mobile,cname,i;for(i=tabbed.length-1;i>=0;i--){if(!tabbed[i].innerHTML.match(/joms-tab__content|joms-js--app-new/)){tabbed[i].parentNode.removeChild(tabbed[i]);}}
for(i=stacked.length-1;i>=0;i--){if(!stacked[i].innerHTML.match(/joms-module--stacked|joms-js--app-new/)){stacked[i].parentNode.removeChild(stacked[i]);}}
sidebar=document.getElementsByClassName('joms-sidebar')[0];if(sidebar&&(!sidebar.innerHTML.match(/joms-module|app-position/))){main=document.getElementsByClassName('joms-main')[0];sidebar.parentNode.removeChild(sidebar);if(main){main.className+=' joms-main--full';}}
mobile=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;if(!mobile.test(navigator.userAgent)){cname=document.documentElement.className||'';document.documentElement.className=cname+(cname.length?' ':'')+'joms-no-touch';}
joms.onStart(function($){$(function(){$('.joms-select').each(function(){var el=$(this),multiple;if(!el.parent('.joms-select--wrapper').length){multiple=el.attr('size')||el.attr('multiple');el.wrap('<div class="joms-select--wrapper'+(multiple?' joms-select--expand':'')+'"></div>');}});});});};var path_source='source/js/',path_release='release/js/',path_vendors='vendors/',path_jquery=path_vendors+'jquery.min.js',path_require=path_vendors+'require.min.js',path_bundle='bundle.js?_='+(new Date()).getTime();function load(){var isdev=root.joms.DEBUG,relpath=root.joms_assets_url||'',relpath_bundle=relpath+(isdev?path_source:path_release)+path_bundle;root.joms.$LAB.script(function(){return root.jQuery?null:(relpath+path_jquery);}).wait(function(){root.joms_init_toolkit();}).wait(postLoad).script(function(){return isdev?(relpath+path_require):null;}).wait(function(){isdev&&require.config({baseUrl:relpath+path_source});}).script(relpath_bundle).wait(function(){root.joms_init_postbox();root.joms.misc.view.fixSVG();});}
function postLoad(){root.joms.jQuery=root.jQuery;root.joms.loadCSS=root.loadCSS;root.joms.Hammer=root.Hammer;root.Hammer=root.joms_cache_Hammer;delete root.joms_cache_Hammer;root.joms._=root._;root.joms.Backbone=root.Backbone.noConflict();root.joms.Backbone.$=root.joms.jQuery;}
if(root.joms_assets_url!==undef){load();return;}
var attempts=0,attemptsDelay=500,maxAttempts=1200;var timer=root.setInterval(function(){if(++attempts>maxAttempts){root.clearInterval(timer);root.joms.warn('Variable `joms_assets_url` is not defined.');return;}
if(root.joms_assets_url!==undef){root.clearInterval(timer);load();}},attemptsDelay);})(this);


/*===============================
/components/com_community/assets/release_32/js/bundle.js
================================================================================*/;
function joms_init_postbox(){this["joms"]=this["joms"]||{};this["joms"]["jst"]=this["joms"]["jst"]||{};this["joms"]["jst"]["html/dropdown/event"]=function(data){var __t,__p='',__e=_.escape;__p+='<div class="joms-postbox-dropdown event-dropdown"> <div style="clear:both"> <div class=event-time-column> <span>'+((__t=(data.language.event.category))==null?'':__t)+' <span style="color:red">*</span></span> <div class="joms-select--wrapper"> <select class="joms-event-category joms-select" style="width:100%"></select> </div> </div> <div class=event-time-column> <span>'+((__t=(data.language.event.location))==null?'':__t)+' <span style="color:red">*</span></span> <input type=text class=joms-input name=location placeholder="'+((__t=(data.language.event.location_hint))==null?'':__t)+'"> </div> </div> <div style="clear:both"> <div class=event-time-column> <span>'+((__t=(data.language.event.start))==null?'':__t)+' <span style="color:red">*</span></span> <input type=text class="joms-input joms-pickadate-startdate" placeholder="'+((__t=(data.language.event.start_date_hint))==null?'':__t)+'" style="background-color:transparent;cursor:text"> <input type=text class="joms-input joms-pickadate-starttime" placeholder="'+((__t=(data.language.event.start_time_hint))==null?'':__t)+'" style="background-color:transparent;cursor:text"> <span class="event-all-day joms-event-allday" style="margin-left:0;visibility:hidden"> <span>All Day Event</span> <span style="position:relative"><i class=joms-icon-check-empty></i></span></span> </div> <div class=event-time-column> <span>'+((__t=(data.language.event.end))==null?'':__t)+' <span style="color:red">*</span></span> <input type=text class="joms-input joms-pickadate-enddate" placeholder="'+((__t=(data.language.event.end_date_hint))==null?'':__t)+'" style="background-color:transparent;cursor:text"> <input type=text class="joms-input joms-pickadate-endtime" placeholder="'+((__t=(data.language.event.end_time_hint))==null?'':__t)+'" style="background-color:transparent;cursor:text"> </div> </div> <nav class="joms-postbox-tab selected"> <div class="joms-postbox-action event-action"> <button class=joms-postbox-done>'+((__t=(data.language.event.done_button))==null?'':__t)+'</button> </div> </nav> </div>';return __p};this["joms"]["jst"]["html/dropdown/location-list"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}if(data&&data.items&&data.items.length)for(var i=0;i<data.items.length;i++){;__p+=' <li data-index="'+((__t=(i))==null?'':__t)+'"> <p style="margin:0">'+((__t=(data.items[i].name))==null?'':__t)+'</p> <span>'+((__t=(data.items[i].vicinity||data.language.geolocation.near_here))==null?'':__t)+'</span> </li> ';}else{;__p+=' <li><em>'+((__t=(data.language.geolocation.empty))==null?'':__t)+'</em></li> ';};return __p};this["joms"]["jst"]["html/dropdown/location"]=function(data){var __t,__p='',__e=_.escape;__p+='<div class="joms-postbox-dropdown location-dropdown"> <div class=joms-postbox-map></div> <div class="joms-postbox-action joms-location-action"> <button class=joms-add-location><i class=joms-icon-map-marker></i>'+((__t=(data.language.geolocation.select_button))==null?'':__t)+'</button> <button class=joms-remove-location><i class=joms-icon-remove></i>'+((__t=(data.language.geolocation.remove_button))==null?'':__t)+'</button> </div> <input class="joms-postbox-keyword joms-input" type=text> <ul class=joms-postbox-locations></ul> </div>';return __p};this["joms"]["jst"]["html/dropdown/mood"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}__p+='<div class="joms-postbox-dropdown mood-dropdown"> <ul class="joms-postbox-emoticon joms-list clearfix"> ';if(data&&data.items&&data.items.length)for(var i=0;i<data.items.length;i++){;__p+=' <li data-mood="'+((__t=(data.items[i][0]))==null?'':__t)+'"> ';if(typeof data.items[i][2]!=='undefined'){;__p+=' <div><img class=joms-emoticon src="'+((__t=(data.items[i][2]))==null?'':__t)+'"><span>'+((__t=(data.items[i][1]))==null?'':__t)+'</span></div> ';}else{;__p+=' <div><i class="joms-emoticon joms-emo-'+((__t=(data.items[i][0]))==null?'':__t)+'"></i><span>'+((__t=(data.items[i][1]))==null?'':__t)+'</span></div> ';};__p+=' </li> ';};__p+=' <li class=joms-remove-button>'+((__t=(data.language.status.remove_mood_button))==null?'':__t)+'</li> </ul> </div>';return __p};this["joms"]["jst"]["html/dropdown/privacy"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}__p+='<div class="joms-postbox-dropdown privacy-dropdown"> <ul class=joms-list> ';if(data&&data.items&&data.items.length)for(var i=0;i<data.items.length;i++){;__p+=' <li data-priv="'+((__t=(data.items[i][0]))==null?'':__t)+'"> <p class=reset-gap><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-'+((__t=(data.items[i][1]))==null?'':__t)+'"></use></svg> '+((__t=(data.items[i][2]))==null?'':__t)+'</p> <span>'+((__t=(data.items[i][3]))==null?'':__t)+'</span> </li> ';};__p+=' </ul> </div>';return __p};this["joms"]["jst"]["html/inputbox/eventdesc"]=function(data){var __t,__p='',__e=_.escape;__p+='<div style="position:relative"> <div class="joms-postbox-input joms-inputbox"> <div class=inputbox> <div style="position:relative" class="joms-textarea__wrapper"> <div style="position:relative"><span class=input></span></div> <textarea class="input joms-textarea" placeholder="'+((__t=(data&&data.placeholder||''))==null?'':__t)+'" style="min-height:1.4em"></textarea> </div> </div> </div> <div class="joms-icon joms-icon--emoticon" style="top:20px; right: 5px;"><div style="position:relative"><svg viewBox="0 0 16 16" onclick="joms.view.comment.showEmoticonBoard(this);"><use xlink:href="'+window.joms_current_url+'#joms-icon-smiley"></use></svg></div></div> <div class="charcount joms-postbox-charcount"></div> </div>';return __p};this["joms"]["jst"]["html/inputbox/eventtitle"]=function(data){var __t,__p='',__e=_.escape;__p+='<div style="position:relative"> <div class="joms-postbox-input joms-inputbox" style="padding:0; border-bottom:0; min-height:0"> <div class=inputbox> <div style="position:relative"> <div style="position:relative"><span class=input></span></div> <textarea class=input placeholder="'+((__t=(data&&data.placeholder||''))==null?'':__t)+'" style="min-height:1.4em"></textarea> </div> </div> </div> </div>';return __p};this["joms"]["jst"]["html/inputbox/photo"]=function(data){var __t,__p='',__e=_.escape;__p+='<div style="position:relative"> <div class="joms-postbox-input joms-inputbox"> <div class=inputbox> <div style="position:relative"> <div style="position:relative"><span class=input></span></div> <div class=joms-textarea__wrapper><textarea class="input input-photo-desc joms-textarea" placeholder="'+((__t=(data&&data.placeholder||''))==null?'':__t)+'" style="min-height:1.4em"></textarea></div> </div> </div> </div> <div class="joms-icon joms-icon--emoticon" style="top:20px; right: 5px;"><div style="position:relative"><svg viewBox="0 0 16 16" onclick="joms.view.comment.showEmoticonBoard(this);"><use xlink:href="'+window.joms_current_url+'#joms-icon-smiley"></use></svg></div></div> <div class="charcount joms-postbox-charcount"></div> </div>';return __p};this["joms"]["jst"]["html/inputbox/file"]=function(data){var __t,__p='',__e=_.escape;__p+='<div style="position:relative"> <div class="joms-postbox-input joms-inputbox"> <div class=inputbox> <div style="position:relative"> <div style="position:relative"><span class=input></span></div> <div class=joms-textarea__wrapper><textarea class="input input-photo-desc joms-textarea" placeholder="'+((__t=(data&&data.placeholder||''))==null?'':__t)+'" style="min-height:1.4em"></textarea></div> </div> </div> </div> <div class="joms-icon joms-icon--emoticon" style="top:20px; right: 5px;"><div style="position:relative"><svg viewBox="0 0 16 16" onclick="joms.view.comment.showEmoticonBoard(this);"><use xlink:href="'+window.joms_current_url+'#joms-icon-smiley"></use></svg></div></div> <div class="charcount joms-postbox-charcount"></div> </div>';return __p};this["joms"]["jst"]["html/inputbox/status"]=function(data){var __t,__p='',__e=_.escape;__p+='<div style="position:relative"> <div class="joms-postbox-input joms-inputbox"> <div class=inputbox> <div style="position:relative"> <div style="position:relative"><span class=input></span></div> <div class=joms-textarea__wrapper><textarea class="input input-status joms-textarea" placeholder="'+((__t=(data&&data.placeholder||''))==null?'':__t)+'" style="min-height:1.4em"></textarea></div></div></div> </div> <div class="joms-icon joms-icon--emoticon" style="top:20px; right: 5px;"><div style="position:relative"><svg viewBox="0 0 16 16" onclick="joms.view.comment.showEmoticonBoard(this);"><use xlink:href="'+window.joms_current_url+'#joms-icon-smiley"></use></svg></div></div> <div class="charcount joms-postbox-charcount"></div> </div>';return __p};this["joms"]["jst"]["html/inputbox/video"]=function(data){var __t,__p='',__e=_.escape;__p+='<div style="position:relative"> <div class="joms-postbox-input joms-inputbox"> <div class=inputbox> <div style="position:relative"> <div style="position:relative"><span class=input></span></div> <div class=joms-textarea__wrapper><textarea class="input joms-postbox-video-description joms-textarea" placeholder="'+((__t=(data&&data.placeholder||''))==null?'':__t)+'" style="min-height:1.4em"></textarea></div> </div> </div> </div> <div class="joms-icon joms-icon--emoticon" style="top:20px; right: 5px;"><div style="position:relative"><svg viewBox="0 0 16 16" onclick="joms.view.comment.showEmoticonBoard(this);"><use xlink:href="'+window.joms_current_url+'#joms-icon-smiley"></use></svg></div></div> <div class="charcount joms-postbox-charcount"></div> </div>';return __p};this["joms"]["jst"]["html/inputbox/videourl"]=function(data){var __t,__p='',__e=_.escape;__p+='<div style="position:relative"> <div class="joms-postbox-input joms-inputbox" style="padding:0; border-bottom:0; min-height:0"> <div class=inputbox> <div style="position:relative"> <div style="position:relative"><span class=input></span></div> <textarea class="input joms-postbox-video-url" placeholder="'+((__t=(data&&data.placeholder||''))==null?'':__t)+'" style="min-height:1.4em"></textarea> </div> </div> </div> </div>';return __p};this["joms"]["jst"]["html/postbox/custom"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}__p+='<div> <div class=joms-postbox-inner-panel> <div class=joms-postbox-double-panel> <ul class="joms-list clearfix"> <li class=joms-postbox-predefined-message><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-cog"></use></svg> '+((__t=(data.language.custom.predefined_button))==null?'':__t)+'</li> <li class=joms-postbox-custom-message><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-pencil"></use></svg> '+((__t=(data.language.custom.custom_button))==null?'':__t)+'</li> </ul> </div> </div> <div class=joms-postbox-custom> <div class=joms-postbox-custom-state-predefined> <div class=joms-postbox-inner-panel> <span>'+((__t=(data.language.custom.predefined_label))==null?'':__t)+'</span><br> <select name=predefined style="width: 100%"> ';if(data&&data.messages&&data.messages.length){;__p+=' ';for(var i=0;i<data.messages.length;i++){;__p+=' <option value="'+((__t=(data.messages[i][0]))==null?'':__t)+'">'+((__t=(data.messages[i][1]))==null?'':__t)+'</option> ';};__p+=' ';};__p+=' </select> </div> </div> <div class=joms-postbox-custom-state-custom> <div class=joms-postbox-inner-panel> <span>'+((__t=(data.language.custom.custom_label))==null?'':__t)+'</span><br> <textarea name=custom></textarea> </div> </div> <nav class="joms-postbox-tab selected"> <ul class="joms-list inline"> <li data-tab=privacy><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-earth"></use></svg> <span class=visible-desktop></span></li> </ul> <div class=joms-postbox-action> <button class=joms-postbox-cancel>'+((__t=(data.language.postbox.cancel_button))==null?'':__t)+'</button> <button class=joms-postbox-save>'+((__t=(data.language.postbox.post_button))==null?'':__t)+'</button> </div> <div class=joms-postbox-loading style="display:none;"> <img src="'+((__t=(data.juri.root))==null?'':__t)+'components/com_community/assets/ajax-loader.gif" alt="loader"> <div </nav> <div class="joms-postbox-dropdown privacy-dropdown"></div> </div> </div>';return __p};this["joms"]["jst"]["html/postbox/event"]=function(data){var __t,__p='',__e=_.escape;__p+='<div class=joms-postbox-event> <div class=joms-postbox-inner-panel> <div class=joms-postbox-title></div> <div class=joms-postbox-event-detail> <div class="joms-postbox-event-panel joms-postbox-event-label-category" style="display:none"> <div class=joms-postbox-event-title style="padding-bottom:0;padding-top:8px"> <div class=joms-input-field-name>'+((__t=(data.language.event.category))==null?'':__t)+'</div> <span class=joms-input-text style="display:inline-block"></span> </div> </div> <div class="joms-postbox-event-panel joms-postbox-event-label-location" style="display:none"> <div class=joms-postbox-event-title style="padding-bottom:0;padding-top:8px"> <div class=joms-input-field-name>'+((__t=(data.language.event.location))==null?'':__t)+'</div> <span class=joms-input-text style="display:inline-block"></span> </div> </div> <div class="joms-postbox-event-panel joms-postbox-event-label-date" style="display:none"> <div class=joms-postbox-event-title style="padding-bottom:0;padding-top:8px"> <div class=joms-input-field-name>'+((__t=(data.language.event.date_and_time))==null?'':__t)+'</div> <span class=joms-input-text style="display:inline-block"></span> </div> </div> </div> </div> <div class=joms-postbox-inputbox></div> <nav class="joms-postbox-tab selected"> <ul class="joms-list inline"> <li data-tab=event><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-cog"></use></svg> <span class=visible-desktop>'+((__t=(data.language.event.event_detail))==null?'':__t)+'</span></li> </ul> <div class=joms-postbox-action> <button class=joms-postbox-cancel>'+((__t=(data.language.postbox.cancel_button))==null?'':__t)+'</button> <button class=joms-postbox-save>'+((__t=(data.language.postbox.post_button))==null?'':__t)+'</button> </div> <div class=joms-postbox-loading style="display:none;"> <img src="'+((__t=(data.juri.root))==null?'':__t)+'components/com_community/assets/ajax-loader.gif" alt="loader"> <div </nav> </div>';return __p};this["joms"]["jst"]["html/postbox/fetcher-video"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}__p+='<div class=joms-fetched-wrapper> ';if(data.image){;__p+=' <div class=joms-fetched-images> <img src="'+((__t=(data.image))==null?'':__t)+'"> </div> ';};__p+=' <div class="joms-fetched-field joms-fetched-title"> <span style="font-weight:bold">'+((__t=(data.title||data.titlePlaceholder))==null?'':__t)+'</span> <input type=text class=joms-input value="'+((__t=__e(data.title||''))==null?'':__t)+'" style="display:none;margin:0"> </div> <div class="joms-fetched-field joms-fetched-description"> <span>'+((__t=(data.description||data.descPlaceholder))==null?'':__t)+'</span> <textarea class=joms-textarea style="display:none;margin:0">'+((__t=(data.description||''))==null?'':__t)+'</textarea> </div> <div class=clearfix></div> <span class=joms-fetched-close ><i class=joms-icon-remove></i>'+((__t=(data.lang.cancel))==null?'':__t)+'</span> <div style="padding-top:10px"> <div class="joms-fetched-category joms-select" style="padding:3px 0"></div> </div> </div>';return __p};this["joms"]["jst"]["html/postbox/fetcher"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}__p+='<div class=joms-postbox-inner-panel> <div style="position:relative"> <div class=joms-fetched-images> ';if(data.image&&data.image.length){;__p+=' <div style="height:120px"> ';for(var i=0;i<data.image.length;i++){;__p+=' <img src="'+((__t=(data.image[i]))==null?'':__t)+'" style="width:100%;height:100%;'+((__t=(i?'display:none':''))==null?'':__t)+'"> ';};__p+=' </div> ';if(data.image.length>1){;__p+=' <div class=joms-fetched-nav style="text-align:center"> <span class=joms-fetched-previmg style="cursor:pointer">&laquo; '+((__t=(data.lang.prev))==null?'':__t)+'</span> &nbsp;&nbsp; <span class=joms-fetched-nextimg style="cursor:pointer">'+((__t=(data.lang.next))==null?'':__t)+' &raquo;</span> </div> ';};__p+=' ';}else{;__p+=' <div style="height:120px;width:120px;background-color:#F9F9F9;color:7F8C8D;text-align:center;vertical"> &nbsp;<br>&nbsp;<br>no<br>thumbnail </div> ';};__p+=' </div> <div class="joms-fetched-field joms-fetched-title"> <span style="font-weight:bold">'+((__t=(data.title||data.titlePlaceholder))==null?'':__t)+'</span> <input type=text class=joms-input value="'+((__t=__e(data.title||''))==null?'':__t)+'" style="display:none;margin:0"> </div> <div class="joms-fetched-field joms-fetched-description"> <span>'+((__t=(data.description||data.descPlaceholder))==null?'':__t)+'</span> <textarea class=joms-textarea style="display:none;margin:0">'+((__t=(data.description||''))==null?'':__t)+'</textarea> </div> <div class=clearfix></div> <span class=joms-fetched-close style="top:0"><i class=joms-icon-remove></i>'+((__t=(data.lang.cancel))==null?'':__t)+'</span> </div> </div>';return __p};this["joms"]["jst"]["html/postbox/photo-item"]=function(data){var __t,__p='',__e=_.escape;__p+='<li id="'+((__t=(data.id))==null?'':__t)+'" class=joms-postbox-photo-item> <div class=img-wrapper> <img src="'+((__t=(data.src))==null?'':__t)+'" > </div> <div class=joms-postbox-photo-action style="display:none"> <span class=joms-postbox-photo-remove>Ã—</span> </div> <div class=joms-postbox-photo-progressbar> <div class=joms-postbox-photo-progress></div> </div> </li>';return __p};this["joms"]["jst"]["html/postbox/photo-preview"]=function(data){var __t,__p='',__e=_.escape;__p+='<div class=joms-postbox-photo-preview> <ul class="joms-list clearfix"></ul> <div class=joms-postbox-photo-form></div> </div>';return __p};this["joms"]["jst"]["html/postbox/photo"]=function(data){var __t,__p='',__e=_.escape;__p+='<div class="joms-postbox-photo-wrapper" style="position:relative;"> <div class="joms-postbox--droparea" id="joms-postbox-photo--droparea">'+data.language.photo.drop_to_upload+'</div> <div id=joms-postbox-photo-upload style="position:absolute;top:0;left:0;width:1px;height:1px;overflow:hidden"> <button id=joms-postbox-photo-upload-btn>Upload</button> </div> <div class=joms-postbox-inner-panel style="position:relative"> '+(data.allowgif?'<div class=joms-postbox-double-panel> <ul class="joms-list clearfix"> <li>':'')+'<div class=joms-postbox-photo-upload> <svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-images"></use></svg> '+((__t=(data.language.photo[data.allowgif?'upload_button_2':'upload_button']))==null?'':__t)+' </div> '+(data.allowgif?('</li> <li> <div class=joms-postbox-gif-upload> <svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-images"></use></svg> '+((__t=(data.language.photo.gif_upload_button))==null?'':__t)+' </div> </li> </ul> </div>'):'')+' </div> <div class=joms-postbox-photo> <div class=joms-postbox-preview></div> <div class=joms-postbox-inputbox></div> <nav class="joms-postbox-tab selected"> <ul class="joms-list inline"> <li data-tab=upload data-bypass=1><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-images"></use></svg> <span class=visible-desktop>'+((__t=(data.language.photo.upload_button_more))==null?'':__t)+'</span></li> <li data-tab=mood><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-happy"></use></svg> <span class=visible-desktop>'+((__t=(data.language.status.mood))==null?'':__t)+'</span></li> </ul> <div class=joms-postbox-action> <button class=joms-postbox-cancel>'+((__t=(data.language.postbox.cancel_button))==null?'':__t)+'</button> <button class=joms-postbox-save>'+((__t=(data.language.postbox.post_button))==null?'':__t)+'</button> </div> <div class=joms-postbox-loading style="display:none;"> <img src="'+((__t=(data.juri.root))==null?'':__t)+'components/com_community/assets/ajax-loader.gif" alt="loader"> </div> </nav> </div> </div>';return __p};this["joms"]["jst"]["html/postbox/status"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}__p+='<div class=joms-postbox-status> <div class=joms-postbox-fetched></div> <div class=joms-postbox-inputbox></div> <nav class="joms-postbox-tab selected"> <ul class="joms-list inline"> <li data-tab=mood><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-happy"></use></svg></li> <li data-tab=location><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-location"></use></svg></li> <li data-tab=privacy><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-earth"></use></svg> </li> ';if(data.enablephoto){;__p+=' <li data-tab=photo data-bypass=1><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-camera"></use></svg></li> ';};__p+=' ';if(data.enablevideo){;__p+=' <li data-tab=video data-bypass=1><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-play"></use></svg></li> ';};if(data.enablefile){;__p+=' <li data-tab=file data-bypass=1><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-file-zip"></use></svg></li> ';};__p+=' </ul> <div class=joms-postbox-action> <button class=joms-postbox-cancel>'+((__t=(data.language.postbox.cancel_button))==null?'':__t)+'</button> <button class=joms-postbox-save>'+((__t=(data.language.postbox.post_button))==null?'':__t)+'</button> </div> <div class=joms-postbox-loading style="display:none;"> <img src="'+((__t=(data.juri.root))==null?'':__t)+'components/com_community/assets/ajax-loader.gif" alt="loader"> <div> </nav> </div>';return __p};this["joms"]["jst"]["html/postbox/video-item"]=function(data){var __t,__p='',__e=_.escape;__p+='<li class=joms-postbox-photo-item> <img width=128 height=128 src="'+((__t=(data.src))==null?'':__t)+'"> <div class=joms-postbox-photo-action> <span class=joms-postbox-photo-setting><i class=joms-icon-cog></i></span> <span class=joms-postbox-photo-remove><i class=joms-icon-remove></i></span> </div> </li>';return __p};this["joms"]["jst"]["html/postbox/video"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}__p+='<div> <div id=joms-postbox-video-upload style="position:absolute;top:0;left:0;width:1px;height:1px;overflow:hidden"> <button id=joms-postbox-video-upload-btn>Upload</button> </div> ';if(data&&data.enable_upload){;__p+=' <div class="joms-postbox-inner-panel joms-initial-panel"> <div class=joms-postbox-double-panel> <ul class="joms-list clearfix"> <li class=joms-postbox-video-url data-action=share><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-link"></use></svg> '+((__t=(data.language.video.share_button))==null?'':__t)+'</li> <li class=joms-postbox-video-upload data-action=upload><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-box-add"></use></svg> '+((__t=(data.language.video.upload_button))==null?'':__t)+' ';if(data&&data.video_maxsize>0){;__p+=' <span>'+((__t=(data.language.video.upload_maxsize))==null?'':__t)+' '+((__t=(data.video_maxsize))==null?'':__t)+'mb</span> ';};__p+=' </li> </ul> </div> </div> ';};__p+=' <div class=joms-postbox-video> <div class=joms-postbox-video-state-url style="display:none"> <div class=joms-postbox-inner-panel> <div class=joms-postbox-url></div> <div class=joms-postbox-fetched></div> </div> </div> ';if(data&&data.enable_upload){;__p+=' <div class=joms-postbox-video-state-upload style="display:none"> <div class=joms-postbox-inner-panel> <div class=joms-postbox-url></div> <div style="padding-top: 3px;"> <div class=joms-postbox-photo-progressbar style="position:relative;top:auto;bottom:auto;left:auto;right:auto;background-color:#eee;"> <div class=joms-postbox-photo-progress style="width:0"></div> </div> </div> <div style="padding-top: 10px;"> <div class="joms-fetched-category joms-select" style="padding:3px 0"></div> </div> </div> <div class=joms-postbox-inner-panel> <div class=inputbox> <input class=input placeholder="'+((__t=(data.language.video.upload_title))==null?'':__t)+'" /> </div> </div> </div> ';};__p+=' <div class=joms-postbox-inputbox></div> <nav class="joms-postbox-tab selected"> <ul class="joms-list inline"> <li data-tab=mood><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-happy"></use></svg> <span class=visible-desktop>'+((__t=(data.language.status.mood))==null?'':__t)+'</span></li> <li data-tab=location><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-location"></use></svg> <span class=visible-desktop>'+((__t=(data.language.video.location))==null?'':__t)+'</span></li> <li data-tab=privacy><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-earth"></use></svg> <span class=visible-desktop></span></li> </ul> <div class=joms-postbox-action> <button class=joms-postbox-cancel>'+((__t=(data.language.postbox.cancel_button))==null?'':__t)+'</button> <button class=joms-postbox-save>'+((__t=(data.language.postbox.post_button))==null?'':__t)+'</button> </div> <div class=joms-postbox-loading style="display:none;"> <img src="'+((__t=(data.juri.root))==null?'':__t)+'components/com_community/assets/ajax-loader.gif" alt="loader"> <div> </nav> </div> </div>';return __p};this["joms"]["jst"]["html/widget/select-album"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}__p+='<span>'+((__t=(data.placeholder||''))==null?'':__t)+'</span> <ul class=joms-list style="display:none;"> ';if(data.options&&data.options.length)for(var i=0;i<data.options.length;i++){;__p+=' <li data-value="'+((__t=(data.options[i][0]))==null?'':__t)+'"> <p style="margin:0">'+((__t=(data.options[i]&&data.options[i][1]||'-'))==null?'':__t)+'</p> <small><i class="joms-icon-'+((__t=(data.options[i]&&data.options[i][3]?''+data.options[i][3]:'globe'))==null?'':__t)+'"></i> '+((__t=(data.options[i]&&data.options[i][2]?''+data.options[i][2]:'-'))==null?'':__t)+'</small> </li> ';};__p+=' </ul><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-arrow-down"></use></svg>';return __p};this["joms"]["jst"]["html/widget/select-form"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}__p+='<span>'+((__t=(data.placeholder||''))==null?'':__t)+'</span> <ul class=joms-list style="display:none;"> ';if(data.options&&data.options.length)for(var i=0;i<data.options.length;i++){;__p+=' <li data-value="'+((__t=(data.options[i][0]))==null?'':__t)+'">'+((__t=(data.options[i][1]))==null?'':__t)+'</li> ';};__p+=' </ul> <div>abc</div>';return __p};this["joms"]["jst"]["html/widget/select"]=function(data){var __t,__p='',__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}__p+='<span>'+((__t=(data.placeholder||''))==null?'':__t)+'</span> <ul class=joms-list style="display:none;"> ';if(data.options&&data.options.length)for(var i=0;i<data.options.length;i++){;__p+=' <li data-value="'+((__t=(data.options[i][0]))==null?'':__t)+'">'+((__t=(data.options[i][1]))==null?'':__t)+'</li> ';};__p+=' </ul><svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="'+(window.joms_current_url||'')+'#joms-icon-arrow-down"></use></svg>';return __p};joms||(joms={});joms.map={queue:[],execute:function(callback){if(window.google&&window.google.maps&&window.google.maps.places){callback();return;}
if(joms.map.loading){joms.map.queue.push(callback);return;}
joms.map.loading=true;joms.map.queue.push(callback);joms.map.loadScript();},loadScript:function(){var script=document.createElement('script');script.type='text/javascript';script.src='https://maps.googleapis.com/maps/api/js?libraries=places'+(window.joms_gmap_key?('&key='+window.joms_gmap_key):'')+'&callback=joms.map.loadScriptCallback';document.body.appendChild(script);},loadScriptCallback:function(){if(joms.map.queue&&joms.map.queue.length)
while(joms.map.queue.length)
(joms.map.queue.shift())();joms.map.loading=false;}};(function(){var requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;function hasProp(obj,prop){return hasOwn.call(obj,prop);}
function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=(map&&map['*'])||{};if(name&&name.charAt(0)==="."){if(baseName){baseParts=baseParts.slice(0,baseParts.length-1);name=name.split('/');lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,'');}
name=baseParts.concat(name);for(i=0;i<name.length;i+=1){part=name[i];if(part==="."){name.splice(i,1);i-=1;}else if(part===".."){if(i===1&&(name[2]==='..'||name[0]==='..')){break;}else if(i>0){name.splice(i-1,2);i-=2;}}}
name=name.join("/");}else if(name.indexOf('./')===0){name=name.substring(2);}}
if((baseParts||starMap)&&map){nameParts=name.split('/');for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join('/')];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break;}}}}
if(foundMap){break;}
if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i;}}
if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI;}
if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join('/');}}
return name;}
function makeRequire(relName,forceSync){return function(){return req.apply(undef,aps.call(arguments,0).concat([relName,forceSync]));};}
function makeNormalize(relName){return function(name){return normalize(name,relName);};}
function makeLoad(depName){return function(value){defined[depName]=value;};}
function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args);}
if(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error('No '+name);}
return defined[name];}
function splitPrefix(name){var prefix,index=name?name.indexOf('!'):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length);}
return[prefix,name];}
makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];name=parts[1];if(prefix){prefix=normalize(prefix,relName);plugin=callDep(prefix);}
if(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relName));}else{name=normalize(name,relName);}}else{name=normalize(name,relName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix);}}
return{f:prefix?prefix+'!'+name:name,n:name,pr:prefix,p:plugin};};function makeConfig(name){return function(){return(config&&config.config&&config.config[name])||{};};}
handlers={require:function(name){return makeRequire(name);},exports:function(name){var e=defined[name];if(typeof e!=='undefined'){return e;}else{return(defined[name]={});}},module:function(name){return{id:name,uri:'',exports:defined[name],config:makeConfig(name)};}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,args=[],callbackType=typeof callback,usingExports;relName=relName||name;if(callbackType==='undefined'||callbackType==='function'){deps=!deps.length&&callback.length?['require','exports','module']:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relName);depName=map.f;if(depName==="require"){args[i]=handlers.require(name);}else if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true;}else if(depName==="module"){cjsModule=args[i]=handlers.module(name);}else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName);}else if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName];}else{throw new Error(name+' missing '+depName);}}
ret=callback?callback.apply(defined[name],args):undefined;if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports;}else if(ret!==undef||!usingExports){defined[name]=ret;}}}else if(name){defined[name]=callback;}};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback);}
return callDep(makeMap(deps,callback).f);}else if(!deps.splice){config=deps;if(config.deps){req(config.deps,config.callback);}
if(!callback){return;}
if(callback.splice){deps=callback;callback=relName;relName=null;}else{deps=undef;}}
callback=callback||function(){};if(typeof relName==='function'){relName=forceSync;forceSync=alt;}
if(forceSync){main(undef,deps,callback,relName);}else{setTimeout(function(){main(undef,deps,callback,relName);},4);}
return req;};req.config=function(cfg){return req(cfg);};requirejs._defined=defined;define=function(name,deps,callback){if(!deps.splice){callback=deps;deps=[];}
if(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback];}};define.amd={jQuery:true};}());define("libs/almond",function(){});define('sandbox',[],function(){var jqr=window.joms.jQuery,und=window.joms._,bbe=window.joms.Backbone;function Sandbox(selector,context){return jqr(selector,context);}
bbe.$=jqr;und.pick(und,['each','map','filter','union','intersection','without','bind','debounce','defer','keys','extend','pick','omit','isArray','isNumber','isString','isUndefined','uniqueId']);und.extend(Sandbox,bbe.Events,und,{mvc:{Model:bbe.Model,Models:bbe.Collection,View:bbe.View},ajax:jqr.ajax,param:jqr.param,noop:function(){}});Sandbox.__extend=Sandbox.extend;Sandbox._$extend=jqr.extend;Sandbox.extend=function(){var isDeep=arguments[0]===true;return Sandbox[isDeep?'_$extend':'__extend'].apply(null,arguments);};Sandbox.ua=navigator.userAgent;var ua=Sandbox.ua.toLowerCase();Sandbox.mobile=!!ua.match(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i);Sandbox.webkit=!!ua.match(/webkit/i);Sandbox.ie=!!ua.match(/msie/i);Sandbox.ieVersion=Sandbox.ie&&+(ua.match(/msie (\d+)\./i)[1]);Sandbox.xpriment=!Sandbox.ie&&1;Sandbox(document.body).on('click',function(e){Sandbox.trigger('click',Sandbox(e.target));});return Sandbox;});define('views/base',['sandbox'],function($){return $.mvc.View.extend({assign:function(element,view){if(!$.isArray(element)){element=[[element,view]];}
$.each(element,function(item){item[1].setElement(item[0]).render();});},show:function(){if(this.isHidden()){this.$el.show();this.trigger('show');}},hide:function(){if(!this.isHidden()){this.$el.hide();this.trigger('hide');}},toggle:function(){this.isHidden()?this.show():this.hide();},isHidden:function(){return this.el.style.display==='none';}});});define('app',[],function(){var staticUrl;staticUrl=window.joms_script_url||'';staticUrl=staticUrl.replace(/js\/$/,'');return{staticUrl:staticUrl,legacyUrl:staticUrl+'../../'};});define('utils/ajax',['sandbox'],function($){var defaults={type:'post',data:{},dataType:'json',error:$.noop,success:$.noop,complete:$.noop};function ajax(options){options=$.extend({},defaults,options||{});options.url=window.jax_live_site;options.data=encodeData(options.fn,options.data);return $.ajax(options);}
function encodeData(fn,data){var params={};params.option='community';params.view=window.joms_page||undefined;params.task='azrul_ajax';params.func=fn;params.no_html=1;params[window.jax_token_var]=1;$.isArray(data)||(data=[]);for(var i=0,arg;i<data.length;i++){arg=data[i];$.isString(arg)&&(arg=arg.replace(/"/g,'&quot;'));$.isArray(arg)||(arg=['_d_',arg]);params['arg'+(i+2)]=JSON.stringify(arg);}
return params;}
return ajax;});define('utils/constants',['sandbox'],function($){var constants={};function get(key){if(typeof key!=='string'||!key.length)
return;if(joms&&joms.constants){$.extend(true,constants,joms&&joms.constants);delete joms.constants;}
var data=constants;key=key.split('.');while(key.length){data=data[key.shift()];}
return data;}
function set(key,value){var data,keys,length;if(typeof key!=='string'||!key.length)
return;data=constants;keys=key.split('.');length=key.length;while(keys.length-1){key=keys.shift();data[key]||(data[key]={});data=data[key];}
data[key]=value;}
return{get:get,set:set};});define('views/postbox/default',['sandbox','app','views/base','utils/ajax','utils/constants'],function($,App,BaseView,ajax,constants){return BaseView.extend({subviews:{},template:function(){throw new Error('Method not implemented.');},events:{'click li[data-tab]':'onToggleDropdown','click button.joms-postbox-cancel':'onCancel','click button.joms-postbox-save':'onPost','click .joms-postbox-input':'inputFocus'},initialize:function(options){if(options&&options.single)
this.single=true;this.subflags={};this.reset();},render:function(){var div=this.getTemplate();this.$el.replaceWith(div);this.setElement(div);this.$tabs=this.$('.joms-postbox-tab');this.$action=this.$('.joms-postbox-action').hide();this.$loading=this.$('.joms-postbox-loading').hide();this.$save=this.$('.joms-postbox-save').hide();return this;},show:function(){this.showInitialState();BaseView.prototype.show.apply(this);},showInitialState:function(){this.reset();this.$tabs.hide();this.$action.hide();this.$save.hide();this.trigger('show:initial');},showMainState:function(){this.$tabs.show();this.$action.show();this.trigger('show:main');},reset:function(){this.data={};this.data.text='';this.data.attachment={};for(var prop in this.subflags){this.subviews[prop].reset();this.subviews[prop].hide();}},value:function(noEncode){var attachment=$.extend({},this.getStaticAttachment(),this.data.attachment);return[this.data.text,noEncode?attachment:JSON.stringify(attachment)];},inputFocus:function(e){this.$(e.currentTarget).find('.joms-textarea__wrapper').find('textarea.joms-textarea').focus();this.inputbox.trigger('focus');},validate:$.noop,onToggleDropdown:function(e){var elem=$(e.currentTarget);if(elem.data('bypass'))
return;var type=elem.data('tab');if(!this.subviews[type])
return;if(!this.subflags[type])
this.initSubview(type);if(!this.subviews[type].isHidden()){this.subviews[type].hide();return;}
for(var prop in this.subflags)
if(prop!==type)
this.subviews[prop].hide();this.subviews[type].show();},onCancel:function(){if(App.postbox&&App.postbox.value)
App.postbox.value=false;if(!this.saving)
this.showInitialState();},onPost:function(){if(this.saving)
return;var error=this.validate();if(error){window.alert(error);return;}
this.saving=true;this.$loading.show();var that=this;var data=this.value();if(window.joms_filter_params){data.push(JSON.stringify(window.joms_filter_params));}
window.joms_postbox_posting=true;var self=this;ajax({fn:'system,ajaxStreamAdd',data:data,success:$.bind(this.onPostSuccess,this),complete:function(){window.joms_postbox_posting=false;that.$loading.hide();that.saving=false;that.showInitialState();if(+window.joms_infinitescroll){$('.joms-stream__loadmore').find('a').hide()}
self.initVideoPlayers();}});},initVideoPlayers:function(){var initialized='.joms-js--initialized',cssVideos='.joms-js--video',videos=$('.joms-comment__body,.joms-js--inbox').find(cssVideos).not(initialized).addClass(initialized.substr(1));if(!videos.length){return;}
joms.loadCSS(joms.ASSETS_URL+'vendors/mediaelement/mediaelementplayer.min.css');videos.on('click.joms-video',cssVideos+'-play',function(){var $el=$(this).closest(cssVideos);joms.util.video.play($el,$el.data());});},onPostSuccess:function(response){var html=this.parseResponse(response),stream;if(html){stream=$('.joms-stream__wrapper').first();stream.html(html);$.trigger('postbox:status');if(window.joms&&joms.view&&joms.view.streams){joms.view.streams.start();joms.view.misc.fixSVG();}}},initSubview:function(type,options){var Type=type.replace(/^./,function(chr){return chr.toUpperCase();});if(!this.subflags[type]){this.subviews[type]=new this.subviews[type](options);this.assign(this.getSubviewElement(),this.subviews[type]);this.listenTo(this.subviews[type],'init',this['on'+Type+'Init']);this.listenTo(this.subviews[type],'show',this['on'+Type+'Show']);this.listenTo(this.subviews[type],'hide',this['on'+Type+'Hide']);this.listenTo(this.subviews[type],'select',this['on'+Type+'Select']);this.listenTo(this.subviews[type],'remove',this['on'+Type+'Remove']);this.subflags[type]=true;}},getSubviewElement:function(){var div=$('<div>').hide().appendTo(this.$el);return div;},parseResponse:function(response){var elid='activity-stream-container',data,temp;if(response.html){return response.html;}
if(response&&response.length){for(var i=0;i<response.length;i++){if(response[i][1]==='__throwError'){temp=response[i][3];window.alert($.isArray(temp)?temp.join('. '):temp);}
if(!data&&(response[i][1]===elid)){data=response[i][3];}}}
return data;},getTemplate:function(){var html=this.template({juri:constants.get('juri')});return $(html).hide();},getStaticAttachment:function(){if(this.staticAttachment)
return this.staticAttachment;this.staticAttachment=$.extend({},constants.get('postbox.attachment')||{},{type:''});return this.staticAttachment;}});});define('utils/image',[],function(){function Preloader(images,callback){this.images=[];this.loaded=[];this.processed=0;this.callback=callback;if(!images||!images.length){images=[];}
var rUrl=/^(http:|https:)?\/\/([a-z0-9-]+\.)+[a-z]{2,18}\/.*$/i;for(var i=0;i<images.length;i++){if(images[i].match(rUrl))
this.images.push(images[i]);}}
Preloader.prototype.load=function(){if(!this.images||!this.images.length){this.callback([]);return;}
for(var i=0,img;i<this.images.length;i++){img=new Image();img.onload=this.onload;img.onerror=this.onerror;img.onabort=this.onabort;img.preloader=this;img.src=img._src=this.images[i];}};Preloader.prototype.onload=function(){this.preloader.loaded.push(this._src);this.preloader.oncomplete();};Preloader.prototype.onerror=function(){this.preloader.oncomplete();};Preloader.prototype.onabort=function(){this.preloader.oncomplete();};Preloader.prototype.oncomplete=function(){var i,images=[];this.processed++;if(this.processed>=this.images.length){for(i=0;i<this.images.length;i++)
if(this.loaded.indexOf(this.images[i])>-1)
images.push(this.images[i]);this.callback(images);}};function preload(images,callback){var pre=new Preloader(images,callback);pre.load();}
return{preload:preload};});define('utils/language',['sandbox'],function($){var language={};function get(key){if(typeof key!=='string'||!key.length)
return;if(joms&&joms.language){$.extend(true,language,joms&&joms.language);delete joms.language;}
var data=language;key=key.split('.');while(key.length){data=data[key.shift()];}
return data;}
return{get:get};});define('views/postbox/fetcher',['sandbox','views/base','utils/ajax','utils/image','utils/language'],function($,BaseView,ajax,image,language){return BaseView.extend({template:joms.jst['html/postbox/fetcher'],events:{'click .joms-fetched-close':'onClose','click .joms-fetched-field span':'onFocus','keyup .joms-fetched-field input':'onKeyup','keyup .joms-fetched-field textarea':'onKeyup','blur .joms-fetched-field input':'onBlur','blur .joms-fetched-field textarea':'onBlur','click .joms-fetched-previmg':'prevImage','click .joms-fetched-nextimg':'nextImage'},initialize:function(){var lang=language.get('fetch')||{};this.titlePlaceholder=lang.title_hint||'';this.descPlaceholder=lang.description_hint||'';},fetch:function(text){var rUrl=/^(|.*\s)((https?:\/\/|www\.)([a-z0-9-]+\.)+[a-z]{2,18}(:\d+)?(\/.*)?)(\s.*|)$/i,isFetchable=text.match(rUrl);if(this.fetching||!isFetchable)
return;text=isFetchable[2];this.fetching=true;this.fetched=false;delete this.url;this.trigger('fetch:start');ajax({fn:'system,ajaxGetFetchUrl',data:[text],success:$.bind(this.render,this),complete:$.noop});},render:function(json){json||(json={});this.fetched=true;this.url=json.url||'';var data={title:json.title||'',titlePlaceholder:this.titlePlaceholder,description:json.description||'',descPlaceholder:this.descPlaceholder,image:(json.image||[]).concat(json['og:image']||[]),lang:{prev:(language.get('prev')||'').toLowerCase(),next:(language.get('next')||'').toLowerCase(),cancel:(language.get('cancel')||'').toLowerCase()}};if(!this.url.match(/^https?:\/\//i))
this.url='http://'+this.url;for(var i=0;i<data.image.length;i++)
if(!data.image[i].match(/^(http:|https:)?\/\//i))
data.image[i]='//'+data.image[i];image.preload(data.image,$.bind(function(images){data.image=images;this.$el.html(this.template(data));this.$images=this.$('.joms-fetched-images').find('img');this.$title=this.$('.joms-fetched-title').find('input');this.$description=this.$('.joms-fetched-description').find('textarea');this.fetching=false;this.trigger('fetch:done');},this));},change:function(el){var input=$(el),span=input.prev('span'),val=input.val().replace(/^\s+|\s+$/g,'');if(!val){val=input.parent().hasClass('joms-fetched-title')?this.titlePlaceholder:this.descPlaceholder;}
input.hide();span.text(val).show();},remove:function(){delete this.url;BaseView.prototype.remove.apply(this);this.trigger('remove');},prevImage:function(){var currImg=this.$images.filter(':visible'),prevImg=currImg.prev();if(prevImg.length){currImg.hide();prevImg.show();}},nextImage:function(){var currImg=this.$images.filter(':visible'),nextImg=currImg.next();if(nextImg.length){currImg.hide();nextImg.show();}},value:function(){if(this.fetching||!this.url)
return;return[this.url,this.$images&&this.$images.filter(':visible').attr('src'),this.$title&&this.escapeValue(this.$title.val()),this.$description&&this.escapeValue(this.$description.val())];},onClose:function(){this.remove();},onFocus:function(e){var span=$(e.currentTarget),input=span.next('input,textarea');span.hide();input.show();setTimeout(function(){input[0].focus();},300);},onKeyup:function(e){if(e.keyCode===13){this.change(e.currentTarget);}},onBlur:function(e){this.change(e.currentTarget);},parseResponse:function(resp){resp=resp&&resp[2]&&resp[2][3]&&resp[2][3][0]||false;if(!resp)
return;var json;try{json=JSON.parse(resp);}catch(e){}
return json;},escapeValue:function(value){if(typeof value!=='string')
return value;return value.replace(/\\/g,'&#92;').replace(/\t/g,'\\t').replace(/\n/g,'\\n').replace(/&quot;/g,'"');}});});define('views/inputbox/base',['sandbox','views/base','utils/constants'],function($,BaseView,constants){return BaseView.extend({events:{'focus textarea':'onFocus','keydown textarea':'onKeydownProxy','input textarea':'onInput','paste textarea':'onPaste','blur textarea':'onBlur'},initialize:function(options){if(!$.mobile){this.onInput=this.onKeydown;this.onKeydownProxy=this.onKeydown;this.updateCharCounterProxy=this.updateCharCounter;}
options||(options={});this.flags={};this.flags.attachment=options.attachment;this.flags.charcount=options.charcount;this.listenTo($,'postbox:tab:change',this.reset);},render:function(){this.$mirror=this.$('span.input');this.$textarea=this.$('textarea.input');this.placeholder=this.$textarea.attr('placeholder');if(this.flags.attachment)
this.$attachment=$('<span class=attachment>').insertAfter(this.$mirror);this.reset();},set:function(value){this.$textarea.val(value);this.flags.attachment&&this.updateAttachment();this.flags.charcount&&this.updateCharCounterProxy();this.onKeydownProxy();},reset:function(){this.$textarea.val('');this.flags.attachment&&this.updateAttachment();this.flags.charcount&&this.updateCharCounterProxy();this.onKeydownProxy();},value:function(){var el=this.$textarea[0],value=el.joms_hidden?el.joms_hidden.val():el.value;return value.replace(/\t/g,'\\t').replace(/%/g,'%25');},onFocus:function(){this.trigger('focus');},onKeydown:function(e){if(typeof this.maxchar==='undefined')
this.maxchar=+constants.get('conf.statusmaxchar')||0;var value=this.value();if(value.length>=this.maxchar){if(this.isPrintable(e)){e.preventDefault();return;}}
var that=this;$.defer(function(){that.updateInput(e);});},onKeydownProxy:$.debounce(function(e){this.onKeydown(e);},10),onInput:function(){this.onKeydownProxy();},onPaste:function(){var that=this;this.onKeydownProxy(function(){that.trigger('paste',that.$textarea[0].value,13);});},onBlur:function(){this.trigger('blur',this.$textarea[0].value,13);},updateInput:function(e){var keyCode=e&&e.keyCode||false,textarea=this.$textarea[0],value=textarea.value,isEmpty=value.replace(/^\s+|\s+$/g,'')==='';if(isEmpty)
textarea.value=value='';if(typeof this.maxchar==='undefined')
this.maxchar=+constants.get('conf.statusmaxchar')||0;if(value.length>this.maxchar){textarea.value=value=value.substr(0,this.maxchar);}
this.$mirror.html(this.normalize(value)+'.');this.$textarea.css('height',this.$mirror.height());this.flags.charcount&&this.updateCharCounterProxy();this.trigger('keydown',value,keyCode);if(typeof e==='function')
e();},updateAttachment:$.noop,updateCharCounterProxy:$.debounce(function(){this.updateCharCounter();},300),updateCharCounter:function(){if(typeof this.maxchar==='undefined')
this.maxchar=+constants.get('conf.statusmaxchar')||0;if(!this.$charcount)
this.$charcount=this.$('.charcount');if(!this.maxchar||this.maxchar<=0){this.$charcount.hide();return;}
this.$charcount.html(this.maxchar-this.$textarea[0].value.length).show();},isPrintable:function(e){if(!e)return false;if((e.crtlKey||e.metaKey)&&!e.altKey&&!e.shiftKey)return false;var code=e&&e.keyCode;var printable=(code===13)||(code===32)||(code>47&&code<58)||(code>64&&code<91)||(code>95&&code<112)||(code>185&&code<193)||(code>218&&code<223);return printable;},normalize:function(text){return text.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br>');},resetTextntags:function(textarea,value){try{textarea=$(textarea);textarea.removeData('joms-tagging');textarea.val(value).jomsTagging();textarea.data('joms-tagging').initialize();}catch(e){}}});});define('views/inputbox/status',['sandbox','views/inputbox/base','utils/constants','utils/language'],function($,InputboxView,constants,language){return InputboxView.extend({template:joms.jst['html/inputbox/status'],initialize:function(){var hash,item,id,i;InputboxView.prototype.initialize.apply(this,arguments);this.moods=constants.get('moods');hash={};if(this.moods&&this.moods.length){for(i=0;i<this.moods.length;i++){id=this.moods[i].id;item=[id,this.moods[i].description];if(this.moods[i].custom){item[2]=this.moods[i].image;}
hash[id]=item;}}
this.moods=hash;},render:function(){var div=this.getTemplate();this.$el.replaceWith(div);this.setElement(div);InputboxView.prototype.render.apply(this,arguments);},set:function(value){this.resetTextntags(this.$textarea,value);this.flags.attachment&&this.updateAttachment(false,false);this.flags.charcount&&this.updateCharCounterProxy();this.onKeydownProxy();},reset:function(){this.resetTextntags(this.$textarea,'');this.flags.attachment&&this.updateAttachment(false,false);this.flags.charcount&&this.updateCharCounterProxy();this.onKeydownProxy();},value:function(){var el=this.$textarea[0],value=el.joms_hidden?el.joms_hidden.val():el.value;return value.replace(/\t/g,'\\t').replace(/%/g,'%25');},updateInput:function(){InputboxView.prototype.updateInput.apply(this,arguments);},updateAttachment:function(mood,location){var attachment=[];this.mood=mood||mood===false?mood:this.mood;this.location=location||location===false?location:this.location;if(this.location&&this.location.name){attachment.push('<b>'+language.get('at')+' '+this.location.name+'</b>');}
if(this.mood&&this.moods[this.mood]){if(typeof this.moods[this.mood][2]!=='undefined'){attachment.push('<img class="joms-emoticon" src="'+this.moods[this.mood][2]+'"> '+'<b>'+this.moods[this.mood][1]+'</b>');}else{attachment.push('<i class="joms-emoticon joms-emo-'+this.mood+'"></i> '+'<b>'+this.moods[this.mood][1]+'</b>');}}
if(!attachment.length){this.$attachment.html('');this.$textarea.attr('placeholder',this.placeholder);return;}
this.$attachment.html(' &nbsp;&mdash; '+attachment.join(' '+language.get('and')+' ')+'.');this.$textarea.removeAttr('placeholder');},getTemplate:function(){var hint=language.get('status.status_hint')||'',html=this.template({placeholder:hint});return $(html);}});});define('views/dropdown/base',['sandbox','views/base'],function($,BaseView){return BaseView.extend({initialize:function(){this.listenTo($,'click',this._onDocumentClick);},_onDocumentClick:function(elem){if(!elem.closest('.joms-postbox').length)
this.hide();}});});define('views/dropdown/mood',['sandbox','views/dropdown/base','utils/constants','utils/language'],function($,BaseView,constants,language){return BaseView.extend({template:joms.jst['html/dropdown/mood'],events:{'click li':'onSelect','click .joms-remove-button':'onRemove'},render:function(){var items,hash,id,item,html,div,i;this.moods=constants.get('moods');items=[];hash={};if(this.moods&&this.moods.length){for(i=0;i<this.moods.length;i++){id=this.moods[i].id;item=[id,this.moods[i].title];if(this.moods[i].custom){item[2]=this.moods[i].image;}
items.push(item);hash[id]=item;}}
this.moods=hash;html=this.template({items:items,language:{status:language.get('status')||{}}});div=$(html).hide();this.$el.replaceWith(div);this.setElement(div);this.$btnremove=this.$('.joms-remove-button').hide();return this;},select:function(mood){if(this.moods[mood]){this.$btnremove.show();this.trigger('select',this.mood=mood);}},value:function(){return this.mood;},reset:function(){this.mood=false;this.$btnremove.hide();this.trigger('reset');},onSelect:function(e){var item=$(e.currentTarget),mood=item.attr('data-mood');this.select(mood);this.hide();},onRemove:function(){this.mood=false;this.$btnremove.hide();this.trigger('remove');}});});define('views/dropdown/location',['sandbox','views/dropdown/base','utils/language'],function($,BaseView,language){var langs=language.get('geolocation')||{};return BaseView.extend({template:{div:joms.jst['html/dropdown/location'],list:joms.jst['html/dropdown/location-list']},placeholders:{loading:langs.loading||'',loaded:langs.loaded||'',error:langs.error||''},initialize:function(){BaseView.prototype.initialize.apply(this);this.location=false;this.locations={};this.nearbyLocations=false;this.listenTo($,'postbox:tab:change',this.onRemove);},events:{'keyup input.joms-postbox-keyword':'onKeyup','click li':'onSelect','click button.joms-add-location':'onAdd','click button.joms-remove-location':'onRemove'},render:function(){this.$el.html(this.getTemplate());this.$keyword=this.$('.joms-postbox-keyword');this.$list=this.$('.joms-postbox-locations');this.$map=this.$('.joms-postbox-map');this.$btnadd=this.$('.joms-add-location').hide();this.$btnremove=this.$('.joms-remove-location').hide();this.$keyword.attr('placeholder',this.placeholders.loading);var that=this;this.getService(function(){that.setInitialLocation=true;that.searchLocation();});return this;},show:function(){this.$el.show();this.trigger('show');},hide:function(){this.$el.hide();this.trigger('hide');},toggle:function(){var hidden=this.el.style.display==='none';hidden?this.show():this.hide();},filter:function(e){return;var keyword=this.$keyword.val().replace(/^\s+|\s+$/,''),filtered=this.locations;if(e&&keyword){this.searchLocation(keyword);return;}
if(keyword.length){keyword=new RegExp(keyword,'i');filtered=[];for(var i=0,item;i<this.locations.length;i++){item=this.locations[i];item=[item.name,item.vicinity].join(' ');if(item.match(keyword))
filtered.push(this.locations[i]);}}
this.draw(filtered);},draw:function(items){var html=this.template.list({language:{geolocation:language.get('geolocation')},items:items});this.filtered=items;this.$list.html(html).css({height:'160px',overflowY:'auto'});if(this.setInitialLocation){this.setInitialLocation=false;this.select(0);}},select:function(index){var data=this.filtered[index];if(data){this.location=data;this.$map.show();this.$keyword.val(data.name);this.map&&this.marker&&this.marker.setMap(this.map);this.showMap(data.latitude,data.longitude);this.$btnadd.show();this.$btnremove.hide();}},value:function(){var data=[];if(this.location){data.push(this.location.name);data.push(this.location.latitude);data.push(this.location.longitude);return data;}
return false;},reset:function(){this.location=false;this.marker&&this.marker.setMap(null);this.$keyword.val('');this.$btnadd.hide();this.$btnremove.hide();this.trigger('reset');},onKeyup:$.debounce(function(){this.service&&this.searchLocation();},300),onSelect:function(e){var el=$(e.currentTarget),index=el.attr('data-index');this.select(+index);},onAdd:function(){if(this.location){this.trigger('select',this.location);this.$btnadd.hide();this.$btnremove.show();this.hide();}},onRemove:function(){this.reset();this.trigger('remove');this.hide();this.filter();},initMap:function(lat,lng){var el=$('<div>').prependTo(this.$map);el.css('height',110);var options={center:new google.maps.LatLng(1,1),zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAD,mapTypeControl:false,disableDefaultUI:true,draggable:false,scaleControl:false,scrollwheel:false,navigationControl:false,streetViewControl:false,disableDoubleClickZoom:true};this.map=new google.maps.Map(el[0],options);this.marker=new google.maps.Marker({draggable:false,map:this.map});this.marker.setAnimation(null);},showMap:function(lat,lng){var position=new google.maps.LatLng(lat,lng);this.marker.setPosition(position);this.map.panTo(position);},getService:function(callback){var that;if(typeof callback!=='function'){callback=function(){};}
if(this.service){callback.call(this,this.service);}else{that=this;joms.map.execute(function(){that.initMap();that.service=new google.maps.places.PlacesService(that.map);callback.call(that,that.service);});}},searchLocation:function(){var query=this.$keyword.val().replace(/^\s+|\s+$/g,'');this.$keyword.attr('placeholder',this.placeholders.loading);this.searchToken=(this.searchToken||0)+1;this[query?'searchLocationQuery':'searchLocationNearby']({query:query,token:this.searchToken,callback:this.searchLocationCallback});},searchLocationQuery:function(params){var that;if(this.locations[params.query]){params.callback.apply(this,[this.locations[params.query],null,params]);return;}
that=this;this.service.textSearch({query:params.query},function(results,status){if(status!==google.maps.places.PlacesServiceStatus.OK){params.callback.apply(that,[null,that.placeholders.error,params]);return;}
if(!$.isArray(results)){params.callback.apply(that,[null,that.placeholders.error,params]);return;}
for(var i=0,locs=[],loc;i<results.length;i++){loc=results[i];locs.push({name:loc.name,latitude:loc.geometry.location.lat(),longitude:loc.geometry.location.lng(),vicinity:loc.formatted_address});}
that.locations[params.query]=locs;params.callback.apply(that,[that.locations[params.query],null,params]);});},searchLocationNearby:function(params){var that=this;navigator.geolocation.getCurrentPosition(function(position){that.detectLocationSuccess(position,params)},function(){that.detectLocationFallback(params)},{timeout:10000});},searchLocationCallback:function(results,error,params){if(this.searchToken!==params.token){return;}
this.$keyword.attr('placeholder',this.placeholders.loaded);this.draw(results);},detectLocationSuccess:function(position,params){var coords=position&&position.coords||{},lat=coords.latitude,lng=coords.longitude;if(lat&&lng){this.detectLocationNearby(lat,lng,params);}else{params.callback.apply(this,[null,this.placeholders.error,params]);}},detectLocationFallback:function(params){var success=false,that=this;$.ajax({url:'//freegeoip.net/json/',dataType:'jsonp',success:function(json){var lat=json.latitude,lng=json.longitude;if(lat&&lng){success=true;that.detectLocationNearby(lat,lng,params);}},complete:function(){success||params.callback.apply(that,[null,that.placeholders.error,params]);}});},detectLocationNearby:function(lat,lng,params){var position,request,that;if(this.nearbyLocations){params.callback.apply(this,[this.nearbyLocations,null,params]);return;}
position=new google.maps.LatLng(lat,lng);request={location:position,types:['establishment'],rankBy:google.maps.places.RankBy.DISTANCE};that=this;this.service.nearbySearch(request,function(results,status){if(status!==google.maps.places.PlacesServiceStatus.OK){params.callback.apply(that,[null,that.placeholders.error,params]);return;}
if(!$.isArray(results)){params.callback.apply(that,[null,that.placeholders.error,params]);return;}
for(var i=0,locs=[],loc;i<results.length;i++){loc=results[i];locs.push({name:loc.name,latitude:loc.geometry.location.lat(),longitude:loc.geometry.location.lng(),vicinity:loc.vicinity});}
that.nearbyLocations=locs;params.callback.apply(that,[that.nearbyLocations,null,params]);});},getTemplate:function(){var html=this.template.div({language:{geolocation:language.get('geolocation')||{}}});return html;}});});define('views/dropdown/privacy',['sandbox','views/dropdown/base','utils/language'],function($,BaseView,language){return BaseView.extend({template:joms.jst['html/dropdown/privacy'],events:{'click li':'select'},privacies:{'public':[10,'earth'],'site_members':[20,'users'],'friends':[30,'user'],'me':[40,'lock']},privmaps:{'public':'10','site_members':'20','friends':'30','me':'40','0':'public','10':'public','20':'site_members','30':'friends','40':'me'},initialize:function(options){BaseView.prototype.initialize.apply(this);this.privkeys=$.keys(this.privacies);if(options&&options.privacylist&&options.privacylist.length)
this.privkeys=$.intersection(this.privkeys,options.privacylist);var langs=language.get('privacy')||{};for(var prop in this.privacies){this.privacies[prop][2]=langs[prop]||prop;this.privacies[prop][3]=langs[prop+'_desc']||prop;}
this.defaultPrivacy=this.privkeys[0];if(typeof options.defaultPrivacy!=='undefined'){options.defaultPrivacy=''+options.defaultPrivacy;if(options.defaultPrivacy.match(/^\d+$/)){options.defaultPrivacy=this.privmaps[options.defaultPrivacy]||this.defaultPrivacy;}
if(this.privkeys.indexOf(options.defaultPrivacy)>=0){this.defaultPrivacy=options.defaultPrivacy;}}},render:function(){var items=[];for(var i=0,priv;i<this.privkeys.length;i++){priv=this.privkeys[i];items[i]=[priv,this.privacies[priv][1],this.privacies[priv][2],this.privacies[priv][3]];}
this.$el.html(this.template({items:items}));this.setPrivacy(this.defaultPrivacy);return this;},select:function(e){var item=$(e.currentTarget),priv=item.attr('data-priv');this.setPrivacy(priv);this.hide();},setPrivacy:function(priv){var data={};if(this.privkeys.indexOf(priv)>=0){this.privacy=this.privacies[priv][0];data.icon=this.privacies[priv][1];data.label=this.privacies[priv][2].toLowerCase();this.trigger('select',data);}},value:function(){return this.privacy;},reset:function(){this.setPrivacy(this.defaultPrivacy);}});});define('views/postbox/status',['sandbox','app','views/postbox/default','views/postbox/fetcher','views/inputbox/status','views/dropdown/mood','views/dropdown/location','views/dropdown/privacy','utils/constants','utils/language'],function($,App,DefaultView,FetcherView,InputboxView,MoodView,LocationView,PrivacyView,constants,language){return DefaultView.extend({subviews:{mood:MoodView,location:LocationView,privacy:PrivacyView},template:joms.jst['html/postbox/status'],events:$.extend({},DefaultView.prototype.events,{'click li[data-tab=photo]':'onAddPhoto','click li[data-tab=video]':'onAddVideo','click li[data-tab=file]':'onAddFile'}),initialize:function(){var settings=constants.get('settings')||{};if(this.inheritPrivacy=(settings.isGroup||settings.isEvent||!settings.isMyProfile))
this.subviews=$.omit(this.subviews,'privacy');var moods=constants.get('moods');this.enableMood=+constants.get('conf.enablemood')&&moods&&moods.length;if(!this.enableMood)
this.subviews=$.omit(this.subviews,'mood');this.enableLocation=+constants.get('conf.enablelocation');if(!this.enableLocation)
this.subviews=$.omit(this.subviews,'location');DefaultView.prototype.initialize.apply(this);},render:function(){DefaultView.prototype.render.apply(this);this.$inputbox=this.$('.joms-postbox-inputbox');this.$fetcher=this.$('.joms-postbox-fetched');this.$tabmood=this.$tabs.find('[data-tab=mood]');this.$tablocation=this.$tabs.find('[data-tab=location]');this.$tabprivacy=this.$tabs.find('[data-tab=privacy]');if(!this.enableMood)
this.$tabmood.remove();if(!this.enableLocation)
this.$tablocation.remove();if(this.inheritPrivacy){if(this.$tabprivacy.next().length)
this.$tabprivacy.remove();else
this.$tabprivacy.css({visibility:'hidden'});}
this.inputbox=new InputboxView({attachment:true,charcount:true});this.assign(this.$inputbox,this.inputbox);this.listenTo(this.inputbox,'focus',this.onInputFocus);this.listenTo(this.inputbox,'keydown',this.onInputUpdate);this.listenTo(this.inputbox,'paste',this.onInputUpdate);var defaultPrivacy,settings;if(!this.inheritPrivacy){settings=constants.get('settings')||{};if(settings.isProfile&&settings.isMyProfile)
defaultPrivacy=constants.get('conf.profiledefaultprivacy');this.initSubview('privacy',{privacylist:window.joms_privacylist,defaultPrivacy:defaultPrivacy||'public'});}
if(this.single)
this.listenTo($,'click',this.onDocumentClick);return this;},reset:function(){DefaultView.prototype.reset.apply(this);this.inputbox&&this.inputbox.reset();this.fetcher&&this.fetcher.remove();},value:function(){this.data.text=this.inputbox.value()||'';this.data.attachment={};this.data.text=this.data.text.replace(/\n/g,'\\n');var value;for(var prop in this.subflags)
if(value=this.subviews[prop].value())
this.data.attachment[prop]=value;if(this.fetcher)
this.data.attachment.fetch=this.fetcher.value();return DefaultView.prototype.value.apply(this,arguments);},validate:$.noop,onInputFocus:function(){this.showMainState();},onInputUpdate:function(text,key){var div;text=text||'';this.togglePostButton(text);if(key===32||key===13){this.fetch(text);}else{this.fetchProxy(text);}},fetchProxy:$.debounce(function(text){this.fetch(text);},1000),fetch:function(text){var div;if(this.fetcher&&(this.fetcher.fetching||this.fetcher.fetched))
return;if(this.fetcher)
this.fetcher.remove();div=$('<div>').appendTo(this.$fetcher);this.fetcher=new FetcherView();this.fetcher.setElement(div);this.listenTo(this.fetcher,'fetch:start',this.onFetchStart);this.listenTo(this.fetcher,'fetch:done',this.onFetchDone);this.listenTo(this.fetcher,'remove',this.onFetchRemove);this.fetcher.fetch(text.replace(/^\s+|\s+$/g,''));},onFetchStart:function(){this.saving=true;this.$loading.show();},onFetchDone:function(){this.$loading.hide();this.saving=false;},onFetchRemove:function(){this.fetcher=false;},onDocumentClick:function(elem){if(elem.closest('.joms-postbox').length)
return;var text=this.inputbox.value();text=text.replace(/^\s+|\s+$/g,'');if(!text)
this.showInitialState();},onMoodSelect:function(mood){this.inputbox.updateAttachment(mood);this.togglePostButton();},onMoodRemove:function(){this.inputbox.updateAttachment(false);this.togglePostButton();},onLocationSelect:function(location){this.inputbox.updateAttachment(null,location);this.togglePostButton();},onLocationRemove:function(){this.inputbox.updateAttachment(null,false);this.togglePostButton();},onPrivacySelect:function(data){var icon=this.$tabprivacy.find('use'),href=icon.attr('xlink:href');href=href.replace(/#.+$/,'#joms-icon-'+data.icon);this.$tabprivacy.find('use').attr('xlink:href',href);this.$tabprivacy.find('span').html(data.label);},onAddPhoto:function(){App.postbox||(App.postbox={});App.postbox.value=this.value(true);App.postbox.value[0]=App.postbox.value[0].replace(/\\n/g,'\n');$.trigger('postbox:photo');},onAddVideo:function(){App.postbox||(App.postbox={});App.postbox.value=this.value(true);App.postbox.value[0]=App.postbox.value[0].replace(/\\n/g,'\n');$.trigger('postbox:video');},onAddFile:function(){App.postbox||(App.postbox={});App.postbox.value=this.value(true);App.postbox.value[0]=App.postbox.value[0].replace(/\\n/g,'\n');$.trigger('postbox:file');},getTemplate:function(){var settings=constants.get('settings')||{},conf=constants.get('conf')||{},enablephoto=true,enablevideo=true,enablefile=true;if(settings.isProfile||settings.isGroup||settings.isEvent){conf.enablephotos||(enablephoto=false);conf.enablevideos||(enablevideo=false);conf.enablefiles||(enablefile=false);}
var html=this.template({juri:constants.get('juri'),enablephoto:enablephoto,enablevideo:enablevideo,enablefile:enablefile,language:{postbox:language.get('postbox')||{},status:language.get('status')||{}}});return $(html).hide();},getStaticAttachment:function(){if(this.staticAttachment)
return this.staticAttachment;this.staticAttachment=$.extend({},constants.get('postbox.attachment')||{},{type:'message'});return this.staticAttachment;},togglePostButton:function(text){var enabled=false;if(text)
enabled=true;if(!enabled&&this.subflags.mood)
enabled=this.subviews.mood.value();if(!enabled&&this.subflags.location)
enabled=this.subviews.location.value();this.$save[enabled?'show':'hide']();}});});define('views/widget/select',['sandbox','views/base','utils/language'],function($,BaseView,language){return BaseView.extend({template:joms.jst['html/widget/select'],events:{'click span':'toggle','click svg':'toggle','click li':'onSelect'},initialize:function(options){this.options=options.options||[];if(+options.width)
this.width=+options.width+'px';},render:function(){var data={};data.options=this.options;data.width=this.width||false;data.placeholder=language.get('select_category');this.$el.html(this.template(data));this.$span=this.$('span');this.$ul=this.$('ul');if(data.options){if(data.options.length>6){this.$ul.css({height:'175px',overflowY:'auto'});}}},select:function(value,text){this.$span.html(text);this.$span.data('value',value);this.trigger('select',value,text);},toggle:function(){this.$ul.toggle();},value:function(){return this.$span.data('value');},reset:function(){this.$ul&&this.$ul.hide();if(this.options&&this.options.length){this.$span.html(this.options[0][1]);this.$span.data('value',this.options[0][0]);}},onSelect:function(e){var el=$(e.currentTarget),value=el.data('value'),text=el.html();this.select(value,text);this.toggle();}});});define('views/widget/select-album',['sandbox','views/widget/select','utils/language'],function($,SelectWidget,language){return SelectWidget.extend({template:joms.jst['html/widget/select-album'],render:function(){var data={};data.options=this.options;data.width=this.width||false;data.placeholder=language.get('select_category');this.$el.html(this.template(data));this.$span=this.$('span');this.$ul=this.$('ul');if(data.options){if(data.options.length>3){this.$ul.css({height:'160px',overflowY:'auto'});}
if(data.options[0])
this.select(data.options[0][0],data.options[0][1]);}},onSelect:function(e){var el=$(e.currentTarget),value=el.data('value'),text=el.find('p').html();this.select(value,text);this.toggle();}});});define('views/postbox/photo-preview',['sandbox','app','views/base','views/widget/select-album','utils/ajax','utils/constants','utils/language'],function($,App,BaseView,SelectWidget,ajax,constants,language){return BaseView.extend({templates:{div:joms.jst['html/postbox/photo-preview'],img:joms.jst['html/postbox/photo-item']},events:{'click .joms-postbox-photo-remove':'onRemove'},render:function(){this.$el.html(this.templates.div());this.$list=this.$('ul');this.$form=this.$('div.joms-postbox-photo-form');},add:function(file){this.$list.append(this.templates.img({id:this.getFileId(file),src:App.legacyUrl+'/assets/photo-upload-placeholder.png'}));var settings=constants.get('settings')||{};if(!settings.isMyProfile)
return;if(this.select)
return;var albums=constants.get('album'),privs=language.get('privacy'),options=[];var privmap={'0':'public','10':'public','20':'site_members','30':'friends','40':'me'};var icons={'0':'earth','10':'public','20':'users','30':'user','40':'lock'};if(!(albums&&albums.length))
return;this.albummap={};for(var i=0,album,permission;i<albums.length;i++){album=albums[i];permission=''+album.permissions;this.albummap[''+album.id]=permission;album=[album.id,album.name,privs[privmap[permission]||'0'],icons[permission||'0']];options[+album['default']?'unshift':'push'](album);}
this.select=new SelectWidget({options:options});var div=$('<div class="joms-postbox-select-album joms-select" style="padding:3px 0">').insertAfter(this.$form);this.assign(div,this.select);},value:function(){var settings=constants.get('settings')||{},album_id,privacy,values;values={id:this.pics||[]};if(this.select&&settings.isMyProfile){values.album_id=''+this.select.value();values.privacy=this.albummap[album_id];}
return values;},updateProgress:function(file){var id=this.getFileId(file),elem=this.$list.find('#'+id).find('.joms-postbox-photo-progress'),percent;if(elem&&elem.length){percent=Math.min(100,Math.floor(file.loaded/file.size*100));elem.stop().animate({width:percent+'%'});}},setImage:function(file,json){json||(json={});var elem=this.$list.find('#'+this.getFileId(file)),src=constants.get('juri.base')+json.thumbnail,id=json.id;elem.find('img').attr('src',src).data('id',id);elem.find('img').attr('style','visibility:visible');elem.find('.joms-postbox-photo-action').show();elem.addClass('joms-postbox-photo-loaded');elem.find('.joms-postbox-photo-progressbar').remove();this.pics||(this.pics=[]);this.pics.push(''+id);this.trigger('update',this.pics.length);},removeFailed:function(){this.$list.find('.joms-postbox-photo-item').not('.joms-postbox-photo-loaded').remove();this.trigger('update',this.pics&&this.pics.length||0);},onRemove:function(e){var li=$(e.target).closest('li'),id=li.find('img').data('id'),num;li.remove();this.pics=$.without(this.pics,''+id);num=this.pics.length;if(num<=0){this.select&&this.select.remove();}
this.ajaxRemove([id]);this.trigger('update',num);},remove:function(){this.pics&&this.pics.length&&this.ajaxRemove(this.pics);return BaseView.prototype.remove.apply(this,arguments);},ajaxRemove:function(pics){var params={};params.option='community';params.no_html=1;params.task='azrul_ajax';params.func='system,ajaxDeleteTempImage';params[window.jax_token_var]=1;if(pics&&pics.length)
params['arg2[]']=pics;$.ajax({url:window.jax_live_site,type:'post',dataType:'json',data:params});},getFileId:function(file){return'postbox-preview-'+file.id;},getNumPics:function(){return this.$list.find('li').length;}});});define('views/postbox/gif-preview',['views/postbox/photo-preview'],function(PreviewView){return PreviewView.extend({render:function(){PreviewView.prototype.render.apply(this,arguments);this.$el.addClass('joms-postbox-gif-preview');},add:function(){PreviewView.prototype.add.apply(this,arguments);this.$el.find('.joms-postbox-select-album').hide();},setImage:function(file,json){json||(json={});var elem=this.$list.find('#'+this.getFileId(file)),src=json.image,id=json.id;elem.find('img').attr('src',src).data('id',id);elem.find('img').attr('style','visibility:visible');elem.find('.joms-postbox-photo-action').show();elem.addClass('joms-postbox-photo-loaded');elem.find('.joms-postbox-photo-progressbar').remove();this.pics||(this.pics=[]);this.pics.push(''+id);this.trigger('update',this.pics.length);}});});define('views/inputbox/photo',['sandbox','views/inputbox/status','utils/constants','utils/language'],function($,InputboxView,constants,language){return InputboxView.extend({template:joms.jst['html/inputbox/photo'],initialize:function(){var hash,item,id,i;InputboxView.prototype.initialize.apply(this,arguments);this.hint={single:language.get('status.photo_hint')||'',multiple:language.get('status.photos_hint')||''};this.moods=constants.get('moods');hash={};if(this.moods&&this.moods.length){for(i=0;i<this.moods.length;i++){id=this.moods[i].id;item=[id,this.moods[i].description];if(this.moods[i].custom){item[2]=this.moods[i].image;}
hash[id]=item;}}
this.moods=hash;},reset:function(){InputboxView.prototype.reset.apply(this,arguments);this.single();},single:function(){this.hint.current=this.hint.single;if(this.$textarea.attr('placeholder'))
this.$textarea.attr('placeholder',this.hint.current);},multiple:function(){this.hint.current=this.hint.multiple;if(this.$textarea.attr('placeholder'))
this.$textarea.attr('placeholder',this.hint.current);},updateAttachment:function(mood){var attachment=[];this.mood=mood||mood===false?mood:this.mood;if(this.mood&&this.moods[this.mood]){if(typeof this.moods[this.mood][2]!=='undefined'){attachment.push('<img class="joms-emoticon" src="'+this.moods[this.mood][2]+'"> '+'<b>'+this.moods[this.mood][1]+'</b>');}else{attachment.push('<i class="joms-emoticon joms-emo-'+this.mood+'"></i> '+'<b>'+this.moods[this.mood][1]+'</b>');}}
if(!attachment.length){this.$attachment.html('');this.$textarea.attr('placeholder',this.hint.current);return;}
this.$attachment.html(' &nbsp;&mdash; '+attachment.join(' '+language.get('and')+' ')+'.');this.$textarea.removeAttr('placeholder');},getTemplate:function(){var html=this.template({placeholder:this.hint.current=this.hint.single});return $(html);}});});define('views/inputbox/file',['sandbox','views/inputbox/status','utils/constants','utils/language'],function($,InputboxView,constants,language){return InputboxView.extend({template:joms.jst['html/inputbox/file'],initialize:function(){var hash,item,id,i;InputboxView.prototype.initialize.apply(this,arguments);this.hint={single:language.get('status.file_hint')||'',multiple:language.get('status.files_hint')||''};this.moods=constants.get('moods');hash={};if(this.moods&&this.moods.length){for(i=0;i<this.moods.length;i++){id=this.moods[i].id;item=[id,this.moods[i].description];if(this.moods[i].custom){item[2]=this.moods[i].image;}
hash[id]=item;}}
this.moods=hash;},reset:function(){InputboxView.prototype.reset.apply(this,arguments);this.single();},single:function(){this.hint.current=this.hint.single;if(this.$textarea.attr('placeholder'))
this.$textarea.attr('placeholder',this.hint.current);},multiple:function(){this.hint.current=this.hint.multiple;if(this.$textarea.attr('placeholder'))
this.$textarea.attr('placeholder',this.hint.current);},updateAttachment:function(mood){var attachment=[];this.mood=mood||mood===false?mood:this.mood;if(this.mood&&this.moods[this.mood]){if(typeof this.moods[this.mood][2]!=='undefined'){attachment.push('<img class="joms-emoticon" src="'+this.moods[this.mood][2]+'"> '+'<b>'+this.moods[this.mood][1]+'</b>');}else{attachment.push('<i class="joms-emoticon joms-emo-'+this.mood+'"></i> '+'<b>'+this.moods[this.mood][1]+'</b>');}}
if(!attachment.length){this.$attachment.html('');this.$textarea.attr('placeholder',this.hint.current);return;}
this.$attachment.html(' &nbsp;&mdash; '+attachment.join(' '+language.get('and')+' ')+'.');this.$textarea.removeAttr('placeholder');},getTemplate:function(){var html=this.template({placeholder:this.hint.current=this.hint.single});return $(html);}});});define('views/postbox/file-preview',['sandbox','app','views/base','utils/ajax','utils/constants','utils/language'],function($,App,BaseView,ajax,constants,language){return BaseView.extend({templates:{div:_.template('<div class=joms-postbox-photo-preview> \
                    <ul class="joms-list clearfix"></ul> \
                </div>'),file:_.template('<li id="<%= id %>" data-fileid="" class=joms-postbox-photo-item> \
                    <div class=img-wrapper> \
                        <svg viewBox="0 0 16 18" class="joms-icon">\
                            <use xlink:href="<%= window.joms_current_url %>#joms-icon-file-zip" class="joms-icon--svg-fixed joms-icon--svg-unmodified joms-icon--svg-unmodified"></use>\
                        </svg> \
                        <b class="joms-filename"><%= name %></b>\
                    </div> \
                    <div class=joms-postbox-photo-action style="display:none"> \
                        <span class=joms-postbox-photo-remove>Ã—</span> \
                    </div> \
                    <div class=joms-postbox-file-progressbar> \
                        <div class=joms-postbox-file-progress></div> \
                    </div> \
                </li>')},events:{'click .joms-postbox-photo-remove':'onRemove'},render:function(){this.$el.html(this.templates.div());this.$list=this.$el.find('ul.joms-list');this.$form=this.$el.find('div.joms-postbox-photo-form');},add:function(file){this.$list.append(this.templates.file({id:this.getFileId(file),name:file.name,src:App.legacyUrl+'/assets/photo-upload-placeholder.png'}));var settings=constants.get('settings')||{};if(!settings.isMyProfile)
return;if(this.select)
return;var albums=constants.get('album'),privs=language.get('privacy'),options=[];var privmap={'0':'public','10':'public','20':'site_members','30':'friends','40':'me'};var icons={'0':'earth','10':'public','20':'users','30':'user','40':'lock'};if(!(albums&&albums.length))
return;this.albummap={};for(var i=0,album,permission;i<albums.length;i++){album=albums[i];permission=''+album.permissions;this.albummap[''+album.id]=permission;album=[album.id,album.name,privs[privmap[permission]||'0'],icons[permission||'0']];options[+album['default']?'unshift':'push'](album);}},value:function(){var settings=constants.get('settings')||{},album_id,privacy,values;values={id:this.files||[]};return values;},updateProgress:function(file){var id=this.getFileId(file),elem=this.$list.find('#'+id).find('.joms-postbox-file-progress'),percent;if(elem&&elem.length){percent=Math.min(100,Math.floor(file.loaded/file.size*100));elem.stop().animate({width:percent+'%'});}},setFile:function(file,json){json||(json={});var elem=this.$list.find('#'+this.getFileId(file)),id=json.id;elem.find('.joms-filename').text(file.name);elem.attr('data-id',json.id);elem.find('.joms-postbox-photo-action').show();elem.addClass('joms-postbox-photo-loaded');elem.find('.joms-postbox-photo-progressbar').remove();this.files||(this.files=[]);this.files.push(''+id);this.trigger('update',this.files.length);},removeFailed:function(){this.$list.find('.joms-postbox-photo-item').not('.joms-postbox-photo-loaded').remove();this.trigger('update',this.files&&this.files.length||0);},onRemove:function(e){var li=$(e.target).closest('li'),id=li.data('id'),num;li.remove();this.files=$.without(this.files,''+id);num=this.files.length;this.ajaxRemove([id]);this.trigger('update',num);},remove:function(){this.files&&this.files.length&&this.ajaxRemove(this.files);return BaseView.prototype.remove.apply(this,arguments);},ajaxRemove:function(files){var params={};params.option='community';params.no_html=1;params.task='azrul_ajax';params.func='system,ajaxDeleteTempFile';params[window.jax_token_var]=1;if(files&&files.length)
params['arg2[]']=files;$.ajax({url:window.jax_live_site,type:'post',dataType:'json',data:params});},getFileId:function(file){return'postbox-preview-'+file.id;},getNumFiles:function(){return this.$list.find('li').length;}});});define('views/postbox/file',['sandbox','app','views/postbox/default','views/postbox/file-preview','views/inputbox/file','views/dropdown/mood','views/dropdown/privacy','utils/constants','utils/language','utils/uploader'],function($,App,DefaultView,PreviewView,InputboxView,MoodView,PrivacyView,constants,language,Uploader){return DefaultView.extend({subviews:{mood:MoodView,privacy:PrivacyView},template:_.template('<div class="joms-postbox-file-wrapper" style="position: relative;">\
                <div class="joms-postbox--droparea" id="joms-postbox-file--droparea">\
                    <%= language.file.drop_to_upload %>\
                </div>\
                <div id=joms-postbox-file-upload style="position:absolute;top:0;left:0;width:1px;height:1px;overflow:hidden">\
                    <button id=joms-postbox-file-upload-btn>Upload</button>\
                </div>\
                <div class="joms-postbox-inner-panel" style="position:relative">\
                    <div class="joms-postbox-file-upload">\
                        <svg viewBox="0 0 16 18" class="joms-icon">\
                            <use xlink:href="<%=window.joms_current_url%>#joms-icon-file-zip" class="joms-icon--svg-fixed joms-icon--svg-unmodified"></use>\
                        </svg>\
                         <%= language.file.upload_button %>\
                    </div>\
                </div>\
                <div class="joms-postbox-file">\
                    <div class="joms-postbox-preview"></div>\
                    <div class=joms-postbox-inputbox></div>\
                    <nav class="joms-postbox-tab selected"> \
                        <ul class="joms-list inline"> \
                            <li data-tab=upload data-bypass=1>\
                                <svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="<%= window.joms_current_url %>#joms-icon-file-zip"></use></svg> \
                                <span class=visible-desktop><%= language.file.upload_button_more %></span>\
                            </li> \
                            <li data-tab=mood>\
                                <svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="<%= window.joms_current_url %>#joms-icon-happy"></use></svg> \
                                <span class=visible-desktop><%= language.status.mood %></span>\
                            </li> \
                            <li data-tab=privacy>\
                                <svg viewBox="0 0 16 18" class="joms-icon"><use xlink:href="<%= window.joms_current_url %>#joms-icon-earth"></use></svg> \
                                <span class=visible-desktop></span>\
                            </li>\
                        </ul> \
                        <div class=joms-postbox-action> \
                            <button class=joms-postbox-cancel><%= language.postbox.cancel_button %></button> \
                            <button class=joms-postbox-save><%= language.postbox.post_button %></button> \
                        </div> \
                        <div class=joms-postbox-loading style="display:none;"> \
                            <img src="<%= juri.root%>components/com_community/assets/ajax-loader.gif" alt="loader"> \
                        </div> \
                    </nav>\
                </div>\
            </div>'),getTemplate:function(){var html=this.template({juri:constants.get('juri'),allowgif:constants.get('conf.enablephotosgif')||false,language:{postbox:language.get('postbox')||{},status:language.get('status')||{},file:language.get('file')||{},privacy:language.get('privacy')||{}}});return $(html).hide();},events:$.extend({},DefaultView.prototype.events,{'click .joms-postbox-file-upload':'onFileAdd','click li[data-tab=upload]':'onFileAdd','dragenter':'onDragEnter','dragleave #joms-postbox-file--droparea':'onDragLeave','drop #joms-postbox-file--droparea':'onFileDrop'}),initialize:function(){var moods=constants.get('moods');this.enableMood=+constants.get('conf.enablemood')&&moods&&moods.length;if(!this.enableMood)
this.subviews=$.omit(this.subviews,'mood');var settings=constants.get('settings')||{};if(this.inheritPrivacy=(settings.isGroup||settings.isEvent||!settings.isMyProfile))
this.subviews=$.omit(this.subviews,'privacy');DefaultView.prototype.initialize.apply(this);},render:function(){DefaultView.prototype.render.apply(this);this.$initial=this.$('.joms-postbox-inner-panel');this.$main=this.$('.joms-postbox-file');this.$inputbox=this.$('.joms-postbox-inputbox');this.$preview=this.$('.joms-postbox-preview');this.$tabupload=this.$tabs.find('[data-tab=upload]');this.$tabmood=this.$tabs.find('[data-tab=mood]');this.$tabprivacy=this.$tabs.find('[data-tab=privacy]');this.$dropArea=this.$el.find('#joms-postbox-file--droparea');if(!this.enableMood)
this.$tabmood.remove();this.$uploader=this.$('#joms-postbox-photo-upload');this.$uploaderParent=this.$uploader.parent();this.inputbox=new InputboxView({attachment:true,charcount:true});this.assign(this.$inputbox,this.inputbox);this.listenTo(this.inputbox,'focus',this.onInputFocus);this.uploading=[];var url=joms.BASE_URL+'index.php?option=com_community&view=files&task=multiUpload&type=activities',settings=constants.get('settings')||{};if(settings.isGroup)
url+='&no_html=1&tmpl=component&groupid='+(constants.get('groupid')||'');if(settings.isEvent)
url+='&no_html=1&tmpl=component&eventid='+(constants.get('eventid')||'');if(this.inheritPrivacy)
this.$tabprivacy.css({visibility:'hidden'});var defaultPrivacy,settings;if(!this.inheritPrivacy){settings=constants.get('settings')||{};if(settings.isProfile&&settings.isMyProfile)
defaultPrivacy=constants.get('conf.profiledefaultprivacy');this.initSubview('privacy',{privacylist:window.joms_privacylist,defaultPrivacy:defaultPrivacy||'public'});}
if($.ie){this.$uploader.appendTo(document.body);this.$uploader.show();}
var conf=constants.get('conf')||{};this.maxFileSize=1;this.maxFileSize=+constants.get('settings.isProfile')?conf.file_sharing_activity_max:this.maxFileSize;this.maxFileSize=+constants.get('settings.isGroup')?conf.file_sharing_group_max:this.maxFileSize;this.maxFileSize=+constants.get('settings.isEvent')?conf.file_sharing_event_max:this.maxFileSize;this.ext='zip';this.ext=+constants.get('settings.isProfile')?conf.file_activity_ext:this.ext;this.ext=+constants.get('settings.isGroup')?conf.file_group_ext:this.ext;this.ext=+constants.get('settings.isEvent')?conf.file_event_ext:this.ext;var upConfig={container:'joms-postbox-file-upload',drop_element:'joms-postbox-file--droparea',browse_button:'joms-postbox-file-upload-btn',url:url,filters:[{title:'File files',extensions:this.ext}],max_file_size:this.maxFileSize+'mb'};if(!$.mobile)
upConfig.resize={width:2100,height:2100,quality:90};this.uploader=new Uploader(upConfig);this.uploader.onAdded=$.bind(this.onFileAdded,this);this.uploader.onError=$.bind(this.onFileError,this);this.uploader.onProgress=$.bind(this.onFileProgress,this);this.uploader.onUploaded=$.bind(this.onFileUploaded,this);this.uploader.init();if($.ie){this.$uploader.hide();this.$uploader.appendTo(this.$uploaderParent);}
return this;},showInitialState:function(){this.$main.hide();this.$initial.show();$.ie&&($.ieVersion<10)&&this.ieUploadButtonFix(true);this.inputbox&&this.inputbox.single();this.preview&&this.preview.remove();this.preview=false;this.showMoreButton();DefaultView.prototype.showInitialState.apply(this);},showMainState:function(){DefaultView.prototype.showMainState.apply(this);this.$action.hide();this.$initial.hide();this.$main.show();this.$save.show();$.ie&&($.ieVersion<10)&&this.ieUploadButtonFix();if(App.postbox&&App.postbox.value&&App.postbox.value.length){this.inputbox.set(App.postbox.value[0]);App.postbox.value=false;}},showMoreButton:function(){this.$tabupload.removeClass('hidden invisible');},hideMoreButton:function(){this.$tabupload.addClass(this.subviews.mood?'hidden':'invisible');},reset:function(){DefaultView.prototype.reset.apply(this);this.inputbox&&this.inputbox.reset();this.preview&&this.preview.remove();this.preview=false;this.uploading=[];},value:function(){this.data.text=this.inputbox.value()||'';this.data.attachment={};this.data.text=this.data.text.replace(/\n/g,'\\n');var value;for(var prop in this.subflags)
if(value=this.subviews[prop].value())
this.data.attachment[prop]=value;if(this.preview){$.extend(this.data.attachment,this.preview.value());}
return DefaultView.prototype.value.apply(this,arguments);},validate:function(){var value=this.value(true),attachment=value[1]||{};if(!attachment.id&&attachment.id.length)
return'No image selected.';},onPrivacySelect:function(data){var icon=this.$tabprivacy.find('use'),href=icon.attr('xlink:href');href=href.replace(/#.+$/,'#joms-icon-'+data.icon);this.$tabprivacy.find('use').attr('xlink:href',href);this.$tabprivacy.find('span').html(data.label);},onFileAdd:function(){if(this.uploading.length)
return;var conf=constants.get('conf')||{},limit=+conf.limitfile,uploaded=+conf.uploadedfile,num_file_per_upload=+conf.num_file_per_upload,curr=this.preview?this.preview.getNumFiles():0;if(curr>=num_file_per_upload){window.alert(language.get('file.batch_notice'));return;}
uploaded+=curr;if(uploaded>=limit){window.alert(language.get('photo.upload_limit_exceeded')||'You have reached the upload limit.');return;}
if(window.opera||($.ie&&$.ieVersion===10))
this.$('#joms-postbox-photo-upload').find('input[type=file]').click();else
this.uploader.open();},onFileAdded:function(up,files){if(this.uploading.length)
return;if(!(files&&files.length))
return;var exts=this.ext,maxFileSize=this.maxFileSize;files=_.filter(files,function(file){var ex=file.name.split('.').pop();return _.contains(exts.split(','),ex);});files=_.filter(files,function(file){return file.size<=(maxFileSize*1024*1024);});var conf=constants.get('conf')||{},num_file_per_upload=+conf.num_file_per_upload,limit=+conf.limitfile,uploaded=+conf.uploadedfile,curr=this.preview?this.preview.getNumFiles():0,self=this;if(curr+files.length>num_file_per_upload){window.alert(language.get('file.batch_notice'));_.each(files,function(file){up.removeFile(file);})
return;}
uploaded+=curr;if(uploaded>=limit){window.alert(language.get('photo.upload_limit_exceeded')||'You have reached the upload limit.');_.each(files,function(file){up.removeFile(file);})
return;}
var removed;if(uploaded+files.length>limit){removed=uploaded+files.length-limit;files.splice(0-removed,removed);up.splice(0-removed,removed);}
var div;if(!this.preview){div=$('<div>').appendTo(this.$preview);this.preview=new PreviewView();this.assign(div,this.preview);this.listenTo(this.preview,'update',function(num){if(!num||num<=0){this.showInitialState();this.inputbox.single();this.uploading=0;return;}else if(num>=8){this.hideMoreButton();}else{this.showMoreButton();}
this.inputbox[num>1?'multiple':'single']();});}
this.showMainState();for(var i=0;i<files.length;i++){this.preview.add(files[i]);}
_.each(files,function(file){self.uploading.push(file.id);});this.$action.hide();up.start();up.refresh();},onFileError:function(up,file){if(+file.code===+plupload.FILE_EXTENSION_ERROR){window.alert(language.get('file.file_type_not_permitted'));}else if(+file.code===+plupload.FILE_SIZE_ERROR){var msg='"'+file.file.name+'": '+language.get('file.max_upload_size_error').replace('##maxsize##',this.maxFileSize);window.alert(msg);}else{console.log(file.message);}},onFileProgress:function(up,file){this.preview&&this.preview.updateProgress(file);},onFileUploaded:function(up,file,info){var json;try{json=JSON.parse(info.response);}catch(e){}
json||(json={});if(!json.id){up.stop();up.splice();window.alert(json&&json.msg||'Undefined error.');this.uploading=[];this.$action.show();this.preview&&this.preview.removeFailed();return;}
this.uploading=_.without(this.uploading,file.id);this.uploading.length===0&&this.$action.show();this.preview&&this.preview.setFile(file,json);},onDragEnter:function(e){e.preventDefault();this.$dropArea.show();this.$dropArea.css('line-height',this.$dropArea.height()+'px');},onDragLeave:function(e){e.preventDefault();this.$dropArea.hide();},onFileDrop:function(e){e.preventDefault();this.$dropArea.hide();},onMoodSelect:function(mood){this.inputbox.updateAttachment(mood);},onMoodRemove:function(){this.inputbox.updateAttachment(false);},getStaticAttachment:function(){if(this.staticAttachment)
return this.staticAttachment;this.staticAttachment=$.extend({},constants.get('postbox.attachment')||{},{type:'file'});return this.staticAttachment;},ieUploadButtonFix:function(initialState){if(!this.ieUploadButtonFix.init){this.ieUploadButtonFix.init=true;this.$uploader.css({display:'block',position:'absolute',opacity:0,width:'',height:''}).children('button,form').css({display:'block',position:'absolute',width:'',height:'',top:0,right:0,bottom:0,left:0}).children('input').css({cursor:'pointer',height:'100%'});}
if(initialState){this.$uploader.appendTo(this.$uploaderParent);this.$uploader.css({top:12,right:12,bottom:12,left:12}).children('form').css({width:'100%',height:'100%'});}else{this.$uploader.appendTo(this.$tabupload);this.$uploader.css({top:0,right:0,bottom:0,left:0});}}});});define('utils/uploader',['sandbox','app'],function($,App){var defaults={runtimes:'html5,html4',url:'index.php'};function Uploader(options){this.queue=[];this.ready=false;if(window.plupload){this.ready=true;this.create(options);return;}
var that=this;joms.$LAB.script(App.legacyUrl+'assets/vendors/plupload.min.js').wait(function(){that.ready=true;that.create(options);that.execQueue();});}
Uploader.prototype.create=function(options){var btn=this.$button=options.browse_button,id=false,par;if(typeof options.container==='string'){par=$('#'+options.container);if(!par.length){par=$('<div id="'+options.container+'" style="width:1px; height:1px; overflow:hidden">').appendTo(document.body);}}else{par=$(options.container);if(id=par.attr('id')){options.container=id;}else{options.container=id=$.uniqueId('uploader_parent_');par.attr('id',id);}}
if(typeof btn==='string'){this.$button=$('#'+btn);if(!this.$button.length){this.$button=$('<button id="'+btn+'">').appendTo(par);}}else if(id=btn.attr('id')){this.$button=$(document.getElementById(id));}else{options.browse_button=id=$.uniqueId('uploader_');btn.attr('id',id);}
this.onProgress=options.onProgress||$.noop;this.onAdded=options.onAdded||$.noop;options=$.extend({},defaults,options||{});this.uploader=new plupload.Uploader(options);};Uploader.prototype.init=function(){if(!this.ready){this.queue.push(['init',this,arguments]);return;}
this.uploader.init();this.uploader.bind('FilesAdded',this.onAdded);this.uploader.bind('Error',this.onError);this.uploader.bind('BeforeUpload',this.onBeforeUpload);this.uploader.bind('UploadProgress',this.onProgress);this.uploader.bind('FileUploaded',this.onUploaded);this.uploader.bind('UploadComplete',this.onComplete);};Uploader.prototype.open=function(){if(!this.ready){this.queue.push(['open',this,arguments]);return;}
this.$button.click();};Uploader.prototype.reset=function(){if(!this.ready){this.queue.push(['reset',this,arguments]);return;}};Uploader.prototype.remove=function(){if(!this.ready){this.queue.push(['remove',this,arguments]);return;}};Uploader.prototype.params=function(data){this.uploader.settings.multipart_params=data;};Uploader.prototype.upload=function(){if(!this.ready){this.queue.push(['upload',this,arguments]);return;}};Uploader.prototype.execQueue=function(){var cmd;while(this.queue.length){cmd=this.queue.shift();this[cmd[0]].apply(cmd[1],cmd[2]);}};Uploader.prototype.onAdded=$.noop;Uploader.prototype.onError=$.noop;Uploader.prototype.onBeforeUpload=$.noop;Uploader.prototype.onProgress=$.noop;Uploader.prototype.onUploaded=$.noop;Uploader.prototype.onComplete=$.noop;return Uploader;});define('views/postbox/photo',['sandbox','app','views/postbox/default','views/postbox/photo-preview','views/postbox/gif-preview','views/inputbox/photo','views/dropdown/mood','views/widget/select','utils/constants','utils/language','utils/uploader'],function($,App,DefaultView,PreviewView,GifPreviewView,InputboxView,MoodView,SelectWidget,constants,language,Uploader){return DefaultView.extend({subviews:{mood:MoodView},template:joms.jst['html/postbox/photo'],events:$.extend({},DefaultView.prototype.events,{'click .joms-postbox-photo-upload':'onPhotoAdd','click li[data-tab=upload]':'onPhotoAdd','click .joms-postbox-gif-upload':'onGifAdd','dragenter':'onDragEnter','dragleave #joms-postbox-photo--droparea':'onDragLeave','drop #joms-postbox-photo--droparea':'onFileDrop'}),initialize:function(){var moods=constants.get('moods');this.enableMood=+constants.get('conf.enablemood')&&moods&&moods.length;if(!this.enableMood)
this.subviews=$.omit(this.subviews,'mood');this.enableGif=+constants.get('conf.enablephotosgif');DefaultView.prototype.initialize.apply(this);},render:function(){DefaultView.prototype.render.apply(this);this.$initial=this.$('.joms-postbox-inner-panel');this.$main=this.$('.joms-postbox-photo');this.$inputbox=this.$('.joms-postbox-inputbox');this.$preview=this.$('.joms-postbox-preview');this.$tabupload=this.$tabs.find('[data-tab=upload]');this.$tabmood=this.$tabs.find('[data-tab=mood]');this.$dropArea=this.$el.find('#joms-postbox-photo--droparea');if(!this.enableMood)
this.$tabmood.remove();this.$uploader=this.$('#joms-postbox-photo-upload');this.$uploaderParent=this.$uploader.parent();this.inputbox=new InputboxView({attachment:true,charcount:true});this.assign(this.$inputbox,this.inputbox);this.listenTo(this.inputbox,'focus',this.onInputFocus);var url=joms.BASE_URL+'index.php?option=com_community&view=photos&task=ajaxPreview',settings=constants.get('settings')||{};if(settings.isGroup)
url+='&no_html=1&tmpl=component&groupid='+(constants.get('groupid')||'');if(settings.isEvent)
url+='&no_html=1&tmpl=component&eventid='+(constants.get('eventid')||'');if($.ie){this.$uploader.appendTo(document.body);this.$uploader.show();}
this.maxFileSize=+constants.get('conf.maxuploadsize')||0;this.uploading=[];var upConfig={container:'joms-postbox-photo-upload',drop_element:'joms-postbox-photo--droparea',browse_button:'joms-postbox-photo-upload-btn',url:url,filters:[{title:'Image files',extensions:'jpg,jpeg,png,gif'}],max_file_size:this.maxFileSize+'mb'};if(!$.mobile)
upConfig.resize={width:2100,height:2100,quality:90};this.uploader=new Uploader(upConfig);this.uploader.onAdded=$.bind(this.onPhotoAdded,this);this.uploader.onError=$.bind(this.onPhotoError,this);this.uploader.onProgress=$.bind(this.onPhotoProgress,this);this.uploader.onUploaded=$.bind(this.onPhotoUploaded,this);this.uploader.init();if($.ie){this.$uploader.hide();this.$uploader.appendTo(this.$uploaderParent);}
if(this.enableGif){var gifConfig={container:'joms-postbox-gif-upload',browse_button:'joms-postbox-gif-upload-btn',url:url+'&gifanimation=1',filters:[{title:'Image files',extensions:'gif'}],max_file_size:this.maxFileSize+'mb',multi_selection:false};this.gifuploader=new Uploader(gifConfig);this.gifuploader.onAdded=$.bind(this.onGifAdded,this);this.gifuploader.onError=$.bind(this.onGifError,this);this.gifuploader.onProgress=$.bind(this.onGifProgress,this);this.gifuploader.onUploaded=$.bind(this.onGifUploaded,this);this.gifuploader.init();}
return this;},showInitialState:function(){this.$main.hide();this.$initial.show();$.ie&&($.ieVersion<10)&&this.ieUploadButtonFix(true);this.inputbox&&this.inputbox.single();this.preview&&this.preview.remove();this.preview=false;this.gifPreview&&this.gifPreview.remove();this.gifPreview=false;this.showMoreButton();DefaultView.prototype.showInitialState.apply(this);},showMainState:function(){DefaultView.prototype.showMainState.apply(this);this.$action.hide();this.$initial.hide();this.$main.show();this.$save.show();$.ie&&($.ieVersion<10)&&this.ieUploadButtonFix();if(App.postbox&&App.postbox.value&&App.postbox.value.length){this.inputbox.set(App.postbox.value[0]);App.postbox.value=false;}},showMoreButton:function(){this.$tabupload.removeClass('hidden invisible');},hideMoreButton:function(){this.$tabupload.addClass(this.subviews.mood?'hidden':'invisible');},reset:function(){DefaultView.prototype.reset.apply(this);this.inputbox&&this.inputbox.reset();this.preview&&this.preview.remove();this.preview=false;this.gifPreview&&this.gifPreview.remove();this.gifPreview=false;this.uploading=[];},value:function(){this.data.text=this.inputbox.value()||'';this.data.attachment={};this.data.text=this.data.text.replace(/\n/g,'\\n');var value;for(var prop in this.subflags)
if(value=this.subviews[prop].value())
this.data.attachment[prop]=value;if(this.preview){$.extend(this.data.attachment,this.preview.value());}else if(this.gifPreview){$.extend(this.data.attachment,this.gifPreview.value());}
return DefaultView.prototype.value.apply(this,arguments);},validate:function(){var value=this.value(true),attachment=value[1]||{};if(!attachment.id&&attachment.id.length)
return'No image selected.';},onPhotoAdd:function(){if(this.uploading.length)
return;var conf=constants.get('conf')||{},limit=+conf.limitphoto,uploaded=+conf.uploadedphoto,num_photo_per_upload=+conf.num_photo_per_upload,curr=this.preview?this.preview.getNumPics():0;if(curr>=num_photo_per_upload){window.alert(language.get('photo.batch_notice'));return;}
uploaded+=curr;if(uploaded>=limit){window.alert(language.get('photo.upload_limit_exceeded')||'You have reached the upload limit.');return;}
if(window.opera||($.ie&&$.ieVersion===10))
this.$('#joms-postbox-photo-upload').find('input[type=file]').click();else
this.uploader.open();},onPhotoAdded:function(up,files){if(this.uploading.length)
return;if(!(files&&files.length))
return;var exts='jpg,jpeg,png,gif',maxFileSize=this.maxFileSize;files=_.filter(files,function(file){var ex=file.name.split('.').pop();return _.contains(exts.split(','),ex);});files=_.filter(files,function(file){return file.size<=(maxFileSize*1024*1024);});var conf=constants.get('conf')||{},limit=+conf.limitphoto,uploaded=+conf.uploadedphoto,num_photo_per_upload=+conf.num_photo_per_upload,curr=this.preview?this.preview.getNumPics():0;if(curr+files.length>num_photo_per_upload){window.alert(language.get('photo.batch_notice'));_.each(files,function(file){up.removeFile(file);})
return;}
uploaded+=curr;if(uploaded>=limit){window.alert(language.get('photo.upload_limit_exceeded')||'You have reached the upload limit.');_.each(files,function(file){up.removeFile(file);})
return;}
var removed;if(uploaded+files.length>limit){removed=uploaded+files.length-limit;files.splice(0-removed,removed);up.splice(0-removed,removed);}
var div;if(!this.preview){div=$('<div>').appendTo(this.$preview);this.preview=new PreviewView();this.assign(div,this.preview);this.listenTo(this.preview,'update',function(num){if(!num||num<=0){this.showInitialState();this.inputbox.single();this.uploading=[];return;}else if(num>=num_photo_per_upload){this.hideMoreButton();}else{this.showMoreButton();}
this.inputbox[num>1?'multiple':'single']();});}
this.showMainState();for(var i=0;i<files.length;i++)
this.preview.add(files[i]);var self=this;_.each(files,function(file){self.uploading.push(file.id);});this.$action.hide();up.start();up.refresh();},onPhotoError:function(up,file){if(+file.code===+plupload.FILE_EXTENSION_ERROR){window.alert('Photos: Selected file type is not permitted.');}else if(+file.code===+plupload.FILE_SIZE_ERROR){window.alert(language.get('photo.max_upload_size_error'));}else{console.log(file.message);}},onPhotoProgress:function(up,file){this.preview&&this.preview.updateProgress(file);},onPhotoUploaded:function(up,file,info){var json;try{json=JSON.parse(info.response);}catch(e){}
json||(json={});if(!json.thumbnail){up.stop();up.splice();window.alert(json&&json.msg||'Undefined error.');this.uploading=[];this.$action.show();this.preview&&this.preview.removeFailed();return;}
this.uploading=_.without(this.uploading,file.id);this.uploading.length===0&&this.$action.show();this.preview&&this.preview.setImage(file,json);},onGifAdd:function(){this.hideMoreButton();this.gifuploader.open();},onGifAdded:function(up,files){var div;if(!this.gifPreview){div=$('<div>').appendTo(this.$preview);this.gifPreview=new GifPreviewView();this.assign(div,this.gifPreview);this.listenTo(this.gifPreview,'update',function(num){if(!num||num<=0){this.showInitialState();this.inputbox.single();this.uploading=[];return;}
this.hideMoreButton();this.inputbox.single();});}
this.showMainState();this.gifPreview.add(files[0]);up.start();up.refresh();},onGifError:function(up,file){if(+file.code===+plupload.FILE_EXTENSION_ERROR){window.alert('Gifs: Selected file type is not permitted.');}else if(+file.code===+plupload.FILE_SIZE_ERROR){window.alert(language.get('photo.max_upload_size_error'));}else{console.log(file.message);}},onGifProgress:function(up,file){this.gifPreview.updateProgress(file);},onGifUploaded:function(up,file,info){var json;try{json=JSON.parse(info.response);}catch(e){}
json||(json={});if(!json.image){up.stop();up.splice();window.alert(json&&json.msg||'Undefined error.');this.$action.show();this.gifPreview&&this.gifPreview.removeFailed();return;}
this.$action.show();if(this.gifPreview)
this.gifPreview.setImage(file,json);},onDragEnter:function(e){e.preventDefault();this.$dropArea.show();this.$dropArea.css('line-height',this.$dropArea.height()+'px');},onDragLeave:function(e){e.preventDefault();this.$dropArea.hide();},onFileDrop:function(e){e.preventDefault();this.$dropArea.hide();},onMoodSelect:function(mood){this.inputbox.updateAttachment(mood);},onMoodRemove:function(){this.inputbox.updateAttachment(false);},getTemplate:function(){var html=this.template({juri:constants.get('juri'),allowgif:constants.get('conf.enablephotosgif')||false,language:{postbox:language.get('postbox')||{},status:language.get('status')||{},photo:language.get('photo')||{}}});return $(html).hide();},getStaticAttachment:function(){if(this.staticAttachment)
return this.staticAttachment;this.staticAttachment=$.extend({},constants.get('postbox.attachment')||{},{type:'photo'});return this.staticAttachment;},ieUploadButtonFix:function(initialState){if(!this.ieUploadButtonFix.init){this.ieUploadButtonFix.init=true;this.$uploader.css({display:'block',position:'absolute',opacity:0,width:'',height:''}).children('button,form').css({display:'block',position:'absolute',width:'',height:'',top:0,right:0,bottom:0,left:0}).children('input').css({cursor:'pointer',height:'100%'});}
if(initialState){this.$uploader.appendTo(this.$uploaderParent);this.$uploader.css({top:12,right:12,bottom:12,left:12}).children('form').css({width:'100%',height:'100%'});}else{this.$uploader.appendTo(this.$tabupload);this.$uploader.css({top:0,right:0,bottom:0,left:0});}}});});define('views/inputbox/videourl',['sandbox','views/inputbox/base','utils/language'],function($,InputboxView,language){return InputboxView.extend({template:joms.jst['html/inputbox/videourl'],render:function(){var div=this.getTemplate();this.$el.replaceWith(div);this.setElement(div);InputboxView.prototype.render.apply(this,arguments);},onKeydown:function(e){if(e&&e.keyCode===13)
e.preventDefault();var that=this;$.defer(function(){that.updateInput(e);});},getTemplate:function(){var hint=language.get('video.link_hint')||'',html=this.template({placeholder:hint});return $(html);}});});define('views/postbox/fetcher-video',['sandbox','views/base','views/widget/select','utils/ajax','utils/language'],function($,BaseView,SelectWidget,ajax,language){return BaseView.extend({template:joms.jst['html/postbox/fetcher-video'],events:{'click .joms-fetched-close':'onClose','click .joms-fetched-field span':'onFocus','keyup .joms-fetched-field input':'onKeyup','keyup .joms-fetched-field textarea':'onKeyup','blur .joms-fetched-field input':'onBlur','blur .joms-fetched-field textarea':'onBlur'},initialize:function(){var lang=language.get('fetch')||{};this.titlePlaceholder=lang.title_hint||'';this.descPlaceholder=lang.description_hint||'';lang=language.get('video');this.categoryLabel=lang.category_label;},fetch:function(text){var rUrl=/^(|.*\s)(https?:\/\/|www\.)([a-z0-9-]+\.)+[a-z]{2,18}(:\d+)?(\/.*)?(\s.*|)$/i,isFetchable=text.match(rUrl);if(this.fetching||!isFetchable)
return;this.id=false;this.url=text;this.fetching=true;this.fetched=false;this.trigger('fetch:start');var that=this;ajax({fn:'videos,ajaxLinkVideoPreview',data:[text],complete:function(){that.fetching=false;that.trigger('fetch:done');},success:$.bind(this.render,this)});},render:function(resp){resp=this.parseResponse(resp);if(!resp){this.trigger('fetch:failed');return;}
var video=resp&&resp.video,categories=this.sortCategories(resp&&resp.category||[]);if(!(video&&video.id)){this.trigger('fetch:failed',resp);return;}
this.video_id=video.id;this.fetched=true;var data={title:video.title||'',titlePlaceholder:this.titlePlaceholder,description:video.description||'',descPlaceholder:this.descPlaceholder,image:video.thumb||false,lang:{cancel:(language.get('cancel')||'').toLowerCase()}};this.select&&this.select.remove();this.$el.html(this.template(data));this.$image=this.$('.joms-fetched-images').find('img');this.$title=this.$('.joms-fetched-title').find('input');this.$description=this.$('.joms-fetched-description').find('textarea');this.$category=this.$('.joms-fetched-category');var options=[];for(var i=0;i<categories.length;i++){options.push([categories[i].id,this.categoryLabel+': '+categories[i].name]);}
this.select=new SelectWidget({options:options});this.assign(this.$category,this.select);return this;},change:function(el){var input=$(el),span=input.prev('span'),val=input.val().replace(/^\s+|\s+$/g,'');if(!val){if(input.parent().hasClass('joms-fetched-title'))
val=this.titlePlaceholder;else
val=this.descPlaceholder;}
input.hide();span.text(val).show();},remove:function(){BaseView.prototype.remove.apply(this);this.trigger('remove');},value:function(){if(this.fetching)
return[];return[this.video_id,this.url,this.$image&&this.$image.attr('src'),this.$title&&this.escapeValue(this.$title.val()),this.$description&&this.escapeValue(this.$description.val()),this.select&&this.select.value()];},onClose:function(){this.remove();},onFocus:function(e){var span=$(e.currentTarget),input=span.next('input,textarea');span.hide();input.show();setTimeout(function(){input[0].focus();},300);},onKeyup:function(e){if(e.keyCode===13){this.change(e.currentTarget);}},onBlur:function(e){this.change(e.currentTarget);},parseResponse:function(resp){var json;if(resp&&resp.length){for(var i=0;i<resp.length;i++){if(resp[i][1]==='__throwError'){json={msg:resp[i][3]};break;}else if(resp[i][1]==='__callback'){json=resp[i][3][0];break;}}}
return json;},sortCategories:function(categories,parent,prefix){if(!categories||!categories.length)
return[];parent||(parent=0);prefix||(prefix='');var options=[];for(var i=0,id,name;i<categories.length;i++){if(+categories[i].parent===parent){id=+categories[i].id;name=prefix+categories[i].name;options.push({id:id,name:name});options=options.concat(this.sortCategories(categories,id,name+' &rsaquo; '));}}
return options;},escapeValue:function(value){if(typeof value!=='string')
return value;return value.replace(/\\/g,'&#92;').replace(/\t/g,'\\t').replace(/\n/g,'\\n').replace(/&quot;/g,'"');}});});define('views/inputbox/video',['sandbox','views/inputbox/status','utils/language'],function($,InputboxView,language){return InputboxView.extend({template:joms.jst['html/inputbox/video'],getTemplate:function(){var hint=language.get('status.video_hint')||'',html=this.template({placeholder:hint});return $(html);}});});define('views/postbox/video',['sandbox','app','views/postbox/default','views/inputbox/videourl','views/postbox/fetcher-video','views/inputbox/video','views/dropdown/mood','views/dropdown/location','views/dropdown/privacy','views/widget/select','utils/ajax','utils/constants','utils/language','utils/uploader'],function($,App,DefaultView,UrlView,FetcherView,InputboxView,MoodView,LocationView,PrivacyView,SelectWidget,ajax,constants,language,Uploader){return DefaultView.extend({subviews:{mood:MoodView,location:LocationView,privacy:PrivacyView},template:joms.jst['html/postbox/video'],events:$.extend({},DefaultView.prototype.events,{'click [data-action=share]':'onVideoUrl','click [data-action=upload]':'onVideoUpload'}),initialize:function(){this.enableUpload=+constants.get('conf.enablevideosupload');this.enableLocation=+constants.get('conf.enablevideosmap');var moods=constants.get('moods');this.enableMood=+constants.get('conf.enablemood')&&moods&&moods.length;if(!this.enableMood)
this.subviews=$.omit(this.subviews,'mood');if(!this.enableLocation)
this.subviews=$.omit(this.subviews,'location');var settings=constants.get('settings')||{};if(this.inheritPrivacy=(settings.isGroup||settings.isEvent||!settings.isMyProfile))
this.subviews=$.omit(this.subviews,'privacy');this.language={postbox:language.get('postbox'),status:language.get('status'),video:language.get('video')};this.onVideoInit();DefaultView.prototype.initialize.apply(this);},render:function(){DefaultView.prototype.render.apply(this);this.$initial=this.$('.joms-initial-panel');this.$main=this.$('.joms-postbox-video');this.$stateurl=this.$('.joms-postbox-video-state-url');this.$stateupload=this.$('.joms-postbox-video-state-upload');this.$url=this.$stateurl.find('.joms-postbox-url');this.$fetcher=this.$stateurl.find('.joms-postbox-fetched');this.$file=this.$stateupload.find('.joms-postbox-url');this.$fileprogress=this.$stateupload.find('.joms-postbox-photo-progress');this.$title=this.$stateupload.find('input.input');this.$inputbox=this.$('.joms-postbox-inputbox');this.$tabupload=this.$tabs.find('[data-tab=upload]');this.$tabmood=this.$tabs.find('[data-tab=mood]');this.$tablocation=this.$tabs.find('[data-tab=location]');this.$tabprivacy=this.$tabs.find('[data-tab=privacy]');if(!this.enableMood)
this.$tabmood.remove();if(!this.enableLocation)
this.$tablocation.remove();if(this.inheritPrivacy)
this.$tabprivacy.css({visibility:'hidden'});this.url=new UrlView();this.assign(this.$url,this.url);this.listenTo(this.url,'focus',this.onUrlFocus);this.listenTo(this.url,'keydown',this.onUrlUpdate);this.inputbox=new InputboxView({attachment:true,charcount:true});this.assign(this.$inputbox,this.inputbox);this.listenTo(this.inputbox,'focus',this.onInputFocus);var defaultPrivacy,settings;if(!this.inheritPrivacy){settings=constants.get('settings')||{};if(settings.isProfile&&settings.isMyProfile)
defaultPrivacy=constants.get('conf.profiledefaultprivacy');this.initSubview('privacy',{privacylist:window.joms_privacylist,defaultPrivacy:defaultPrivacy||'public'});}
return this;},showInitialState:function(){this.reset();this.$tabs.hide();this.$action.hide();this.$save.hide();if(this.enableUpload){this.$main.hide();this.$initial.show();}else{this.showUrlState();}
this.trigger('show:initial');},showMainState:function(upload){upload?this.showUploadState():this.showUrlState();this.$tabs.show();this.$action.show();this.trigger('show:main');},showUrlState:function(){this.inputbox.$el.find('.joms-postbox-input-placeholder').html(this.language.status.video_hint);this.$save.html(this.language.postbox.post_button);this.$stateupload.hide();this.$stateurl.show();this.$initial.hide();this.$main.show();this.upload=false;if(App.postbox&&App.postbox.value&&App.postbox.value.length){this.inputbox.set(App.postbox.value[0]);App.postbox.value=false;}},showUploadState:function(){var categories,options,i;if(!this.uploadcat){categories=this.sortCategories(constants.get('videoCategories')||[]);options=[];for(i=0;i<categories.length;i++){options.push([categories[i].id,this.language.video.category_label+': '+categories[i].name]);}
this.uploadcat=new SelectWidget({options:options});this.$uploadcat=this.$stateupload.find('.joms-fetched-category');this.assign(this.$uploadcat,this.uploadcat);}
this.inputbox.$el.find('.joms-postbox-input-placeholder').html(this.language.video.upload_hint);this.$save.html(this.language.postbox.upload_button);this.$stateurl.hide();this.$stateupload.show();this.$initial.hide();this.$main.show();this.$save.show();this.upload=true;if(App.postbox&&App.postbox.value&&App.postbox.value.length){this.inputbox.set(App.postbox.value[0]);App.postbox.value=false;}},reset:function(){DefaultView.prototype.reset.apply(this);this.url&&this.url.reset();this.inputbox&&this.inputbox.reset();this.fetcher&&this.fetcher.remove();},value:function(){this.data.text=this.inputbox.value()||'';this.data.attachment={};this.data.text=this.data.text.replace(/\n/g,'\\n');var value;for(var prop in this.subflags)
if(value=this.subviews[prop].value())
this.data.attachment[prop]=value;if(this.upload){if(this.status&&this.status.status==='success')
this.data.attachment.fetch=[this.status.videoid];}else{if(this.fetcher)
this.data.attachment.fetch=this.fetcher.value();}
return DefaultView.prototype.value.apply(this,arguments);},validate:function(){var value=this.value(true),attachment=value[1]||{},fetch=attachment.fetch;if(this.upload){if(!(this.uploadcat&&this.uploadcat.value()))
return(language.get('video.select_category')||'Please select video category.');}else{if(!fetch||!fetch.length)
return(language.get('video.invalid_url')||'Please share a valid video url.');if(!fetch[5])
return(language.get('video.select_category')||'Please select video category.');}},onPost:function(){if(this.saving)
return;var error=this.validate();if(error){window.alert(error);return;}
this.saving=true;this.$loading.show();if(this.upload===true){this.uploader.uploader.start();return;}
var that=this;var data=this.value();if(window.joms_filter_params){data.push(JSON.stringify(window.joms_filter_params));}
window.joms_postbox_posting=true;ajax({fn:'system,ajaxStreamAdd',data:data,success:$.bind(this.onPostSuccess,this),complete:function(){window.joms_postbox_posting=false;that.$loading.hide();that.saving=false;that.showInitialState();if(+window.joms_infinitescroll){$('.joms-stream__loadmore').find('a').hide()}}});},onMoodSelect:function(mood){this.inputbox.updateAttachment(mood);},onMoodRemove:function(){this.inputbox.updateAttachment(false);},onLocationSelect:function(location){this.inputbox.updateAttachment(null,location);},onLocationRemove:function(){this.inputbox.updateAttachment(null,false);},onPrivacySelect:function(data){var icon=this.$tabprivacy.find('use'),href=icon.attr('xlink:href');href=href.replace(/#.+$/,'#joms-icon-'+data.icon);this.$tabprivacy.find('use').attr('xlink:href',href);this.$tabprivacy.find('span').html(data.label);},onUrlFocus:function(){if(!this.enableUpload)
this.showMainState();},onUrlUpdate:function(text,key){var div;if(text)
text=text.replace(/^\s+|\s+$/g,'');if(key===32||key===13){this.fetch(text);}else{this.fetchProxy(text);}},onInputFocus:function(){if(!this.enableUpload)
this.showMainState();},fetchProxy:$.debounce(function(text){this.fetch(text);},1000),fetch:function(text){var div;if(this.fetcher&&(this.fetcher.fetching||this.fetcher.fetched))
return;delete this.data.attachment.fetch;div=$('<div>').appendTo(this.$fetcher);this.fetcher&&this.fetcher.remove();this.fetcher=new FetcherView();this.fetcher.setElement(div);this.listenTo(this.fetcher,'fetch:start',this.onFetchStart);this.listenTo(this.fetcher,'fetch:failed',this.onFetchFailed);this.listenTo(this.fetcher,'fetch:done',this.onFetchDone);this.listenTo(this.fetcher,'remove',this.onFetchRemove);this.fetcher.fetch(text);},onFetchStart:function(){this.saving=true;this.$loading.show();this.$save.hide();},onFetchFailed:function(resp){this.fetcher&&this.fetcher.remove();this.saving=false;this.$loading.hide();this.$save.hide();var msg=resp&&resp.msg||'Undefined error.';window.alert(msg);},onFetchDone:function(){this.saving=false;this.$loading.hide();if(this.fetcher&&this.fetcher.fetched)
this.$save.show();},onFetchRemove:function(){this.fetcher=false;this.$save.hide();},onVideoUrl:function(){this.showMainState();},onVideoInit:function(){if(this.uploader){return;}
var maxFileSize=+constants.get('conf.maxvideouploadsize')||0;if(maxFileSize){maxFileSize+='mb';}
var url='index.php?option=com_community&view=videos&task=uploadvideo';var creatortype=constants.get('videocreatortype');var settings=constants.get('settings')||{};var groupid=+constants.get('groupid');var eventid=+constants.get('eventid');if(creatortype){url+='&creatortype='+creatortype;}
if(settings.isProfile&&!settings.isMyProfile){url+='&target='+constants.get('postbox.attachment.target');}else if(+eventid>0){url+='&eventid='+eventid;}else if(+groupid>0){url+='&groupid='+groupid;}
this.uploader=new Uploader({container:'joms-js--videouploader-upload',browse_button:'joms-js--videouploader-upload-button',url:url,multi_selection:false,filters:[{title:'Video files',extensions:'3g2,3gp,asf,asx,avi,flv,mov,mp4,mpg,rm,swf,vob,wmv,m4v'}],max_file_size:maxFileSize});this.uploader.onAdded=$.bind(this.onVideoAdded,this);this.uploader.onError=$.bind(this.onVideoError,this);this.uploader.onBeforeUpload=$.bind(this.onVideoBeforeUpload,this);this.uploader.onProgress=$.bind(this.onVideoProgress,this);this.uploader.onUploaded=$.bind(this.onVideoUploaded,this);this.uploader.init();},onVideoUpload:function(){var conf=constants.get('conf')||{},limit=+conf.limitvideo,uploaded=+conf.uploadedvideo;if(uploaded>=limit){window.alert(language.get('video.upload_limit_exceeded')||'You have reached the upload limit.');return;}
this.uploader.uploader.splice();this.uploader.open();},onVideoAdded:function(up,files){if(!(files&&files.length))
return;var file=files[0],name='<b>'+file.name+'</b>',size=file.size||0,unit='Bytes';for(var units=['KB','MB','GB'];size>=1000&&units.length;){unit=units.shift();size=Math.ceil(size/1000);}
if(size)
name+=' ('+size+' '+unit+')';this.$file.html(name);this.$fileprogress.css({width:0});this.showMainState('upload');},onVideoError:function(up,file){var tmp;if(+file.code===+plupload.FILE_SIZE_ERROR){tmp=+constants.get('conf.maxvideouploadsize')||0;window.alert('Maximum file size for video upload is '+tmp+' MB.');}else if(+file.code===+plupload.FILE_EXTENSION_ERROR){window.alert('Selected file type is not permitted.');}},onVideoBeforeUpload:function(){var params={title:this.$title.val(),description:this.inputbox.value()};if(this.subflags.privacy)
params.permissions=this.subviews.privacy.value();var location=this.subflags.location&&this.subviews.location.value();if(location&&location.length)
params.location=location;if(this.uploadcat)
params.category_id=this.uploadcat&&this.uploadcat.value();this.uploader.params(params);},onVideoProgress:function(up,file){var percent=Math.min(100,Math.round(100*file.loaded/file.size));this.$fileprogress.animate({width:percent+'%'});},onVideoUploaded:function(up,file,info){var json,that;try{json=JSON.parse(info.response);}catch(e){}
this.status=json||{};that=this;setTimeout(function(){that.$loading.hide();that.saving=false;that.showInitialState();if(that.status.status!=='success'){window.alert(that.status.message||'Undefined error.');}else{var conf=constants.get('conf')||{};++conf.uploadedvideo;window.alert(that.status.processing_str);}},1000);},getTemplate:function(){var html=this.template({juri:constants.get('juri'),enable_upload:this.enableUpload,video_maxsize:constants.get('conf.maxvideouploadsize'),language:{postbox:language.get('postbox')||{},status:language.get('status')||{},video:language.get('video')||{}}});return $(html).hide();},getStaticAttachment:function(){if(this.staticAttachment)
return this.staticAttachment;this.staticAttachment=$.extend({},constants.get('postbox.attachment')||{},{type:'video'});return this.staticAttachment;},sortCategories:function(categories,parent,prefix){if(!categories||!categories.length)
return[];parent||(parent=0);prefix||(prefix='');var options=[];for(var i=0,id,name;i<categories.length;i++){if(+categories[i].parent===parent){id=+categories[i].id;name=prefix+categories[i].name;options.push({id:id,name:name});options=options.concat(this.sortCategories(categories,id,name+' &rsaquo; '));}}
return options;}});});define('views/inputbox/eventtitle',['sandbox','views/inputbox/base','utils/language'],function($,InputboxView,language){return InputboxView.extend({template:joms.jst['html/inputbox/eventtitle'],render:function(){var div=this.getTemplate();this.$el.replaceWith(div);this.setElement(div);InputboxView.prototype.render.apply(this,arguments);},getTemplate:function(){var hint=language.get('event.title_hint')||'',html=this.template({placeholder:hint});return $(html);}});});define('views/inputbox/eventdesc',['sandbox','views/inputbox/base','utils/language'],function($,InputboxView,language){return InputboxView.extend({template:joms.jst['html/inputbox/eventdesc'],render:function(){var div=this.getTemplate();this.$el.replaceWith(div);this.setElement(div);InputboxView.prototype.render.apply(this,arguments);},getTemplate:function(){var hint=language.get('status.event_hint')||'',html=this.template({placeholder:hint});return $(html);}});});define('views/dropdown/event',['sandbox','views/dropdown/base','utils/constants','utils/language'],function($,BaseView,constants,language){return BaseView.extend({template:joms.jst['html/dropdown/event'],events:{'click .joms-postbox-done':'onSave'},render:function(){var div=this.getTemplate(),ampm=+constants.get('conf.eventshowampm'),firstDay=+constants.get('conf.firstday'),timeFormatLabel=ampm?'h:i A':'H:i',translations={},categories,i;translations.monthsFull=[language.get('datepicker.january'),language.get('datepicker.february'),language.get('datepicker.march'),language.get('datepicker.april'),language.get('datepicker.may'),language.get('datepicker.june'),language.get('datepicker.july'),language.get('datepicker.august'),language.get('datepicker.september'),language.get('datepicker.october'),language.get('datepicker.november'),language.get('datepicker.december')];translations.monthsShort=[];for(i=0;i<translations.monthsFull.length;i++)
translations.monthsShort[i]=translations.monthsFull[i].substr(0,3);translations.weekdaysFull=[language.get('datepicker.sunday'),language.get('datepicker.monday'),language.get('datepicker.tuesday'),language.get('datepicker.wednesday'),language.get('datepicker.thursday'),language.get('datepicker.friday'),language.get('datepicker.saturday')];translations.weekdaysShort=[];for(i=0;i<translations.weekdaysFull.length;i++)
translations.weekdaysShort[i]=translations.weekdaysFull[i].substr(0,3);translations.today=language.get('datepicker.today');translations['clear']=language.get('datepicker.clear');translations.firstDay=firstDay;translations.selectYears=200;translations.selectMonths=true;this.$el.replaceWith(div);this.setElement(div);this.$category=this.$('.joms-event-category').empty();this.$location=this.$('[name=location]').val('');this.$startdate=this.$('.joms-pickadate-startdate').pickadate($.extend({},translations,{min:new Date(),format:'d mmmm yyyy',klass:{frame:'picker__frame startDate'}}));this.$starttime=this.$('.joms-pickadate-starttime').pickatime({interval:15,format:timeFormatLabel,formatLabel:timeFormatLabel,klass:{frame:'picker__frame startTime'}});this.$enddate=this.$('.joms-pickadate-enddate').pickadate($.extend({},translations,{format:'d mmmm yyyy',klass:{frame:'picker__frame endDate'}}));this.$endtime=this.$('.joms-pickadate-endtime').pickatime({interval:15,format:timeFormatLabel,formatLabel:timeFormatLabel,klass:{frame:'picker__frame endTime'}});this.$done=this.$('.joms-event-done');categories=constants.get('eventCategories')||[];if(categories&&categories.length){for(i=0;i<categories.length;i++){this.$category.append('<option value="'+categories[i].id+'">'+categories[i].name+'</option>');}}
this.startdate=this.$startdate.pickadate('picker');this.starttime=this.$starttime.pickatime('picker');this.enddate=this.$enddate.pickadate('picker');this.endtime=this.$endtime.pickatime('picker');this.startdate.on({set:$.bind(this.onSetStartDate,this)});this.starttime.on({set:$.bind(this.onSetStartTime,this)});this.enddate.on({set:$.bind(this.onSetEndDate,this)});this.endtime.on({set:$.bind(this.onSetEndTime,this)});return this;},value:function(){return this.data;},reset:function(){this.$category.val(this.$category.find('option').eq(0).attr('value'));this.$location.val('');this.$startdate.val('');this.$starttime.val('');this.$enddate.val('');this.$endtime.val('');},onSetStartDate:function(o){var ts=o.select;this.enddate.set({min:new Date(ts)},{muted:true});this._checkTime();},onSetEndDate:function(o){var ts=o.select;this.startdate.set({max:new Date(ts)},{muted:true});this._checkTime();},onSetStartTime:function(){this._checkTime('start');},onSetEndTime:function(){this._checkTime('end');},onSave:function(){var category=this.$category.val(),location=this.$location.val(),startdate=this.startdate.get('select'),starttime=this.starttime.get('select'),enddate=this.enddate.get('select'),endtime=this.endtime.get('select'),error;category=[category,this.$category.find('[value='+category+']').text()];startdate&&(startdate=[this.startdate.get('select','yyyy-mm-dd'),this.startdate.get('value')]);starttime&&(starttime=[this.starttime.get('select','HH:i'),this.starttime.get('value')]);enddate&&(enddate=[this.enddate.get('select','yyyy-mm-dd'),this.enddate.get('value')]);endtime&&(endtime=[this.endtime.get('select','HH:i'),this.endtime.get('value')]);this.data={category:category,location:location,startdate:startdate,starttime:starttime,enddate:enddate,endtime:endtime,allday:false};if(!this.data.category){error=language.get('event.category_not_selected');}else if(!this.data.location){error=language.get('event.location_not_selected');}else if(!this.data.startdate){error=language.get('event.start_date_not_selected');}else if(!this.data.starttime){error=language.get('event.end_date_not_selected');}else if(!this.data.enddate){error=language.get('event.start_time_not_selected');}else if(!this.data.endtime){error=language.get('event.end_time_not_selected');}
if(error){window.alert(error);return;}
this.trigger('select',this.data);this.hide();},getTemplate:function(){var html=this.template({language:{event:language.get('event')||{}}});return $(html).hide();},_checkTime:function(){var startdate=this.startdate.get('select'),enddate=this.enddate.get('select'),starttime,endtime;if(!startdate||!enddate)
return;if(enddate.year<=startdate.year&&enddate.month<=startdate.month&&enddate.date<=startdate.date){starttime=this.starttime.get('select');endtime=this.endtime.get('select');if(!starttime){this.endtime.set({min:false},{muted:true});}else{this.endtime.set({min:[starttime.hour,starttime.mins]},{muted:true});if(endtime&&endtime.time<starttime.time)
this.endtime.set({select:[starttime.hour,starttime.mins]},{muted:true});}
if(!endtime){this.starttime.set({max:false},{muted:true});}else{this.starttime.set({max:[endtime.hour,endtime.mins]},{muted:true});if(starttime&&starttime.time>endtime.time)
this.starttime.set({select:[endtime.hour,endtime.mins]},{muted:true});}}else{this.starttime.set({max:false},{muted:true});this.endtime.set({min:false},{muted:true});}}});});define('utils/format',['sandbox'],function($){function pad(str,len,padStr){if(!$.isString(str))
return str;if(!$.isNumber(len)||str.length>=len)
return str;len=len-str.length;for(var i=0;i<len;i++)
str=(padStr||' ')+str;return str;}
return{pad:pad};});define('views/postbox/event',['sandbox','views/postbox/default','views/inputbox/eventtitle','views/inputbox/eventdesc','views/dropdown/event','utils/constants','utils/format','utils/language'],function($,DefaultView,TitleView,InputboxView,EventView,constants,format,language){return DefaultView.extend({subviews:{event:EventView},template:joms.jst['html/postbox/event'],events:$.extend({},DefaultView.prototype.events,{'click .joms-postbox-event-title':'onFocus'}),render:function(){DefaultView.prototype.render.apply(this);this.$title=this.$('.joms-postbox-title');this.$inputbox=this.$('.joms-postbox-inputbox');this.$category=this.$('.joms-postbox-event-label-category');this.$location=this.$('.joms-postbox-event-label-location');this.$date=this.$('.joms-postbox-event-label-date');this.title=new TitleView();this.assign(this.$title,this.title);this.listenTo(this.title,'focus',this.onInputFocus);this.listenTo(this.title,'keydown',this.onNewInputUpdate);this.inputbox=new InputboxView({charcount:true});this.assign(this.$inputbox,this.inputbox);this.listenTo(this.inputbox,'focus',this.onInputFocus);this.listenTo(this.inputbox,'keydown',this.onNewInputUpdate);return this;},reset:function(){DefaultView.prototype.reset.apply(this);this.title&&this.title.reset();this.inputbox&&this.inputbox.reset();this.$category&&this.onEventSelect({});},value:function(){this.data.text=this.inputbox.value()||'';this.data.attachment={};var value;for(var prop in this.subflags)
if(value=this.subviews[prop].value())
this.data.attachment[prop]=value;var starttime=(this._data.starttime||'').split(':');var endtime=(this._data.endtime||'').split(':');$.extend(this.data.attachment,{title:this.title.value(),catid:this._data.category&&this._data.category[0]||null,location:this._data.location,startdate:this._data.startdate,enddate:this._data.enddate,allday:false,'starttime-hour':starttime[0]||null,'starttime-min':starttime[1]||null,'endtime-hour':endtime[0]||null,'endtime-min':endtime[1]||null});return DefaultView.prototype.value.apply(this,arguments);},validate:function(){var value=this.value(true),text=value[0];if(!text)
return'Event description cannot be empty.';},onInputFocus:function(){this.showMainState();},onInputUpdate:$.debounce(function(){var value=this.value(true),text=value[0],attachment=value[1],show=true;if(!this.trim(attachment.title))
show=false;else if(!this.trim(text))
show=false;else if(!attachment.catid)
show=false;else if(!attachment.location)
show=false;else if(!attachment.startdate)
show=false;else if(!attachment.enddate)
show=false;else if(!attachment['starttime-hour']&&!attachment['starttime-min'])
show=false;else if(!attachment['endtime-hour']&&!attachment['endtime-min'])
show=false;this.$save[show?'show':'hide']();},300),onNewInputUpdate:$.debounce(function(){var value=this.value(true),text=value[0],attachment=value[1],show=true;if(!this.trim(attachment.title))
show=false;else if(!this.trim(text))
show=false;else if(!attachment.catid)
show=false;else if(!attachment.location)
show=false;else if(!attachment.startdate)
show=false;else if(!attachment.enddate)
show=false;else if(!attachment['starttime-hour']&&!attachment['starttime-min'])
show=false;else if(!attachment['endtime-hour']&&!attachment['endtime-min'])
show=false;this.$save[show?'show':'hide']();},300),onPost:function(){var conf=constants.get('conf')||{},limit=+conf.limitevent,created=+conf.createdevent,message;if(created>=limit){message=language.get('event.create_limit_exceeded')||'You have reached the event creation limit.';message=message.replace('%1$s',limit);window.alert(message);return;}
DefaultView.prototype.onPost.apply(this,arguments);},onPostSuccess:function(){DefaultView.prototype.onPostSuccess.apply(this,arguments);var conf=constants.get('conf')||{};conf.createdevent=+conf.createdevent+1;},onEventSelect:function(data){if(!data.category){this.$category.hide();}else{this.$category.find('.joms-input-text').html(data.category&&data.category[1]);this.$category.show();}
if(!data.location){this.$location.hide();}else{this.$location.find('.joms-input-text').html(data.location);this.$location.show();}
var str=[];if(!data.startdate||!data.enddate){this.$date.hide();}else{str.push(data.startdate[1]+' '+data.starttime[1]);str.push(data.enddate[1]+' '+data.endtime[1]);this.$date.find('.joms-input-text').html(str.join(' &mdash; '));this.$date.show();}
data.startdate&&(data.startdate=data.startdate[0]);data.starttime&&(data.starttime=data.starttime[0]);data.enddate&&(data.enddate=data.enddate[0]);data.endtime&&(data.endtime=data.endtime[0]);this._data=data;this.onInputUpdate();},onPrivacySelect:function(data){var icon=this.$tabprivacy.find('use'),href=icon.attr('xlink:href');href=href.replace(/#.+$/,'#joms-icon-'+data.icon);this.$tabprivacy.find('use').attr('xlink:href',href);this.$tabprivacy.find('span').html(data.label);},parseResponse:function(response){var elid='activity-stream-container',data,temp;if(response&&response.length){for(var i=0;i<response.length;i++){if(response[i][1]===elid){data=response[i][3];}
if(response[i][0]==='al'){temp=response[i][3];window.alert($.isArray(temp)?temp.join('. '):temp);}
if(response[i][1]==='__throwError'){temp=response[i][3];window.alert($.isArray(temp)?temp.join('. '):temp);}
if(response[i][0]==='cs'){try{eval(response[i][1]);}catch(e){}}}}
return data;},getTemplate:function(){var lang=language.get('event')||{};if(lang.event_detail)
lang.event_detail=lang.event_detail.toLowerCase();var html=this.template({juri:constants.get('juri'),language:{postbox:language.get('postbox')||{},event:lang}});return $(html).hide();},getStaticAttachment:function(){if(this.staticAttachment)
return this.staticAttachment;this.staticAttachment=$.extend({},constants.get('postbox.attachment')||{},{type:'event'});return this.staticAttachment;},trim:function(text){return(text||'').replace(/^\s+|\s+$/g,'');}});});define('views/postbox/custom',['sandbox','views/postbox/default','views/dropdown/privacy','utils/ajax','utils/constants','utils/language'],function($,DefaultView,PrivacyView,ajax,constants,language){return DefaultView.extend({subviews:{privacy:PrivacyView},template:joms.jst['html/postbox/custom'],events:$.extend({},DefaultView.prototype.events,{'click .joms-postbox-predefined-message':'onCustomPredefined','click .joms-postbox-custom-message':'onCustomCustom','keyup [name=custom]':'onTextareaUpdate'}),initialize:function(){var settings=constants.get('settings')||{};if(this.inheritPrivacy=(settings.isGroup||settings.isEvent||!settings.isMyProfile))
this.subviews=$.omit(this.subviews,'privacy');DefaultView.prototype.initialize.apply(this);this.attachment={type:'custom'};$.extend(this.attachment,constants.get('postbox.attachment')||{});},render:function(){DefaultView.prototype.render.apply(this);this.$initial=this.$el.children('.joms-postbox-inner-panel');this.$main=this.$el.children('.joms-postbox-custom');this.$statepredefined=this.$('.joms-postbox-custom-state-predefined');this.$statecustom=this.$('.joms-postbox-custom-state-custom');this.$predefined=this.$('[name=predefined]');this.$custom=this.$('[name=custom]');this.$divs=this.$('.joms-postbox-dropdown').hide();this.$tabprivacy=this.$tabs.find('[data-tab=privacy]');if(this.inheritPrivacy)
this.$tabprivacy.css({visibility:'hidden'});if(!this.inheritPrivacy){this.initSubview('privacy',{privacylist:['public','site_members']});this.subviews.privacy.setPrivacy('public');}
return this;},showInitialState:function(){this.$main.hide();this.$initial.show();DefaultView.prototype.showInitialState.apply(this);},showMainState:function(predefined){DefaultView.prototype.showMainState.apply(this);predefined?this.showPredefinedState():this.showCustomState();},showPredefinedState:function(){this.$initial.hide();this.$statepredefined.show();this.$statecustom.hide();this.$main.show();this.$save.show();this.predefined=true;},showCustomState:function(){this.$initial.hide();this.$statepredefined.hide();this.$statecustom.show();this.$main.show();this.predefined=false;},reset:function(){DefaultView.prototype.reset.apply(this);this.$predefined&&this.$predefined.val(this.$predefined.find('option:first').val());this.$custom&&this.$custom.val('');},value:function(){var data=[];if(this.predefined){data.push(this.$predefined.val());data.push(this.$predefined.find('option:selected').text());}else{data.push('system.message');data.push(this.$custom.val().replace(/\n/g,'\\n'));}
if('privacy'in this.subflags)
data.push(this.subviews.privacy.value());return data;},validate:function(){var value=this.value(),error;if(this.predefined){value[0]||(error='Predefined message cannot be empty.');}else{value[1]||(error='Custom message cannot be empty.');}
return error;},onTextareaUpdate:function(){var value=this.$custom.val();value=value.replace(/^\s+|\s+$/g,'');this.$save[value?'show':'hide']();},onCustomPredefined:function(){this.showMainState('predefined');},onCustomCustom:function(){this.showMainState();},onPost:function(){if(this.saving)
return;var error=this.validate();if(error){window.alert(error);return;}
this.saving=true;this.$loading.show();var that=this;ajax({fn:'activities,ajaxAddPredefined',data:this.value(),success:$.bind(this.onPostSuccess,this),complete:function(){that.$loading.hide();that.saving=false;that.showInitialState();}});},onPrivacySelect:function(data){var icon=this.$tabprivacy.find('use'),href=icon.attr('xlink:href');href=href.replace(/#.+$/,'#joms-icon-'+data.icon);this.$tabprivacy.find('use').attr('xlink:href',href);this.$tabprivacy.find('span').html(data.label);},getTemplate:function(){var obj=constants.get('customActivities')||{},messages=[];for(var prop in obj)
messages.push([prop,obj[prop]]);var html=this.template({juri:constants.get('juri'),messages:messages,language:{postbox:language.get('postbox'),custom:language.get('custom')}});return $(html).hide();}});});define('views/postbox/layout',['sandbox','views/base','views/postbox/status','views/postbox/photo','views/postbox/video','views/postbox/event','views/postbox/file','views/postbox/custom','utils/constants','utils/language'],function($,BaseView,StatusView,PhotoView,VideoView,EventView,FileView,CustomView,constants,language){return BaseView.extend({subflags:{},subviews:{status:StatusView,photo:PhotoView,video:VideoView,event:EventView,file:FileView,custom:CustomView},events:{'click .joms-postbox-tab-root li':'onChangeTab'},initialize:function(){this.listenTo($,'postbox:status',this.onOpenStatusTab);this.listenTo($,'postbox:photo',this.onOpenPhotoTab);this.listenTo($,'postbox:video',this.onOpenVideoTab);this.listenTo($,'postbox:file',this.onOpenFileTab);},render:function(){var settings=constants.get('settings')||{},conf=constants.get('conf')||{};if(!settings.isAdmin||!conf.enablecustoms)
this.subviews=$.omit(this.subviews,'custom');if(settings.isProfile&&!settings.isMyProfile)
this.subviews=$.pick(this.subviews,'status','photo','video','file');if(settings.isEvent)
this.subviews=$.omit(this.subviews,'event');if(settings.isProfile||settings.isGroup||settings.isEvent){conf.enablephotos||(this.subviews=$.omit(this.subviews,'photo'));conf.enablevideos||(this.subviews=$.omit(this.subviews,'video'));conf.enableevents||(this.subviews=$.omit(this.subviews,'event'));conf.enablefiles||(this.subviews=$.omit(this.subviews,'file'));}
this.subkeys=$.keys(this.subviews);this.$subviews=this.$('.joms-postbox-tabs');this.$tab=this.$('.joms-postbox-tab-root').hide();var that=this;this.$tab.find('li').each(function(){var elem=$(this),key=elem.data('tab');if(that.subkeys.indexOf(key)<0)
elem.remove();});if(this.subkeys&&this.subkeys.length)
this.changeTab(this.subkeys[0]);},show:function(){this.$el[$.isMobile?'show':'fadeIn']();},changeTab:function(type){if(!this.subviews[type])
return;var elem=this.$tab.find('li[data-tab='+type+']');if(elem&&elem.length){elem.hasClass('active')||elem.addClass('active');elem.siblings('.active').removeClass('active');}
if(!this.subflags[type])
this.initSubview(type);for(var prop in this.subflags)
if(prop!==type)
this.subviews[prop].hide();this.subviews[type].show();this.type=type;$.trigger('postbox:tab:change',type);},onChangeTab:function(e){this.changeTab($(e.currentTarget).data('tab'));},onOpenStatusTab:function(){this.changeTab('status');},onOpenPhotoTab:function(){this.changeTab('photo');},onOpenVideoTab:function(){this.changeTab('video');},onOpenFileTab:function(){this.changeTab('file');},onShowInitialState:function(){if(this.subkeys.length>1)
this.$tab.show();},onShowMainState:function(){this.$tab.hide();},initSubview:function(type){if(!this.subflags[type]){this.subviews[type]=new this.subviews[type]({single:this.subkeys.length<=1});this.assign(this.getSubviewElement(),this.subviews[type]);this.listenTo(this.subviews[type],'show:initial',this.onShowInitialState);this.listenTo(this.subviews[type],'show:main',this.onShowMainState);this.subflags[type]=true;}},getSubviewElement:function(){var div=$('<div>').hide().appendTo(this.$subviews);return div;}});});define('views/stream/filterbar',['sandbox','views/base','utils/ajax'],function($,BaseView,ajax){return BaseView.extend({render:function(){this.$btn=$('.joms-activity-filter-action');this.$list=$('.joms-activity-filter-dropdown');this.$options=$('.joms-activity-filter__options');this.$btn.on('click',$.bind(this.toggle,this));this.$list.on('click','li',$.bind(this.select,this));this.$list.on('change','select',$.bind(this.filterChange,this));this.$list.on('keyup','input[type=text]',$.bind(this.filterKeyup,this));this.$list.on('click','button.joms-button--primary',$.bind(this.filterSearch,this));this.$options.find('li').not('.noselect').addClass('joms-js-filterbar-item');$(document).on('click','.joms-js-filterbar-item',$.bind(this.makeDefault,this));this.listenTo($,'click',this.onDocumentClick);},toggle:function(){var collapsed=this.$list[0].style.display==='none';collapsed?this.expand():this.collapse();},expand:function(){this.$list.show();},collapse:function(){this.$list.hide();},select:function(e){var li=$(e.currentTarget),url=li.data('url')||'/',filter=li.data('filter');if(filter==='__filter__'){return;}
this.toggle();window.location=url;},filterChange:function(e){var value=e.target.value,$input=this.$list.find('input[type=text]'),$button=this.$list.find('.joms-button--primary');if(value==='hashtag'||value==='keyword'){$input.attr('placeholder',$input.data('label-'+value));$button.html($button.data('label-'+value));}},filterKeyup:function(e){var input=$(e.currentTarget),value=input.val(),newValue=value;newValue=newValue.replace(/#/g,'');if(newValue.length!==value.length){input.val(newValue);}},filterSearch:function(e){var btn,li,filter,input,value,url;e.preventDefault();e.stopPropagation();btn=$(e.currentTarget);li=btn.closest('li');filter=li.find('select').val();input=li.find('input');value=input.val().replace(/^\s+|\s+$/g,'');if(!value){return;}
if(filter==='hashtag'){value=value.split(' ');value=value[0];}
url=li.data('url'),url=url.replace('__filter__',filter);url=url.replace('__value__',value);window.location=url;},makeDefault:function(e){var btn,value,loading,json;e.preventDefault();e.stopPropagation();btn=$(e.currentTarget);value=btn.find('a').data('value');loading=this.$options.find('.noselect > img');if(loading.css('visibility')!=='hidden')
return;loading.css('visibility','visible');json={};ajax({fn:'system,ajaxDefaultUserStream',data:[value],success:function(resp){if(resp){json=resp;}},complete:$.bind(function(){if(json.error){joms.popup.info('Error',json.error);}else if(json.success){joms.popup.info('',json.message);this.$options.find('.joms-dropdown').hide();btn.addClass('active').siblings('li').removeClass('active');loading.css('visibility','hidden');}},this)});},onDocumentClick:function(elem){if(elem.closest('.joms-activity-filter').length)
return;this.collapse();}});});define('views/stream/layout',['sandbox','views/base','views/stream/filterbar'],function($,BaseView,FilterbarView){return BaseView.extend({initialize:function(){this.filterbar=new FilterbarView();},render:function(){this.filterbar.render();}});});require(['sandbox','views/postbox/layout','views/stream/layout','utils/constants'],function($,PostboxView,StreamView,constants){function initPostbox(){var el=$('.joms-postbox'),postbox;if(el.length){postbox=new PostboxView({el:el});postbox.render();postbox.show();}}
function initStream(){var stream=new StreamView();stream.render();}
function fetchAllFriends(){constants.set('friends','fetching');var timer=window.setInterval(function(){if(window.joms_friends){window.clearInterval(timer);constants.set('friends',window.joms_friends);}},200);}
$(function(){initPostbox();initStream();if(+window.joms_my_id)
fetchAllFriends();});});define("init",function(){});require.config({deps:['init']});define("bundle",function(){});}());joms_init_postbox=undefined;}


/*===============================
/plugins/system/t3/base-bs3/bootstrap/js/bootstrap.js
================================================================================*/;
/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if(typeof jQuery==='undefined'){throw new Error('Bootstrap\'s JavaScript requires jQuery')}
+function($){'use strict';var version=$.fn.jquery.split(' ')[0].split('.')
if((version[0]<2&&version[1]<9)||(version[0]==1&&version[1]==9&&version[2]<1)||(version[0]>2)){throw new Error('Bootstrap\'s JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3')}}(jQuery);+function($){'use strict';function transitionEnd(){var el=document.createElement('bootstrap')
var transEndEventNames={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'}
for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}
return false}
$.fn.emulateTransitionEnd=function(duration){var called=false
var $el=this
$(this).one('bsTransitionEnd',function(){called=true})
var callback=function(){if(!called)$($el).trigger($.support.transition.end)}
setTimeout(callback,duration)
return this}
$(function(){$.support.transition=transitionEnd()
if(!$.support.transition)return
$.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}})}(jQuery);+function($){'use strict';var dismiss='[data-dismiss="alert"]'
var Alert=function(el){$(el).on('click',dismiss,this.close)}
Alert.VERSION='3.3.6'
Alert.TRANSITION_DURATION=150
Alert.prototype.close=function(e){var $this=$(this)
var selector=$this.attr('data-target')
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
var $parent=$(selector)
if(e)e.preventDefault()
if(!$parent.length){$parent=$this.closest('.alert')}
$parent.trigger(e=$.Event('close.bs.alert'))
if(e.isDefaultPrevented())return
$parent.removeClass('in')
function removeElement(){$parent.detach().trigger('closed.bs.alert').remove()}
$.support.transition&&$parent.hasClass('fade')?$parent.one('bsTransitionEnd',removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement()}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.alert')
if(!data)$this.data('bs.alert',(data=new Alert(this)))
if(typeof option=='string')data[option].call($this)})}
var old=$.fn.alert
$.fn.alert=Plugin
$.fn.alert.Constructor=Alert
$.fn.alert.noConflict=function(){$.fn.alert=old
return this}
$(document).on('click.bs.alert.data-api',dismiss,Alert.prototype.close)}(jQuery);+function($){'use strict';var Button=function(element,options){this.$element=$(element)
this.options=$.extend({},Button.DEFAULTS,options)
this.isLoading=false}
Button.VERSION='3.3.6'
Button.DEFAULTS={loadingText:'loading...'}
Button.prototype.setState=function(state){var d='disabled'
var $el=this.$element
var val=$el.is('input')?'val':'html'
var data=$el.data()
state+='Text'
if(data.resetText==null)$el.data('resetText',$el[val]())
setTimeout($.proxy(function(){$el[val](data[state]==null?this.options[state]:data[state])
if(state=='loadingText'){this.isLoading=true
$el.addClass(d).attr(d,d)}else if(this.isLoading){this.isLoading=false
$el.removeClass(d).removeAttr(d)}},this),0)}
Button.prototype.toggle=function(){var changed=true
var $parent=this.$element.closest('[data-toggle="buttons"]')
if($parent.length){var $input=this.$element.find('input')
if($input.prop('type')=='radio'){if($input.prop('checked'))changed=false
$parent.find('.active').removeClass('active')
this.$element.addClass('active')}else if($input.prop('type')=='checkbox'){if(($input.prop('checked'))!==this.$element.hasClass('active'))changed=false
this.$element.toggleClass('active')}
$input.prop('checked',this.$element.hasClass('active'))
if(changed)$input.trigger('change')}else{this.$element.attr('aria-pressed',!this.$element.hasClass('active'))
this.$element.toggleClass('active')}}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.button')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.button',(data=new Button(this,options)))
if(option=='toggle')data.toggle()
else if(option)data.setState(option)})}
var old=$.fn.button
$.fn.button=Plugin
$.fn.button.Constructor=Button
$.fn.button.noConflict=function(){$.fn.button=old
return this}
$(document).on('click.bs.button.data-api','[data-toggle^="button"]',function(e){var $btn=$(e.target)
if(!$btn.hasClass('btn'))$btn=$btn.closest('.btn')
Plugin.call($btn,'toggle')
if(!($(e.target).is('input[type="radio"]')||$(e.target).is('input[type="checkbox"]')))e.preventDefault()}).on('focus.bs.button.data-api blur.bs.button.data-api','[data-toggle^="button"]',function(e){$(e.target).closest('.btn').toggleClass('focus',/^focus(in)?$/.test(e.type))})}(jQuery);+function($){'use strict';var Carousel=function(element,options){this.$element=$(element)
this.$indicators=this.$element.find('.carousel-indicators')
this.options=options
this.paused=null
this.sliding=null
this.interval=null
this.$active=null
this.$items=null
this.options.keyboard&&this.$element.on('keydown.bs.carousel',$.proxy(this.keydown,this))
this.options.pause=='hover'&&!('ontouchstart'in document.documentElement)&&this.$element.on('mouseenter.bs.carousel',$.proxy(this.pause,this)).on('mouseleave.bs.carousel',$.proxy(this.cycle,this))}
Carousel.VERSION='3.3.6'
Carousel.TRANSITION_DURATION=600
Carousel.DEFAULTS={interval:5000,pause:'hover',wrap:true,keyboard:true}
Carousel.prototype.keydown=function(e){if(/input|textarea/i.test(e.target.tagName))return
switch(e.which){case 37:this.prev();break
case 39:this.next();break
default:return}
e.preventDefault()}
Carousel.prototype.cycle=function(e){e||(this.paused=false)
this.interval&&clearInterval(this.interval)
this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval))
return this}
Carousel.prototype.getItemIndex=function(item){this.$items=item.parent().children('.item')
return this.$items.index(item||this.$active)}
Carousel.prototype.getItemForDirection=function(direction,active){var activeIndex=this.getItemIndex(active)
var willWrap=(direction=='prev'&&activeIndex===0)||(direction=='next'&&activeIndex==(this.$items.length-1))
if(willWrap&&!this.options.wrap)return active
var delta=direction=='prev'?-1:1
var itemIndex=(activeIndex+delta)%this.$items.length
return this.$items.eq(itemIndex)}
Carousel.prototype.to=function(pos){var that=this
var activeIndex=this.getItemIndex(this.$active=this.$element.find('.item.active'))
if(pos>(this.$items.length-1)||pos<0)return
if(this.sliding)return this.$element.one('slid.bs.carousel',function(){that.to(pos)})
if(activeIndex==pos)return this.pause().cycle()
return this.slide(pos>activeIndex?'next':'prev',this.$items.eq(pos))}
Carousel.prototype.pause=function(e){e||(this.paused=true)
if(this.$element.find('.next, .prev').length&&$.support.transition){this.$element.trigger($.support.transition.end)
this.cycle(true)}
this.interval=clearInterval(this.interval)
return this}
Carousel.prototype.next=function(){if(this.sliding)return
return this.slide('next')}
Carousel.prototype.prev=function(){if(this.sliding)return
return this.slide('prev')}
Carousel.prototype.slide=function(type,next){var $active=this.$element.find('.item.active')
var $next=next||this.getItemForDirection(type,$active)
var isCycling=this.interval
var direction=type=='next'?'left':'right'
var that=this
if($next.hasClass('active'))return(this.sliding=false)
var relatedTarget=$next[0]
var slideEvent=$.Event('slide.bs.carousel',{relatedTarget:relatedTarget,direction:direction})
this.$element.trigger(slideEvent)
if(slideEvent.isDefaultPrevented())return
this.sliding=true
isCycling&&this.pause()
if(this.$indicators.length){this.$indicators.find('.active').removeClass('active')
var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)])
$nextIndicator&&$nextIndicator.addClass('active')}
var slidEvent=$.Event('slid.bs.carousel',{relatedTarget:relatedTarget,direction:direction})
if($.support.transition&&this.$element.hasClass('slide')){$next.addClass(type)
$next[0].offsetWidth
$active.addClass(direction)
$next.addClass(direction)
$active.one('bsTransitionEnd',function(){$next.removeClass([type,direction].join(' ')).addClass('active')
$active.removeClass(['active',direction].join(' '))
that.sliding=false
setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)}else{$active.removeClass('active')
$next.addClass('active')
this.sliding=false
this.$element.trigger(slidEvent)}
isCycling&&this.cycle()
return this}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.carousel')
var options=$.extend({},Carousel.DEFAULTS,$this.data(),typeof option=='object'&&option)
var action=typeof option=='string'?option:options.slide
if(!data)$this.data('bs.carousel',(data=new Carousel(this,options)))
if(typeof option=='number')data.to(option)
else if(action)data[action]()
else if(options.interval)data.pause().cycle()})}
var old=$.fn.carousel
$.fn.carousel=Plugin
$.fn.carousel.Constructor=Carousel
$.fn.carousel.noConflict=function(){$.fn.carousel=old
return this}
var clickHandler=function(e){var href
var $this=$(this)
var $target=$($this.attr('data-target')||(href=$this.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,''))
if(!$target.hasClass('carousel'))return
var options=$.extend({},$target.data(),$this.data())
var slideIndex=$this.attr('data-slide-to')
if(slideIndex)options.interval=false
Plugin.call($target,options)
if(slideIndex){$target.data('bs.carousel').to(slideIndex)}
e.preventDefault()}
$(document).on('click.bs.carousel.data-api','[data-slide]',clickHandler).on('click.bs.carousel.data-api','[data-slide-to]',clickHandler)
$(window).on('load',function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this)
Plugin.call($carousel,$carousel.data())})})}(jQuery);+function($){'use strict';var Collapse=function(element,options){this.$element=$(element)
this.options=$.extend({},Collapse.DEFAULTS,options)
this.$trigger=$('[data-toggle="collapse"][href="#'+element.id+'"],'+'[data-toggle="collapse"][data-target="#'+element.id+'"]')
this.transitioning=null
if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}
if(this.options.toggle)this.toggle()}
Collapse.VERSION='3.3.6'
Collapse.TRANSITION_DURATION=350
Collapse.DEFAULTS={toggle:true}
Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass('width')
return hasWidth?'width':'height'}
Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass('in'))return
var activesData
var actives=this.$parent&&this.$parent.children('.panel').children('.in, .collapsing')
if(actives&&actives.length){activesData=actives.data('bs.collapse')
if(activesData&&activesData.transitioning)return}
var startEvent=$.Event('show.bs.collapse')
this.$element.trigger(startEvent)
if(startEvent.isDefaultPrevented())return
if(actives&&actives.length){Plugin.call(actives,'hide')
activesData||actives.data('bs.collapse',null)}
var dimension=this.dimension()
this.$element.removeClass('collapse').addClass('collapsing')[dimension](0).attr('aria-expanded',true)
this.$trigger.removeClass('collapsed').attr('aria-expanded',true)
this.transitioning=1
var complete=function(){this.$element.removeClass('collapsing').addClass('collapse in')[dimension]('')
this.transitioning=0
this.$element.trigger('shown.bs.collapse')}
if(!$.support.transition)return complete.call(this)
var scrollSize=$.camelCase(['scroll',dimension].join('-'))
this.$element.one('bsTransitionEnd',$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])}
Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass('in'))return
var startEvent=$.Event('hide.bs.collapse')
this.$element.trigger(startEvent)
if(startEvent.isDefaultPrevented())return
var dimension=this.dimension()
this.$element[dimension](this.$element[dimension]())[0].offsetHeight
this.$element.addClass('collapsing').removeClass('collapse in').attr('aria-expanded',false)
this.$trigger.addClass('collapsed').attr('aria-expanded',false)
this.transitioning=1
var complete=function(){this.transitioning=0
this.$element.removeClass('collapsing').addClass('collapse').trigger('hidden.bs.collapse')}
if(!$.support.transition)return complete.call(this)
this.$element
[dimension](0).one('bsTransitionEnd',$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)}
Collapse.prototype.toggle=function(){this[this.$element.hasClass('in')?'hide':'show']()}
Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){var $element=$(element)
this.addAriaAndCollapsedClass(getTargetFromTrigger($element),$element)},this)).end()}
Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass('in')
$element.attr('aria-expanded',isOpen)
$trigger.toggleClass('collapsed',!isOpen).attr('aria-expanded',isOpen)}
function getTargetFromTrigger($trigger){var href
var target=$trigger.attr('data-target')||(href=$trigger.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,'')
return $(target)}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.collapse')
var options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=='object'&&option)
if(!data&&options.toggle&&/show|hide/.test(option))options.toggle=false
if(!data)$this.data('bs.collapse',(data=new Collapse(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.collapse
$.fn.collapse=Plugin
$.fn.collapse.Constructor=Collapse
$.fn.collapse.noConflict=function(){$.fn.collapse=old
return this}
$(document).on('click.bs.collapse.data-api','[data-toggle="collapse"]',function(e){var $this=$(this)
if(!$this.attr('data-target'))e.preventDefault()
var $target=getTargetFromTrigger($this)
var data=$target.data('bs.collapse')
var option=data?'toggle':$this.data()
Plugin.call($target,option)})}(jQuery);+function($){'use strict';var backdrop='.dropdown-backdrop'
var toggle='[data-toggle="dropdown"]'
var Dropdown=function(element){$(element).on('click.bs.dropdown',this.toggle)}
Dropdown.VERSION='3.3.6'
function getParent($this){var selector=$this.attr('data-target')
if(!selector){selector=$this.attr('href')
selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,'')}
var $parent=selector&&$(selector)
return $parent&&$parent.length?$parent:$this.parent()}
function clearMenus(e){if(e&&e.which===3)return
$(backdrop).remove()
$(toggle).each(function(){var $this=$(this)
var $parent=getParent($this)
var relatedTarget={relatedTarget:this}
if(!$parent.hasClass('open'))return
if(e&&e.type=='click'&&/input|textarea/i.test(e.target.tagName)&&$.contains($parent[0],e.target))return
$parent.trigger(e=$.Event('hide.bs.dropdown',relatedTarget))
if(e.isDefaultPrevented())return
$this.attr('aria-expanded','false')
$parent.removeClass('open').trigger($.Event('hidden.bs.dropdown',relatedTarget))})}
Dropdown.prototype.toggle=function(e){var $this=$(this)
if($this.is('.disabled, :disabled'))return
var $parent=getParent($this)
var isActive=$parent.hasClass('open')
clearMenus()
if(!isActive){if('ontouchstart'in document.documentElement&&!$parent.closest('.navbar-nav').length){$(document.createElement('div')).addClass('dropdown-backdrop').insertAfter($(this)).on('click',clearMenus)}
var relatedTarget={relatedTarget:this}
$parent.trigger(e=$.Event('show.bs.dropdown',relatedTarget))
if(e.isDefaultPrevented())return
$this.trigger('focus').attr('aria-expanded','true')
$parent.toggleClass('open').trigger($.Event('shown.bs.dropdown',relatedTarget))}
return false}
Dropdown.prototype.keydown=function(e){if(!/(38|40|27|32)/.test(e.which)||/input|textarea/i.test(e.target.tagName))return
var $this=$(this)
e.preventDefault()
e.stopPropagation()
if($this.is('.disabled, :disabled'))return
var $parent=getParent($this)
var isActive=$parent.hasClass('open')
if(!isActive&&e.which!=27||isActive&&e.which==27){if(e.which==27)$parent.find(toggle).trigger('focus')
return $this.trigger('click')}
var desc=' li:not(.disabled):visible a'
var $items=$parent.find('.dropdown-menu'+desc)
if(!$items.length)return
var index=$items.index(e.target)
if(e.which==38&&index>0)index--
if(e.which==40&&index<$items.length-1)index++
if(!~index)index=0
$items.eq(index).trigger('focus')}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.dropdown')
if(!data)$this.data('bs.dropdown',(data=new Dropdown(this)))
if(typeof option=='string')data[option].call($this)})}
var old=$.fn.dropdown
$.fn.dropdown=Plugin
$.fn.dropdown.Constructor=Dropdown
$.fn.dropdown.noConflict=function(){$.fn.dropdown=old
return this}
$(document).on('click.bs.dropdown.data-api',clearMenus).on('click.bs.dropdown.data-api','.dropdown form',function(e){e.stopPropagation()}).on('click.bs.dropdown.data-api',toggle,Dropdown.prototype.toggle).on('keydown.bs.dropdown.data-api',toggle,Dropdown.prototype.keydown).on('keydown.bs.dropdown.data-api','.dropdown-menu',Dropdown.prototype.keydown)}(jQuery);+function($){'use strict';var Modal=function(element,options){this.options=options
this.$body=$(document.body)
this.$element=$(element)
this.$dialog=this.$element.find('.modal-dialog')
this.$backdrop=null
this.isShown=null
this.originalBodyPad=null
this.scrollbarWidth=0
this.ignoreBackdropClick=false
if(this.options.remote){this.$element.find('.modal-content').load(this.options.remote,$.proxy(function(){this.$element.trigger('loaded.bs.modal')},this))}}
Modal.VERSION='3.3.6'
Modal.TRANSITION_DURATION=300
Modal.BACKDROP_TRANSITION_DURATION=150
Modal.DEFAULTS={backdrop:true,keyboard:true,show:true}
Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)}
Modal.prototype.show=function(_relatedTarget){var that=this
var e=$.Event('show.bs.modal',{relatedTarget:_relatedTarget})
this.$element.trigger(e)
if(this.isShown||e.isDefaultPrevented())return
this.isShown=true
this.checkScrollbar()
this.setScrollbar()
this.$body.addClass('modal-open')
this.escape()
this.resize()
this.$element.on('click.dismiss.bs.modal','[data-dismiss="modal"]',$.proxy(this.hide,this))
this.$dialog.on('mousedown.dismiss.bs.modal',function(){that.$element.one('mouseup.dismiss.bs.modal',function(e){if($(e.target).is(that.$element))that.ignoreBackdropClick=true})})
this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass('fade')
if(!that.$element.parent().length){that.$element.appendTo(that.$body)}
that.$element.show().scrollTop(0)
that.adjustDialog()
if(transition){that.$element[0].offsetWidth}
that.$element.addClass('in')
that.enforceFocus()
var e=$.Event('shown.bs.modal',{relatedTarget:_relatedTarget})
transition?that.$dialog.one('bsTransitionEnd',function(){that.$element.trigger('focus').trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger('focus').trigger(e)})}
Modal.prototype.hide=function(e){if(e)e.preventDefault()
e=$.Event('hide.bs.modal')
this.$element.trigger(e)
if(!this.isShown||e.isDefaultPrevented())return
this.isShown=false
this.escape()
this.resize()
$(document).off('focusin.bs.modal')
this.$element.removeClass('in').off('click.dismiss.bs.modal').off('mouseup.dismiss.bs.modal')
this.$dialog.off('mousedown.dismiss.bs.modal')
$.support.transition&&this.$element.hasClass('fade')?this.$element.one('bsTransitionEnd',$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal()}
Modal.prototype.enforceFocus=function(){$(document).off('focusin.bs.modal').on('focusin.bs.modal',$.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger('focus')}},this))}
Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on('keydown.dismiss.bs.modal',$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off('keydown.dismiss.bs.modal')}}
Modal.prototype.resize=function(){if(this.isShown){$(window).on('resize.bs.modal',$.proxy(this.handleUpdate,this))}else{$(window).off('resize.bs.modal')}}
Modal.prototype.hideModal=function(){var that=this
this.$element.hide()
this.backdrop(function(){that.$body.removeClass('modal-open')
that.resetAdjustments()
that.resetScrollbar()
that.$element.trigger('hidden.bs.modal')})}
Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove()
this.$backdrop=null}
Modal.prototype.backdrop=function(callback){var that=this
var animate=this.$element.hasClass('fade')?'fade':''
if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate
this.$backdrop=$(document.createElement('div')).addClass('modal-backdrop '+animate).appendTo(this.$body)
this.$element.on('click.dismiss.bs.modal',$.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false
return}
if(e.target!==e.currentTarget)return
this.options.backdrop=='static'?this.$element[0].focus():this.hide()},this))
if(doAnimate)this.$backdrop[0].offsetWidth
this.$backdrop.addClass('in')
if(!callback)return
doAnimate?this.$backdrop.one('bsTransitionEnd',callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass('in')
var callbackRemove=function(){that.removeBackdrop()
callback&&callback()}
$.support.transition&&this.$element.hasClass('fade')?this.$backdrop.one('bsTransitionEnd',callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else if(callback){callback()}}
Modal.prototype.handleUpdate=function(){this.adjustDialog()}
Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight
this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:'',paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:''})}
Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:'',paddingRight:''})}
Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth
if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect()
fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}
this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth
this.scrollbarWidth=this.measureScrollbar()}
Modal.prototype.setScrollbar=function(){var bodyPad=parseInt((this.$body.css('padding-right')||0),10)
this.originalBodyPad=document.body.style.paddingRight||''
if(this.bodyIsOverflowing)this.$body.css('padding-right',bodyPad+this.scrollbarWidth)}
Modal.prototype.resetScrollbar=function(){this.$body.css('padding-right',this.originalBodyPad)}
Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement('div')
scrollDiv.className='modal-scrollbar-measure'
this.$body.append(scrollDiv)
var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth
this.$body[0].removeChild(scrollDiv)
return scrollbarWidth}
function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this)
var data=$this.data('bs.modal')
var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=='object'&&option)
if(!data)$this.data('bs.modal',(data=new Modal(this,options)))
if(typeof option=='string')data[option](_relatedTarget)
else if(options.show)data.show(_relatedTarget)})}
var old=$.fn.modal
$.fn.modal=Plugin
$.fn.modal.Constructor=Modal
$.fn.modal.noConflict=function(){$.fn.modal=old
return this}
$(document).on('click.bs.modal.data-api','[data-toggle="modal"]',function(e){var $this=$(this)
var href=$this.attr('href')
var $target=$($this.attr('data-target')||(href&&href.replace(/.*(?=#[^\s]+$)/,'')))
var option=$target.data('bs.modal')?'toggle':$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data())
if($this.is('a'))e.preventDefault()
$target.one('show.bs.modal',function(showEvent){if(showEvent.isDefaultPrevented())return
$target.one('hidden.bs.modal',function(){$this.is(':visible')&&$this.trigger('focus')})})
Plugin.call($target,option,this)})}(jQuery);+function($){'use strict';var Tooltip=function(element,options){this.type=null
this.options=null
this.enabled=null
this.timeout=null
this.hoverState=null
this.$element=null
this.inState=null
this.init('tooltip',element,options)}
Tooltip.VERSION='3.3.6'
Tooltip.TRANSITION_DURATION=150
Tooltip.DEFAULTS={animation:true,placement:'top',selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover focus',title:'',delay:0,html:false,container:false,viewport:{selector:'body',padding:0}}
Tooltip.prototype.init=function(type,element,options){this.enabled=true
this.type=type
this.$element=$(element)
this.options=this.getOptions(options)
this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):(this.options.viewport.selector||this.options.viewport))
this.inState={click:false,hover:false,focus:false}
if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error('`selector` option must be specified when initializing '+this.type+' on the window.document object!')}
var triggers=this.options.trigger.split(' ')
for(var i=triggers.length;i--;){var trigger=triggers[i]
if(trigger=='click'){this.$element.on('click.'+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!='manual'){var eventIn=trigger=='hover'?'mouseenter':'focusin'
var eventOut=trigger=='hover'?'mouseleave':'focusout'
this.$element.on(eventIn+'.'+this.type,this.options.selector,$.proxy(this.enter,this))
this.$element.on(eventOut+'.'+this.type,this.options.selector,$.proxy(this.leave,this))}}
this.options.selector?(this._options=$.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle()}
Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS}
Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options)
if(options.delay&&typeof options.delay=='number'){options.delay={show:options.delay,hide:options.delay}}
return options}
Tooltip.prototype.getDelegateOptions=function(){var options={}
var defaults=this.getDefaults()
this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value})
return options}
Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions())
$(obj.currentTarget).data('bs.'+this.type,self)}
if(obj instanceof $.Event){self.inState[obj.type=='focusin'?'focus':'hover']=true}
if(self.tip().hasClass('in')||self.hoverState=='in'){self.hoverState='in'
return}
clearTimeout(self.timeout)
self.hoverState='in'
if(!self.options.delay||!self.options.delay.show)return self.show()
self.timeout=setTimeout(function(){if(self.hoverState=='in')self.show()},self.options.delay.show)}
Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState){if(this.inState[key])return true}
return false}
Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions())
$(obj.currentTarget).data('bs.'+this.type,self)}
if(obj instanceof $.Event){self.inState[obj.type=='focusout'?'focus':'hover']=false}
if(self.isInStateTrue())return
clearTimeout(self.timeout)
self.hoverState='out'
if(!self.options.delay||!self.options.delay.hide)return self.hide()
self.timeout=setTimeout(function(){if(self.hoverState=='out')self.hide()},self.options.delay.hide)}
Tooltip.prototype.show=function(){var e=$.Event('show.bs.'+this.type)
if(this.hasContent()&&this.enabled){this.$element.trigger(e)
var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0])
if(e.isDefaultPrevented()||!inDom)return
var that=this
var $tip=this.tip()
var tipId=this.getUID(this.type)
this.setContent()
$tip.attr('id',tipId)
this.$element.attr('aria-describedby',tipId)
if(this.options.animation)$tip.addClass('fade')
var placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement
var autoToken=/\s?auto?\s?/i
var autoPlace=autoToken.test(placement)
if(autoPlace)placement=placement.replace(autoToken,'')||'top'
$tip.detach().css({top:0,left:0,display:'block'}).addClass(placement).data('bs.'+this.type,this)
this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element)
this.$element.trigger('inserted.bs.'+this.type)
var pos=this.getPosition()
var actualWidth=$tip[0].offsetWidth
var actualHeight=$tip[0].offsetHeight
if(autoPlace){var orgPlacement=placement
var viewportDim=this.getPosition(this.$viewport)
placement=placement=='bottom'&&pos.bottom+actualHeight>viewportDim.bottom?'top':placement=='top'&&pos.top-actualHeight<viewportDim.top?'bottom':placement=='right'&&pos.right+actualWidth>viewportDim.width?'left':placement=='left'&&pos.left-actualWidth<viewportDim.left?'right':placement
$tip.removeClass(orgPlacement).addClass(placement)}
var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight)
this.applyPlacement(calculatedOffset,placement)
var complete=function(){var prevHoverState=that.hoverState
that.$element.trigger('shown.bs.'+that.type)
that.hoverState=null
if(prevHoverState=='out')that.leave(that)}
$.support.transition&&this.$tip.hasClass('fade')?$tip.one('bsTransitionEnd',complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}}
Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip()
var width=$tip[0].offsetWidth
var height=$tip[0].offsetHeight
var marginTop=parseInt($tip.css('margin-top'),10)
var marginLeft=parseInt($tip.css('margin-left'),10)
if(isNaN(marginTop))marginTop=0
if(isNaN(marginLeft))marginLeft=0
offset.top+=marginTop
offset.left+=marginLeft
$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0)
$tip.addClass('in')
var actualWidth=$tip[0].offsetWidth
var actualHeight=$tip[0].offsetHeight
if(placement=='top'&&actualHeight!=height){offset.top=offset.top+height-actualHeight}
var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight)
if(delta.left)offset.left+=delta.left
else offset.top+=delta.top
var isVertical=/top|bottom/.test(placement)
var arrowDelta=isVertical?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight
var arrowOffsetPosition=isVertical?'offsetWidth':'offsetHeight'
$tip.offset(offset)
this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)}
Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?'left':'top',50*(1-delta/dimension)+'%').css(isVertical?'top':'left','')}
Tooltip.prototype.setContent=function(){var $tip=this.tip()
var title=this.getTitle()
$tip.find('.tooltip-inner')[this.options.html?'html':'text'](title)
$tip.removeClass('fade in top bottom left right')}
Tooltip.prototype.hide=function(callback){var that=this
var $tip=$(this.$tip)
var e=$.Event('hide.bs.'+this.type)
function complete(){if(that.hoverState!='in')$tip.detach()
that.$element.removeAttr('aria-describedby').trigger('hidden.bs.'+that.type)
callback&&callback()}
this.$element.trigger(e)
if(e.isDefaultPrevented())return
$tip.removeClass('in')
$.support.transition&&$tip.hasClass('fade')?$tip.one('bsTransitionEnd',complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()
this.hoverState=null
return this}
Tooltip.prototype.fixTitle=function(){var $e=this.$element
if($e.attr('title')||typeof $e.attr('data-original-title')!='string'){$e.attr('data-original-title',$e.attr('title')||'').attr('title','')}}
Tooltip.prototype.hasContent=function(){return this.getTitle()}
Tooltip.prototype.getPosition=function($element){$element=$element||this.$element
var el=$element[0]
var isBody=el.tagName=='BODY'
var elRect=el.getBoundingClientRect()
if(elRect.width==null){elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top})}
var elOffset=isBody?{top:0,left:0}:$element.offset()
var scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()}
var outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null
return $.extend({},elRect,scroll,outerDims,elOffset)}
Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=='bottom'?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=='top'?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=='left'?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}}
Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0}
if(!this.$viewport)return delta
var viewportPadding=this.options.viewport&&this.options.viewport.padding||0
var viewportDimensions=this.getPosition(this.$viewport)
if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll
var bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight
if(topEdgeOffset<viewportDimensions.top){delta.top=viewportDimensions.top-topEdgeOffset}else if(bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height){delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset}}else{var leftEdgeOffset=pos.left-viewportPadding
var rightEdgeOffset=pos.left+viewportPadding+actualWidth
if(leftEdgeOffset<viewportDimensions.left){delta.left=viewportDimensions.left-leftEdgeOffset}else if(rightEdgeOffset>viewportDimensions.right){delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset}}
return delta}
Tooltip.prototype.getTitle=function(){var title
var $e=this.$element
var o=this.options
title=$e.attr('data-original-title')||(typeof o.title=='function'?o.title.call($e[0]):o.title)
return title}
Tooltip.prototype.getUID=function(prefix){do prefix+=~~(Math.random()*1000000)
while(document.getElementById(prefix))
return prefix}
Tooltip.prototype.tip=function(){if(!this.$tip){this.$tip=$(this.options.template)
if(this.$tip.length!=1){throw new Error(this.type+' `template` option must consist of exactly 1 top-level element!')}}
return this.$tip}
Tooltip.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find('.tooltip-arrow'))}
Tooltip.prototype.enable=function(){this.enabled=true}
Tooltip.prototype.disable=function(){this.enabled=false}
Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled}
Tooltip.prototype.toggle=function(e){var self=this
if(e){self=$(e.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(e.currentTarget,this.getDelegateOptions())
$(e.currentTarget).data('bs.'+this.type,self)}}
if(e){self.inState.click=!self.inState.click
if(self.isInStateTrue())self.enter(self)
else self.leave(self)}else{self.tip().hasClass('in')?self.leave(self):self.enter(self)}}
Tooltip.prototype.destroy=function(){var that=this
clearTimeout(this.timeout)
this.hide(function(){that.$element.off('.'+that.type).removeData('bs.'+that.type)
if(that.$tip){that.$tip.detach()}
that.$tip=null
that.$arrow=null
that.$viewport=null})}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.tooltip')
var options=typeof option=='object'&&option
if(!data&&/destroy|hide/.test(option))return
if(!data)$this.data('bs.tooltip',(data=new Tooltip(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.tooltip
$.fn.tooltip=Plugin
$.fn.tooltip.Constructor=Tooltip
$.fn.tooltip.noConflict=function(){$.fn.tooltip=old
return this}}(jQuery);+function($){'use strict';var Popover=function(element,options){this.init('popover',element,options)}
if(!$.fn.tooltip)throw new Error('Popover requires tooltip.js')
Popover.VERSION='3.3.6'
Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:'right',trigger:'click',content:'',template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'})
Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype)
Popover.prototype.constructor=Popover
Popover.prototype.getDefaults=function(){return Popover.DEFAULTS}
Popover.prototype.setContent=function(){var $tip=this.tip()
var title=this.getTitle()
var content=this.getContent()
$tip.find('.popover-title')[this.options.html?'html':'text'](title)
$tip.find('.popover-content').children().detach().end()[this.options.html?(typeof content=='string'?'html':'append'):'text'](content)
$tip.removeClass('fade top bottom left right in')
if(!$tip.find('.popover-title').html())$tip.find('.popover-title').hide()}
Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()}
Popover.prototype.getContent=function(){var $e=this.$element
var o=this.options
return $e.attr('data-content')||(typeof o.content=='function'?o.content.call($e[0]):o.content)}
Popover.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find('.arrow'))}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.popover')
var options=typeof option=='object'&&option
if(!data&&/destroy|hide/.test(option))return
if(!data)$this.data('bs.popover',(data=new Popover(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.popover
$.fn.popover=Plugin
$.fn.popover.Constructor=Popover
$.fn.popover.noConflict=function(){$.fn.popover=old
return this}}(jQuery);+function($){'use strict';function ScrollSpy(element,options){this.$body=$(document.body)
this.$scrollElement=$(element).is(document.body)?$(window):$(element)
this.options=$.extend({},ScrollSpy.DEFAULTS,options)
this.selector=(this.options.target||'')+' .nav li > a'
this.offsets=[]
this.targets=[]
this.activeTarget=null
this.scrollHeight=0
this.$scrollElement.on('scroll.bs.scrollspy',$.proxy(this.process,this))
this.refresh()
this.process()}
ScrollSpy.VERSION='3.3.6'
ScrollSpy.DEFAULTS={offset:10}
ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)}
ScrollSpy.prototype.refresh=function(){var that=this
var offsetMethod='offset'
var offsetBase=0
this.offsets=[]
this.targets=[]
this.scrollHeight=this.getScrollHeight()
if(!$.isWindow(this.$scrollElement[0])){offsetMethod='position'
offsetBase=this.$scrollElement.scrollTop()}
this.$body.find(this.selector).map(function(){var $el=$(this)
var href=$el.data('target')||$el.attr('href')
var $href=/^#./.test(href)&&$(href)
return($href&&$href.length&&$href.is(':visible')&&[[$href[offsetMethod]().top+offsetBase,href]])||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){that.offsets.push(this[0])
that.targets.push(this[1])})}
ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset
var scrollHeight=this.getScrollHeight()
var maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height()
var offsets=this.offsets
var targets=this.targets
var activeTarget=this.activeTarget
var i
if(this.scrollHeight!=scrollHeight){this.refresh()}
if(scrollTop>=maxScroll){return activeTarget!=(i=targets[targets.length-1])&&this.activate(i)}
if(activeTarget&&scrollTop<offsets[0]){this.activeTarget=null
return this.clear()}
for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(offsets[i+1]===undefined||scrollTop<offsets[i+1])&&this.activate(targets[i])}}
ScrollSpy.prototype.activate=function(target){this.activeTarget=target
this.clear()
var selector=this.selector+'[data-target="'+target+'"],'+
this.selector+'[href="'+target+'"]'
var active=$(selector).parents('li').addClass('active')
if(active.parent('.dropdown-menu').length){active=active.closest('li.dropdown').addClass('active')}
active.trigger('activate.bs.scrollspy')}
ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,'.active').removeClass('active')}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.scrollspy')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.scrollspy',(data=new ScrollSpy(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.scrollspy
$.fn.scrollspy=Plugin
$.fn.scrollspy.Constructor=ScrollSpy
$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old
return this}
$(window).on('load.bs.scrollspy.data-api',function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this)
Plugin.call($spy,$spy.data())})})}(jQuery);+function($){'use strict';var Tab=function(element){this.element=$(element)}
Tab.VERSION='3.3.6'
Tab.TRANSITION_DURATION=150
Tab.prototype.show=function(){var $this=this.element
var $ul=$this.closest('ul:not(.dropdown-menu)')
var selector=$this.data('target')
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
if($this.parent('li').hasClass('active'))return
var $previous=$ul.find('.active:last a')
var hideEvent=$.Event('hide.bs.tab',{relatedTarget:$this[0]})
var showEvent=$.Event('show.bs.tab',{relatedTarget:$previous[0]})
$previous.trigger(hideEvent)
$this.trigger(showEvent)
if(showEvent.isDefaultPrevented()||hideEvent.isDefaultPrevented())return
var $target=$(selector)
this.activate($this.closest('li'),$ul)
this.activate($target,$target.parent(),function(){$previous.trigger({type:'hidden.bs.tab',relatedTarget:$this[0]})
$this.trigger({type:'shown.bs.tab',relatedTarget:$previous[0]})})}
Tab.prototype.activate=function(element,container,callback){var $active=container.find('> .active')
var transition=callback&&$.support.transition&&($active.length&&$active.hasClass('fade')||!!container.find('> .fade').length)
function next(){$active.removeClass('active').find('> .dropdown-menu > .active').removeClass('active').end().find('[data-toggle="tab"]').attr('aria-expanded',false)
element.addClass('active').find('[data-toggle="tab"]').attr('aria-expanded',true)
if(transition){element[0].offsetWidth
element.addClass('in')}else{element.removeClass('fade')}
if(element.parent('.dropdown-menu').length){element.closest('li.dropdown').addClass('active').end().find('[data-toggle="tab"]').attr('aria-expanded',true)}
callback&&callback()}
$active.length&&transition?$active.one('bsTransitionEnd',next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next()
$active.removeClass('in')}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.tab')
if(!data)$this.data('bs.tab',(data=new Tab(this)))
if(typeof option=='string')data[option]()})}
var old=$.fn.tab
$.fn.tab=Plugin
$.fn.tab.Constructor=Tab
$.fn.tab.noConflict=function(){$.fn.tab=old
return this}
var clickHandler=function(e){e.preventDefault()
Plugin.call($(this),'show')}
$(document).on('click.bs.tab.data-api','[data-toggle="tab"]',clickHandler).on('click.bs.tab.data-api','[data-toggle="pill"]',clickHandler)}(jQuery);+function($){'use strict';var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options)
this.$target=$(this.options.target).on('scroll.bs.affix.data-api',$.proxy(this.checkPosition,this)).on('click.bs.affix.data-api',$.proxy(this.checkPositionWithEventLoop,this))
this.$element=$(element)
this.affixed=null
this.unpin=null
this.pinnedOffset=null
this.checkPosition()}
Affix.VERSION='3.3.6'
Affix.RESET='affix affix-top affix-bottom'
Affix.DEFAULTS={offset:0,target:window}
Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop()
var position=this.$element.offset()
var targetHeight=this.$target.height()
if(offsetTop!=null&&this.affixed=='top')return scrollTop<offsetTop?'top':false
if(this.affixed=='bottom'){if(offsetTop!=null)return(scrollTop+this.unpin<=position.top)?false:'bottom'
return(scrollTop+targetHeight<=scrollHeight-offsetBottom)?false:'bottom'}
var initializing=this.affixed==null
var colliderTop=initializing?scrollTop:position.top
var colliderHeight=initializing?targetHeight:height
if(offsetTop!=null&&scrollTop<=offsetTop)return'top'
if(offsetBottom!=null&&(colliderTop+colliderHeight>=scrollHeight-offsetBottom))return'bottom'
return false}
Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset
this.$element.removeClass(Affix.RESET).addClass('affix')
var scrollTop=this.$target.scrollTop()
var position=this.$element.offset()
return(this.pinnedOffset=position.top-scrollTop)}
Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)}
Affix.prototype.checkPosition=function(){if(!this.$element.is(':visible'))return
var height=this.$element.height()
var offset=this.options.offset
var offsetTop=offset.top
var offsetBottom=offset.bottom
var scrollHeight=Math.max($(document).height(),$(document.body).height())
if(typeof offset!='object')offsetBottom=offsetTop=offset
if(typeof offsetTop=='function')offsetTop=offset.top(this.$element)
if(typeof offsetBottom=='function')offsetBottom=offset.bottom(this.$element)
var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom)
if(this.affixed!=affix){if(this.unpin!=null)this.$element.css('top','')
var affixType='affix'+(affix?'-'+affix:'')
var e=$.Event(affixType+'.bs.affix')
this.$element.trigger(e)
if(e.isDefaultPrevented())return
this.affixed=affix
this.unpin=affix=='bottom'?this.getPinnedOffset():null
this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace('affix','affixed')+'.bs.affix')}
if(affix=='bottom'){this.$element.offset({top:scrollHeight-height-offsetBottom})}}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.affix')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.affix',(data=new Affix(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.affix
$.fn.affix=Plugin
$.fn.affix.Constructor=Affix
$.fn.affix.noConflict=function(){$.fn.affix=old
return this}
$(window).on('load',function(){$('[data-spy="affix"]').each(function(){var $spy=$(this)
var data=$spy.data()
data.offset=data.offset||{}
if(data.offsetBottom!=null)data.offset.bottom=data.offsetBottom
if(data.offsetTop!=null)data.offset.top=data.offsetTop
Plugin.call($spy,data)})})}(jQuery);


/*===============================
/plugins/system/t3/base-bs3/js/jquery.tap.min.js
================================================================================*/;
!function(a,b){"use strict";var c,d,e,f="._tap",g="._tapActive",h="tap",i="clientX clientY screenX screenY pageX pageY".split(" "),j={count:0,event:0},k=function(a,c){var d=c.originalEvent,e=b.Event(d);e.type=a;for(var f=0,g=i.length;g>f;f++)e[i[f]]=c[i[f]];return e},l=function(a){if(a.isTrigger)return!1;var c=j.event,d=Math.abs(a.pageX-c.pageX),e=Math.abs(a.pageY-c.pageY),f=Math.max(d,e);return a.timeStamp-c.timeStamp<b.tap.TIME_DELTA&&f<b.tap.POSITION_DELTA&&(!c.touches||1===j.count)&&o.isTracking},m=function(a){if(!e)return!1;var c=Math.abs(a.pageX-e.pageX),d=Math.abs(a.pageY-e.pageY),f=Math.max(c,d);return Math.abs(a.timeStamp-e.timeStamp)<750&&f<b.tap.POSITION_DELTA},n=function(a){if(0===a.type.indexOf("touch")){a.touches=a.originalEvent.changedTouches;for(var b=a.touches[0],c=0,d=i.length;d>c;c++)a[i[c]]=b[i[c]]}a.timeStamp=Date.now?Date.now():+new Date},o={isEnabled:!1,isTracking:!1,enable:function(){o.isEnabled||(o.isEnabled=!0,c=b(a.body).on("touchstart"+f,o.onStart).on("mousedown"+f,o.onStart).on("click"+f,o.onClick))},disable:function(){o.isEnabled&&(o.isEnabled=!1,c.off(f))},onStart:function(a){a.isTrigger||(n(a),(!b.tap.LEFT_BUTTON_ONLY||a.touches||1===a.which)&&(a.touches&&(j.count=a.touches.length),o.isTracking||(a.touches||!m(a))&&(o.isTracking=!0,j.event=a,a.touches?(e=a,c.on("touchend"+f+g,o.onEnd).on("touchcancel"+f+g,o.onCancel)):c.on("mouseup"+f+g,o.onEnd))))},onEnd:function(a){var c;a.isTrigger||(n(a),l(a)&&(c=k(h,a),d=c,b(j.event.target).trigger(c)),o.onCancel(a))},onCancel:function(a){a&&"touchcancel"===a.type&&a.preventDefault(),o.isTracking=!1,c.off(g)},onClick:function(a){return!a.isTrigger&&d&&d.isDefaultPrevented()&&d.target===a.target&&d.pageX===a.pageX&&d.pageY===a.pageY&&a.timeStamp-d.timeStamp<750?(d=null,!1):void 0}};b(a).ready(o.enable),b.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);


/*===============================
/plugins/system/t3/base-bs3/js/script.js
================================================================================*/;
!function($){if($.browser==undefined||$.browser.msie==undefined){$.browser={msie:false,version:0};if(match=navigator.userAgent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/)||navigator.userAgent.match(/Trident.*rv:([0-9]{1,}[\.0-9]{0,})/)){$.browser.msie=true;$.browser.version=match[1];}}
if($.browser.msie){$('html').addClass('ie'+Math.floor($.browser.version));}
$(document).ready(function(){if(!window.getComputedStyle){window.getComputedStyle=function(el,pseudo){this.el=el;this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;if(prop=='float')prop='styleFloat';if(re.test(prop)){prop=prop.replace(re,function(){return arguments[2].toUpperCase();});}
return el.currentStyle[prop]?el.currentStyle[prop]:null;}
return this;}}
var fromClass='body-data-holder',prop='content',$inspector=$('<div>').css('display','none').addClass(fromClass).appendTo($('body'));try{var computedStyle=window.getComputedStyle($inspector[0],':before');if(computedStyle){var attrs=computedStyle.getPropertyValue(prop);if(attrs){var matches=attrs.match(/([\da-z\-]+)/gi),data={};if(matches&&matches.length){for(var i=0;i<matches.length;i++){data[matches[i++]]=i<matches.length?matches[i]:null;}}
$('body').data(data);}}}finally{$inspector.remove();}});(function(){$.support.t3transform=(function(){var style=document.createElement('div').style,vendors=['t','webkitT','MozT','msT','OT'],transform,i=0,l=vendors.length;for(;i<l;i++){transform=vendors[i]+'ransform';if(transform in style){return transform;}}
return false;})();})();(function(){$('html').addClass('ontouchstart'in window?'touch':'no-touch');})();$(document).ready(function(){(function(){if(window.MooTools&&window.MooTools.More&&Element&&Element.implement){var mthide=Element.prototype.hide,mtshow=Element.prototype.show,mtslide=Element.prototype.slide;Element.implement({show:function(args){if(arguments.callee&&arguments.callee.caller&&arguments.callee.caller.toString().indexOf('isPropagationStopped')!==-1){return this;}
return $.isFunction(mtshow)&&mtshow.apply(this,args);},hide:function(){if(arguments.callee&&arguments.callee.caller&&arguments.callee.caller.toString().indexOf('isPropagationStopped')!==-1){return this;}
return $.isFunction(mthide)&&mthide.apply(this,arguments);},slide:function(args){if(arguments.callee&&arguments.callee.caller&&arguments.callee.caller.toString().indexOf('isPropagationStopped')!==-1){return this;}
return $.isFunction(mtslide)&&mtslide.apply(this,args);}})}})();$.fn.tooltip.Constructor&&$.fn.tooltip.Constructor.DEFAULTS&&($.fn.tooltip.Constructor.DEFAULTS.html=true);$.fn.popover.Constructor&&$.fn.popover.Constructor.DEFAULTS&&($.fn.popover.Constructor.DEFAULTS.html=true);$.fn.tooltip.defaults&&($.fn.tooltip.defaults.html=true);$.fn.popover.defaults&&($.fn.popover.defaults.html=true);(function(){if(window.jomsQuery&&jomsQuery.fn.collapse){$('[data-toggle="collapse"]').on('click',function(e){$($(this).attr('data-target')).eq(0).collapse('toggle');e.stopPropagation();return false;});jomsQuery('html, body').off('touchstart.dropdown.data-api');}})();(function(){if($.fn.chosen&&$(document.documentElement).attr('dir')=='rtl'){$('select').addClass('chzn-rtl');}})();});$(window).load(function(){if(!$(document.documentElement).hasClass('off-canvas-ready')&&($('.navbar-collapse-fixed-top').length||$('.navbar-collapse-fixed-bottom').length)){var btn=$('.btn-navbar[data-toggle="collapse"]');if(!btn.length){return;}
if(btn.data('target')){var nav=$(btn.data('target'));if(!nav.length){return;}
var fixedtop=nav.closest('.navbar-collapse-fixed-top').length;btn.on('click',function(){var wheight=(window.innerHeight||$(window).height());if(!$.support.transition){nav.parent().css('height',!btn.hasClass('collapsed')&&btn.data('t3-clicked')?'':wheight);btn.data('t3-clicked',1);}
nav.addClass('animate').css('max-height',wheight-
(fixedtop?(parseFloat(nav.css('top'))||0):(parseFloat(nav.css('bottom'))||0)));});nav.on('shown hidden',function(){nav.removeClass('animate');});}}});}(jQuery);


/*===============================
/plugins/system/t3/base-bs3/js/menu.js
================================================================================*/;
;(function($){var T3Menu=function(elm,options){this.$menu=$(elm);if(!this.$menu.length){return;}
this.options=$.extend({},$.fn.t3menu.defaults,options);this.child_open=[];this.loaded=false;this.start();};T3Menu.prototype={constructor:T3Menu,start:function(){if(this.loaded){return;}
this.loaded=true;var self=this,options=this.options,$menu=this.$menu;this.$items=$menu.find('li');this.$items.each(function(idx,li){var $item=$(this),$child=$item.children('.dropdown-menu'),$link=$item.children('a'),item={$item:$item,child:$child.length,link:$link.length,clickable:!($link.length&&$child.length),mega:$item.hasClass('mega'),status:'close',timer:null,atimer:null};$item.data('t3menu.item',item);if($child.length&&!options.hover){$item.on('click',function(e){e.stopPropagation();if($item.hasClass('group')){return;}
if(item.status=='close'){e.preventDefault();self.show(item);}});}else{$item.on('click',function(e){if($(e.target).data('toggle'))return;e.stopPropagation()});}
$item.find('a > .caret').on('click tap',function(e){item.clickable=false;});if(options.hover){$item.on('mouseover',function(e){if($item.hasClass('group'))
return;var $target=$(e.target);if($target.data('show-processed'))
return;$target.data('show-processed',true);setTimeout(function(){$target.data('show-processed',false);},10);self.show(item);}).on('mouseleave',function(e){if($item.hasClass('group'))
return;var $target=$(e.target);if($target.data('hide-processed'))
return;$target.data('hide-processed',true);setTimeout(function(){$target.data('hide-processed',false);},10);self.hide(item,$target);});if($link.length&&$child.length){$link.on('click',function(e){if(item.clickable){e.stopPropagation();}
return item.clickable;});}}});$(document.body).on('tap hideall.t3menu',function(e){clearTimeout(self.timer);self.timer=setTimeout($.proxy(self.hide_alls,self),e.type=='tap'?500:self.options.hidedelay);});$menu.find('.mega-dropdown-menu').on('hideall.t3menu',function(e){e.stopPropagation();e.preventDefault();return false;});$menu.find('input, select, textarea, label').on('click tap',function(e){e.stopPropagation();});var $megatab=$menu.find('.mega-tab');if($megatab.length){$megatab.each(function(){var $tabul=$(this).find('>div>ul'),$tabItems=$tabul.children('.dropdown-submenu'),$tabs=$tabul.find('>li>.dropdown-menu'),tabheight=0,$parentItem=$(this).closest('li');$tabItems.data('mega-tab-item',1);var megatabs=$parentItem.data('mega-tabs')?$parentItem.data('mega-tabs'):[];megatabs.push($tabul);$parentItem.data('mega-tabs',megatabs);$tabItems.first().data('mega-tab-active',true).addClass('open');var $p=$tabul.parents('.dropdown-menu');$p.each(function(){var $this=$(this);$this.data('prev-style',$this.attr('style')).css({visibility:"visible",display:"block"});})
$tabs.each(function(){var $this=$(this),thisstyle=$this.attr('style');$this.css({visibility:"hidden",display:"block"});tabheight=Math.max(tabheight,$this.children().innerHeight());if(thisstyle){$this.attr('style',thisstyle);}else{$this.removeAttr('style');}});$tabul.css('min-height',tabheight);$p.each(function(){var $this=$(this);if($this.data('prev-style'))
$this.attr('style',$this.data('prev-style'));else
$this.removeAttr('style');$this.removeData('prev-style');})})}
$menu.find('.modal').appendTo('body');},show:function(item){if(item.$item.data('mega-tab-item')){item.$item.parent().children().removeClass('open').data('mega-tab-active',false);item.$item.addClass('open').data('mega-tab-active',true);}
if($.inArray(item,this.child_open)<this.child_open.length-1){this.hide_others(item);}
$(document.body).trigger('hideall.t3menu',[this]);clearTimeout(this.timer);clearTimeout(item.timer);clearTimeout(item.ftimer);clearTimeout(item.ctimer);if(item.status!='open'||!item.$item.hasClass('open')||!this.child_open.length){if(item.mega){clearTimeout(item.astimer);clearTimeout(item.atimer);this.position(item.$item);item.astimer=setTimeout(function(){item.$item.addClass('animating')},10);item.atimer=setTimeout(function(){item.$item.removeClass('animating')},this.options.duration+50);item.timer=setTimeout(function(){item.$item.addClass('open');},100);}else{item.$item.addClass('open');}
item.status='open';if(item.child&&$.inArray(item,this.child_open)==-1){this.child_open.push(item);}}
item.ctimer=setTimeout($.proxy(this.clickable,this,item),300);},hide:function(item,$target){clearTimeout(this.timer);clearTimeout(item.timer);clearTimeout(item.astimer);clearTimeout(item.atimer);clearTimeout(item.ftimer);if($target&&$target.is('input',item.$item)){return;}
if(item.mega){item.$item.addClass('animating');item.atimer=setTimeout(function(){item.$item.removeClass('animating')},this.options.duration);item.timer=setTimeout(function(){if(!item.$item.data('mega-tab-active'))
item.$item.removeClass('open')},100);}else{item.timer=setTimeout(function(){if(!item.$item.data('mega-tab-active'))
item.$item.removeClass('open');},100);}
item.status='close';for(var i=this.child_open.length;i--;){if(this.child_open[i]===item){this.child_open.splice(i,1);}}
item.ftimer=setTimeout($.proxy(this.hidden,this,item),this.options.duration);this.timer=setTimeout($.proxy(this.hide_alls,this),this.options.hidedelay);},hidden:function(item){if(item.status=='close'){item.clickable=false;}},hide_others:function(item){var self=this;$.each(this.child_open.slice(),function(idx,open){if(!item||(open!=item&&!open.$item.has(item.$item).length)){self.hide(open);}});},hide_alls:function(e,inst){if(!e||e.type=='tap'||(e.type=='hideall'&&this!=inst)){var self=this;$.each(this.child_open.slice(),function(idx,item){item&&self.hide(item);});}},clickable:function(item){item.clickable=true;},position:function($item){var sub=$item.children('.mega-dropdown-menu'),is_show=sub.is(':visible');if(!is_show){sub.show();}
var offset=$item.offset(),width=$item.outerWidth(),screen_width=$(window).width()
-this.options.sb_width,sub_width=sub.outerWidth(),level=$item.data('level');if(!is_show){sub.css('display','');}
sub.css({left:'',right:''});if(level==1){var align=$item.data('alignsub'),align_offset=0,align_delta=0,align_trans=0;if(align=='justify'){return;}
if(!align){align='left';}
if(align=='center'){align_offset=offset.left+(width/2);if(!$.support.t3transform){align_trans=-sub_width/2;sub.css(this.options.rtl?'right':'left',align_trans+width/2);}}else{align_offset=offset.left
+((align=='left'&&this.options.rtl||align=='right'&&!this.options.rtl)?width:0);}
if(this.options.rtl){if(align=='right'){if(align_offset+sub_width>screen_width){align_delta=screen_width-align_offset
-sub_width;sub.css('left',align_delta);if(screen_width<sub_width){sub.css('left',align_delta+sub_width
-screen_width);}}}else{if(align_offset<(align=='center'?sub_width/2:sub_width)){align_delta=align_offset
-(align=='center'?sub_width/2:sub_width);sub.css('right',align_delta+align_trans);}
if(align_offset
+(align=='center'?sub_width/2:0)
-align_delta>screen_width){sub.css('right',align_offset
+(align=='center'?(sub_width+width)/2:0)+align_trans
-screen_width);}}}else{if(align=='right'){if(align_offset<sub_width){align_delta=align_offset-sub_width;sub.css('right',align_delta);if(sub_width>screen_width){sub.css('right',sub_width-screen_width
+align_delta);}}}else{if(align_offset
+(align=='center'?sub_width/2:sub_width)>screen_width){align_delta=screen_width
-align_offset
-(align=='center'?sub_width/2:sub_width);sub.css('left',align_delta+align_trans);}
if(align_offset
-(align=='center'?sub_width/2:0)
+align_delta<0){sub.css('left',(align=='center'?(sub_width+width)/2:0)
+align_trans
-align_offset);}}}}else{if(this.options.rtl){if($item.closest('.mega-dropdown-menu').parent().hasClass('mega-align-right')){if(offset.left+width+sub_width>screen_width){$item.removeClass('mega-align-right');if(offset.left-sub_width<0){sub.css('right',offset.left+width
-sub_width);}}}else{if(offset.left-sub_width<0){$item.removeClass('mega-align-left').addClass('mega-align-right');if(offset.left+width+sub_width>screen_width){sub.css('left',screen_width-offset.left
-sub_width);}}}}else{if($item.closest('.mega-dropdown-menu').parent().hasClass('mega-align-right')){if(offset.left-sub_width<0){$item.removeClass('mega-align-right');if(offset.left+width+sub_width>screen_width){sub.css('left',screen_width-offset.left
-sub_width);}}}else{if(offset.left+width+sub_width>screen_width){$item.removeClass('mega-align-left').addClass('mega-align-right');if(offset.left-sub_width<0){sub.css('right',offset.left+width
-sub_width);}}}}}}};$.fn.t3menu=function(option){return this.each(function(){var $this=$(this),data=$this.data('megamenu'),options=typeof option=='object'&&option;if($this.parents('#off-canvas-nav').length)
return;if($this.parents('#t3-off-canvas').length)
return;if(!data){$this.data('megamenu',(data=new T3Menu(this,options)));}else{if(typeof option=='string'&&data[option]){data[option]()}}})};$.fn.t3menu.defaults={duration:400,timeout:100,hidedelay:200,hover:true,sb_width:20};$(document).ready(function(){var mm_duration=$('.t3-megamenu').data('duration')||0;if(mm_duration){$('<style type="text/css">'
+'.t3-megamenu.animate .animating > .mega-dropdown-menu,'
+'.t3-megamenu.animate.slide .animating > .mega-dropdown-menu > div {'
+'transition-duration: '
+mm_duration+'ms !important;'
+'-webkit-transition-duration: '
+mm_duration+'ms !important;'
+'}'+'</style>').appendTo('head');}
var mm_timeout=mm_duration?100+mm_duration:500,mm_rtl=$(document.documentElement).attr('dir')=='rtl',mm_trigger=$(document.documentElement).hasClass('mm-hover'),sb_width=(function(){var parent=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo('body'),child=parent.children(),width=child.innerWidth()
-child.height(100).innerWidth();parent.remove();return width;})();if(!$.support.transition){$('.t3-megamenu').removeClass('animate');mm_timeout=100;}
$('ul.nav').has('.dropdown-menu').t3menu({duration:mm_duration,timeout:mm_timeout,rtl:mm_rtl,sb_width:sb_width,hover:mm_trigger});$(window).load(function(){$('ul.nav').has('.dropdown-menu').t3menu({duration:mm_duration,timeout:mm_timeout,rtl:mm_rtl,sb_width:sb_width,hover:mm_trigger});});});})(jQuery);


/*===============================
/plugins/system/t3/base-bs3/js/nav-collapse.js
================================================================================*/;
jQuery(document).ready(function($){$('.t3-navbar').each(function(){var $navwrapper=$(this),$menu=null,$placeholder=null;if($navwrapper.find('.t3-megamenu').length){$menu=$navwrapper.find('ul.level0').clone(),$placeholder=$navwrapper.prev('.navbar-collapse');if(!$placeholder.length){$placeholder=$navwrapper.closest('.container, .t3-mainnav').find('.navbar-collapse:empty');}
var lis=$menu.find('li[data-id]'),liactive=lis.filter('.current');lis.removeClass('mega dropdown mega-align-left mega-align-right mega-align-center mega-align-adjust');lis.each(function(){var $li=$(this),$child=$li.find('>:first-child');if($child[0].nodeName=='DIV'){$child.find('>:first-child').prependTo($li);$child.remove();}
if($li.data('hidewcol')){$child.find('.caret').remove();$child.nextAll().remove();return;}
var subul=$li.find('ul.level'+$li.data('level'));if(subul.length){$ul=$('<ul class="level'+$li.data('level')+' dropdown-menu">');subul.each(function(){if($(this).parents('.mega-col-nav').data('hidewcol'))return;$(this).find('>li').appendTo($ul);});if($ul.children().length){$ul.appendTo($li);}}
$li.find('>div').remove();if(!$li.children('ul').length){$child.find('.caret').remove();}
var divider=$li.hasClass('divider');for(var x in $li.data()){$li.removeAttr('data-'+x)}
$child.removeAttr('class');for(var x in $child.data()){$child.removeAttr('data-'+x)}
if(divider){$li.addClass('divider');}});liactive.addClass('current active');}else{$menu=$navwrapper.find('ul.nav').clone();$placeholder=$('.t3-navbar-collapse:empty, .navbar-collapse:empty').eq(0);}
$menu.find('a[data-toggle="dropdown"]').removeAttr('data-toggle').removeAttr('data-target');$menu.find('> li > ul.dropdown-menu').prev('a').attr('data-toggle','dropdown').attr('data-target','#').parent('li').addClass(function(){return'dropdown'+($(this).data('level')>1?' dropdown-submenu':'');});$menu.appendTo($placeholder);});});
